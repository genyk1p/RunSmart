{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://pulse/./node_modules/tiny-slider/src/helpers/raf.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/caf.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/extend.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/checkStorageValue.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/setLocalStorage.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/getBody.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/docElement.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/setFakeBody.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/resetFakeBody.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/addCSSRule.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/getCssRulesLength.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/forEach.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/classListSupport.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/hasClass.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/addClass.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/removeClass.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/hasAttr.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/getAttr.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/isNodeList.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/setAttrs.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/removeAttrs.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/arrayFromNodeList.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/hideElement.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/showElement.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/isVisible.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/whichProperty.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/getEndProperty.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/passiveOption.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/addEvents.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/removeEvents.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/events.js","webpack://pulse/./node_modules/tiny-slider/src/tiny-slider.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/calc.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/percentageLayout.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/mediaquerySupport.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/has3DTransforms.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/getSlideId.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/createStyleSheet.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/jsTransform.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/removeCSSRule.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/toDegree.js","webpack://pulse/./node_modules/tiny-slider/src/helpers/getTouchDirection.js","webpack://pulse/./src/js/modules/slider.js","webpack://pulse/./src/js/modules/cards.js","webpack://pulse/./node_modules/@upjs/facile-validator/dist/index.mjs","webpack://pulse/./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js","webpack://pulse/./node_modules/imask/esm/core/holder.js","webpack://pulse/./node_modules/imask/esm/core/change-details.js","webpack://pulse/./node_modules/imask/esm/core/utils.js","webpack://pulse/./node_modules/imask/esm/core/action-details.js","webpack://pulse/./node_modules/imask/esm/core/continuous-tail-details.js","webpack://pulse/./node_modules/imask/esm/masked/base.js","webpack://pulse/./node_modules/imask/esm/masked/factory.js","webpack://pulse/./node_modules/imask/esm/masked/pattern/input-definition.js","webpack://pulse/./node_modules/imask/esm/masked/pattern/fixed-definition.js","webpack://pulse/./node_modules/imask/esm/masked/pattern/chunk-tail-details.js","webpack://pulse/./node_modules/imask/esm/masked/pattern/cursor.js","webpack://pulse/./node_modules/imask/esm/masked/regexp.js","webpack://pulse/./node_modules/imask/esm/masked/pattern.js","webpack://pulse/./node_modules/imask/esm/masked/range.js","webpack://pulse/./node_modules/imask/esm/masked/date.js","webpack://pulse/./node_modules/imask/esm/controls/mask-element.js","webpack://pulse/./node_modules/imask/esm/controls/html-mask-element.js","webpack://pulse/./node_modules/imask/esm/controls/html-contenteditable-mask-element.js","webpack://pulse/./node_modules/imask/esm/controls/input.js","webpack://pulse/./node_modules/imask/esm/masked/enum.js","webpack://pulse/./node_modules/imask/esm/masked/number.js","webpack://pulse/./node_modules/imask/esm/masked/function.js","webpack://pulse/./node_modules/imask/esm/masked/dynamic.js","webpack://pulse/./node_modules/imask/esm/masked/pipe.js","webpack://pulse/./node_modules/imask/esm/index.js","webpack://pulse/./src/js/services/services.js","webpack://pulse/./src/js/script.js","webpack://pulse/./src/js/modules/modal.js"],"sourcesContent":["var win = window;\n\nexport var raf = win.requestAnimationFrame\n  || win.webkitRequestAnimationFrame\n  || win.mozRequestAnimationFrame\n  || win.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16); };\n","var win = window;\n\nexport var caf = win.cancelAnimationFrame\n  || win.mozCancelAnimationFrame\n  || function(id){ clearTimeout(id); };\n","export function extend() {\n  var obj, name, copy,\n      target = arguments[0] || {},\n      i = 1,\n      length = arguments.length;\n\n  for (; i < length; i++) {\n    if ((obj = arguments[i]) !== null) {\n      for (name in obj) {\n        copy = obj[name];\n\n        if (target === copy) {\n          continue;\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n  }\n  return target;\n}","export function checkStorageValue (value) {\n  return ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n}","export function setLocalStorage(storage, key, value, access) {\n  if (access) {\n    try { storage.setItem(key, value); } catch (e) {}\n  }\n  return value;\n}","export function getBody () {\n  var doc = document,\n      body = doc.body;\n\n  if (!body) {\n    body = doc.createElement('body');\n    body.fake = true;\n  }\n\n  return body;\n}","export var docElement = document.documentElement;","import { docElement } from './docElement.js';\n\nexport function setFakeBody (body) {\n  var docOverflow = '';\n  if (body.fake) {\n    docOverflow = docElement.style.overflow;\n    //avoid crashing IE8, if background image is used\n    body.style.background = '';\n    //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n    body.style.overflow = docElement.style.overflow = 'hidden';\n    docElement.appendChild(body);\n  }\n\n  return docOverflow;\n}","import { docElement } from './docElement.js';\n\nexport function resetFakeBody (body, docOverflow) {\n  if (body.fake) {\n    body.remove();\n    docElement.style.overflow = docOverflow;\n    // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n    // eslint-disable-next-line\n    docElement.offsetHeight;\n  }\n}","// cross browsers addRule method\nimport { raf } from './raf.js';\nexport function addCSSRule(sheet, selector, rules, index) {\n  // return raf(function() {\n    'insertRule' in sheet ?\n      sheet.insertRule(selector + '{' + rules + '}', index) :\n      sheet.addRule(selector, rules, index);\n  // });\n}","export function getCssRulesLength(sheet) {\n  var rule = ('insertRule' in sheet) ? sheet.cssRules : sheet.rules;\n  return rule.length;\n}","// https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\nexport function forEach (arr, callback, scope) {\n  for (var i = 0, l = arr.length; i < l; i++) {\n    callback.call(scope, arr[i], i);\n  }\n}","export var classListSupport = 'classList' in document.createElement('_');","import { classListSupport } from './classListSupport.js';\n\nvar hasClass = classListSupport ?\n    function (el, str) { return el.classList.contains(str); } :\n    function (el, str) { return el.className.indexOf(str) >= 0; };\n\nexport { classListSupport, hasClass };","import { classListSupport, hasClass } from './hasClass.js';\nvar addClass = classListSupport ?\n    function (el, str) {\n      if (!hasClass(el,  str)) { el.classList.add(str); }\n    } :\n    function (el, str) {\n      if (!hasClass(el,  str)) { el.className += ' ' + str; }\n    };\n\nexport { addClass };","import { classListSupport, hasClass } from './hasClass.js';\nvar removeClass = classListSupport ?\n    function (el, str) {\n      if (hasClass(el,  str)) { el.classList.remove(str); }\n    } :\n    function (el, str) {\n      if (hasClass(el, str)) { el.className = el.className.replace(str, ''); }\n    };\n\nexport { removeClass };","export function hasAttr(el, attr) {\n  return el.hasAttribute(attr);\n}","export function getAttr(el, attr) {\n  return el.getAttribute(attr);\n}","export function isNodeList(el) {\n  // Only NodeList has the \"item()\" function\n  return typeof el.item !== \"undefined\"; \n}","import { isNodeList } from \"./isNodeList.js\";\n\nexport function setAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  if (Object.prototype.toString.call(attrs) !== '[object Object]') { return; }\n\n  for (var i = els.length; i--;) {\n    for(var key in attrs) {\n      els[i].setAttribute(key, attrs[key]);\n    }\n  }\n}","import { isNodeList } from \"./isNodeList.js\";\n\nexport function removeAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  attrs = (attrs instanceof Array) ? attrs : [attrs];\n\n  var attrLength = attrs.length;\n  for (var i = els.length; i--;) {\n    for (var j = attrLength; j--;) {\n      els[i].removeAttribute(attrs[j]);\n    }\n  }\n}","export function arrayFromNodeList (nl) {\n  var arr = [];\n  for (var i = 0, l = nl.length; i < l; i++) {\n    arr.push(nl[i]);\n  }\n  return arr;\n}","export function hideElement(el, forceHide) {\n  if (el.style.display !== 'none') { el.style.display = 'none'; }\n}","export function showElement(el, forceHide) {\n  if (el.style.display === 'none') { el.style.display = ''; }\n}","export function isVisible(el) {\n  return window.getComputedStyle(el).display !== 'none';\n}","export function whichProperty(props){\n  if (typeof props === 'string') {\n    var arr = [props],\n        Props = props.charAt(0).toUpperCase() + props.substr(1),\n        prefixes = ['Webkit', 'Moz', 'ms', 'O'];\n        \n    prefixes.forEach(function(prefix) {\n      if (prefix !== 'ms' || props === 'transform') {\n        arr.push(prefix + Props);\n      }\n    });\n\n    props = arr;\n  }\n\n  var el = document.createElement('fakeelement'),\n      len = props.length;\n  for(var i = 0; i < props.length; i++){\n    var prop = props[i];\n    if( el.style[prop] !== undefined ){ return prop; }\n  }\n\n  return false; // explicit for ie9-\n}\n","// get transitionend, animationend based on transitionDuration\n// @propin: string\n// @propOut: string, first-letter uppercase\n// Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\nexport function getEndProperty(propIn, propOut) {\n  var endProp = false;\n  if (/^Webkit/.test(propIn)) {\n    endProp = 'webkit' + propOut + 'End';\n  } else if (/^O/.test(propIn)) {\n    endProp = 'o' + propOut + 'End';\n  } else if (propIn) {\n    endProp = propOut.toLowerCase() + 'end';\n  }\n  return endProp;\n}","// Test via a getter in the options object to see if the passive property is accessed\nvar supportsPassive = false;\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function() {\n      supportsPassive = true;\n    }\n  });\n  window.addEventListener(\"test\", null, opts);\n} catch (e) {}\nexport var passiveOption = supportsPassive ? { passive: true } : false;","import { passiveOption } from './passiveOption.js';\n\nexport function addEvents(el, obj, preventScrolling) {\n  for (var prop in obj) {\n    var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 && !preventScrolling ? passiveOption : false;\n    el.addEventListener(prop, obj[prop], option);\n  }\n}","import { passiveOption } from './passiveOption.js';\n\nexport function removeEvents(el, obj) {\n  for (var prop in obj) {\n    var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n    el.removeEventListener(prop, obj[prop], option);\n  }\n}","export function Events() {\n  return {\n    topics: {},\n    on: function (eventName, fn) {\n      this.topics[eventName] = this.topics[eventName] || [];\n      this.topics[eventName].push(fn);\n    },\n    off: function(eventName, fn) {\n      if (this.topics[eventName]) {\n        for (var i = 0; i < this.topics[eventName].length; i++) {\n          if (this.topics[eventName][i] === fn) {\n            this.topics[eventName].splice(i, 1);\n            break;\n          }\n        }\n      }\n    },\n    emit: function (eventName, data) {\n      data.type = eventName;\n      if (this.topics[eventName]) {\n        this.topics[eventName].forEach(function(fn) {\n          fn(data, eventName);\n        });\n      }\n    }\n  };\n};","// Object.keys\nif (!Object.keys) {\n  Object.keys = function(object) {\n    var keys = [];\n    for (var name in object) {\n      if (Object.prototype.hasOwnProperty.call(object, name)) {\n        keys.push(name);\n      }\n    }\n    return keys;\n  };\n}\n\n// ChildNode.remove\nif(!(\"remove\" in Element.prototype)){\n  Element.prototype.remove = function(){\n    if(this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n}\n\nimport { raf } from './helpers/raf.js';\nimport { caf } from './helpers/caf.js';\nimport { extend } from './helpers/extend.js';\nimport { checkStorageValue } from './helpers/checkStorageValue.js';\nimport { setLocalStorage } from './helpers/setLocalStorage.js';\nimport { getSlideId } from './helpers/getSlideId.js';\nimport { calc } from './helpers/calc.js';\nimport { percentageLayout } from './helpers/percentageLayout.js';\nimport { mediaquerySupport } from './helpers/mediaquerySupport.js';\nimport { createStyleSheet } from './helpers/createStyleSheet.js';\nimport { addCSSRule } from './helpers/addCSSRule.js';\nimport { removeCSSRule } from './helpers/removeCSSRule.js';\nimport { getCssRulesLength } from './helpers/getCssRulesLength.js';\nimport { toDegree } from './helpers/toDegree.js';\nimport { getTouchDirection } from './helpers/getTouchDirection.js';\nimport { forEach } from './helpers/forEach.js';\nimport { hasClass } from './helpers/hasClass.js';\nimport { addClass } from './helpers/addClass.js';\nimport { removeClass } from './helpers/removeClass.js';\nimport { hasAttr } from './helpers/hasAttr.js';\nimport { getAttr } from './helpers/getAttr.js';\nimport { setAttrs } from './helpers/setAttrs.js';\nimport { removeAttrs } from './helpers/removeAttrs.js';\nimport { arrayFromNodeList } from './helpers/arrayFromNodeList.js';\nimport { hideElement } from './helpers/hideElement.js';\nimport { showElement } from './helpers/showElement.js';\nimport { isVisible } from './helpers/isVisible.js';\nimport { whichProperty } from './helpers/whichProperty.js';\nimport { has3DTransforms } from './helpers/has3DTransforms.js';\nimport { getEndProperty } from './helpers/getEndProperty.js';\nimport { addEvents } from './helpers/addEvents.js';\nimport { removeEvents } from './helpers/removeEvents.js';\nimport { Events } from './helpers/events.js';\nimport { jsTransform } from './helpers/jsTransform.js';\n\nexport var tns = function(options) {\n  options = extend({\n    container: '.slider',\n    mode: 'carousel',\n    axis: 'horizontal',\n    items: 1,\n    gutter: 0,\n    edgePadding: 0,\n    fixedWidth: false,\n    autoWidth: false,\n    viewportMax: false,\n    slideBy: 1,\n    center: false,\n    controls: true,\n    controlsPosition: 'top',\n    controlsText: ['prev', 'next'],\n    controlsContainer: false,\n    prevButton: false,\n    nextButton: false,\n    nav: true,\n    navPosition: 'top',\n    navContainer: false,\n    navAsThumbnails: false,\n    arrowKeys: false,\n    speed: 300,\n    autoplay: false,\n    autoplayPosition: 'top',\n    autoplayTimeout: 5000,\n    autoplayDirection: 'forward',\n    autoplayText: ['start', 'stop'],\n    autoplayHoverPause: false,\n    autoplayButton: false,\n    autoplayButtonOutput: true,\n    autoplayResetOnVisibility: true,\n    animateIn: 'tns-fadeIn',\n    animateOut: 'tns-fadeOut',\n    animateNormal: 'tns-normal',\n    animateDelay: false,\n    loop: true,\n    rewind: false,\n    autoHeight: false,\n    responsive: false,\n    lazyload: false,\n    lazyloadSelector: '.tns-lazy-img',\n    touch: true,\n    mouseDrag: false,\n    swipeAngle: 15,\n    nested: false,\n    preventActionWhenRunning: false,\n    preventScrollOnTouch: false,\n    freezable: true,\n    onInit: false,\n    useLocalStorage: true,\n    nonce: false\n  }, options || {});\n\n  var doc = document,\n      win = window,\n      KEYS = {\n        ENTER: 13,\n        SPACE: 32,\n        LEFT: 37,\n        RIGHT: 39\n      },\n      tnsStorage = {},\n      localStorageAccess = options.useLocalStorage;\n\n  if (localStorageAccess) {\n    // check browser version and local storage access\n    var browserInfo = navigator.userAgent;\n    var uid = new Date;\n\n    try {\n      tnsStorage = win.localStorage;\n      if (tnsStorage) {\n        tnsStorage.setItem(uid, uid);\n        localStorageAccess = tnsStorage.getItem(uid) == uid;\n        tnsStorage.removeItem(uid);\n      } else {\n        localStorageAccess = false;\n      }\n      if (!localStorageAccess) { tnsStorage = {}; }\n    } catch(e) {\n      localStorageAccess = false;\n    }\n\n    if (localStorageAccess) {\n      // remove storage when browser version changes\n      if (tnsStorage['tnsApp'] && tnsStorage['tnsApp'] !== browserInfo) {\n        ['tC', 'tPL', 'tMQ', 'tTf', 't3D', 'tTDu', 'tTDe', 'tADu', 'tADe', 'tTE', 'tAE'].forEach(function(item) { tnsStorage.removeItem(item); });\n      }\n      // update browserInfo\n      localStorage['tnsApp'] = browserInfo;\n    }\n  }\n\n  var CALC = tnsStorage['tC'] ? checkStorageValue(tnsStorage['tC']) : setLocalStorage(tnsStorage, 'tC', calc(), localStorageAccess),\n      PERCENTAGELAYOUT = tnsStorage['tPL'] ? checkStorageValue(tnsStorage['tPL']) : setLocalStorage(tnsStorage, 'tPL', percentageLayout(), localStorageAccess),\n      CSSMQ = tnsStorage['tMQ'] ? checkStorageValue(tnsStorage['tMQ']) : setLocalStorage(tnsStorage, 'tMQ', mediaquerySupport(), localStorageAccess),\n      TRANSFORM = tnsStorage['tTf'] ? checkStorageValue(tnsStorage['tTf']) : setLocalStorage(tnsStorage, 'tTf', whichProperty('transform'), localStorageAccess),\n      HAS3DTRANSFORMS = tnsStorage['t3D'] ? checkStorageValue(tnsStorage['t3D']) : setLocalStorage(tnsStorage, 't3D', has3DTransforms(TRANSFORM), localStorageAccess),\n      TRANSITIONDURATION = tnsStorage['tTDu'] ? checkStorageValue(tnsStorage['tTDu']) : setLocalStorage(tnsStorage, 'tTDu', whichProperty('transitionDuration'), localStorageAccess),\n      TRANSITIONDELAY = tnsStorage['tTDe'] ? checkStorageValue(tnsStorage['tTDe']) : setLocalStorage(tnsStorage, 'tTDe', whichProperty('transitionDelay'), localStorageAccess),\n      ANIMATIONDURATION = tnsStorage['tADu'] ? checkStorageValue(tnsStorage['tADu']) : setLocalStorage(tnsStorage, 'tADu', whichProperty('animationDuration'), localStorageAccess),\n      ANIMATIONDELAY = tnsStorage['tADe'] ? checkStorageValue(tnsStorage['tADe']) : setLocalStorage(tnsStorage, 'tADe', whichProperty('animationDelay'), localStorageAccess),\n      TRANSITIONEND = tnsStorage['tTE'] ? checkStorageValue(tnsStorage['tTE']) : setLocalStorage(tnsStorage, 'tTE', getEndProperty(TRANSITIONDURATION, 'Transition'), localStorageAccess),\n      ANIMATIONEND = tnsStorage['tAE'] ? checkStorageValue(tnsStorage['tAE']) : setLocalStorage(tnsStorage, 'tAE', getEndProperty(ANIMATIONDURATION, 'Animation'), localStorageAccess);\n\n  // get element nodes from selectors\n  var supportConsoleWarn = win.console && typeof win.console.warn === \"function\",\n      tnsList = ['container', 'controlsContainer', 'prevButton', 'nextButton', 'navContainer', 'autoplayButton'],\n      optionsElements = {};\n\n  tnsList.forEach(function(item) {\n    if (typeof options[item] === 'string') {\n      var str = options[item],\n          el = doc.querySelector(str);\n      optionsElements[item] = str;\n\n      if (el && el.nodeName) {\n        options[item] = el;\n      } else {\n        if (supportConsoleWarn) { console.warn('Can\\'t find', options[item]); }\n        return;\n      }\n    }\n  });\n\n  // make sure at least 1 slide\n  if (options.container.children.length < 1) {\n    if (supportConsoleWarn) { console.warn('No slides found in', options.container); }\n    return;\n   }\n\n  // update options\n  var responsive = options.responsive,\n      nested = options.nested,\n      carousel = options.mode === 'carousel' ? true : false;\n\n  if (responsive) {\n    // apply responsive[0] to options and remove it\n    if (0 in responsive) {\n      options = extend(options, responsive[0]);\n      delete responsive[0];\n    }\n\n    var responsiveTem = {};\n    for (var key in responsive) {\n      var val = responsive[key];\n      // update responsive\n      // from: 300: 2\n      // to:\n      //   300: {\n      //     items: 2\n      //   }\n      val = typeof val === 'number' ? {items: val} : val;\n      responsiveTem[key] = val;\n    }\n    responsive = responsiveTem;\n    responsiveTem = null;\n  }\n\n  // update options\n  function updateOptions (obj) {\n    for (var key in obj) {\n      if (!carousel) {\n        if (key === 'slideBy') { obj[key] = 'page'; }\n        if (key === 'edgePadding') { obj[key] = false; }\n        if (key === 'autoHeight') { obj[key] = false; }\n      }\n\n      // update responsive options\n      if (key === 'responsive') { updateOptions(obj[key]); }\n    }\n  }\n  if (!carousel) { updateOptions(options); }\n\n\n  // === define and set variables ===\n  if (!carousel) {\n    options.axis = 'horizontal';\n    options.slideBy = 'page';\n    options.edgePadding = false;\n\n    var animateIn = options.animateIn,\n        animateOut = options.animateOut,\n        animateDelay = options.animateDelay,\n        animateNormal = options.animateNormal;\n  }\n\n  var horizontal = options.axis === 'horizontal' ? true : false,\n      outerWrapper = doc.createElement('div'),\n      innerWrapper = doc.createElement('div'),\n      middleWrapper,\n      container = options.container,\n      containerParent = container.parentNode,\n      containerHTML = container.outerHTML,\n      slideItems = container.children,\n      slideCount = slideItems.length,\n      breakpointZone,\n      windowWidth = getWindowWidth(),\n      isOn = false;\n  if (responsive) { setBreakpointZone(); }\n  if (carousel) { container.className += ' tns-vpfix'; }\n\n  // fixedWidth: viewport > rightBoundary > indexMax\n  var autoWidth = options.autoWidth,\n      fixedWidth = getOption('fixedWidth'),\n      edgePadding = getOption('edgePadding'),\n      gutter = getOption('gutter'),\n      viewport = getViewportWidth(),\n      center = getOption('center'),\n      items = !autoWidth ? Math.floor(getOption('items')) : 1,\n      slideBy = getOption('slideBy'),\n      viewportMax = options.viewportMax || options.fixedWidthViewportWidth,\n      arrowKeys = getOption('arrowKeys'),\n      speed = getOption('speed'),\n      rewind = options.rewind,\n      loop = rewind ? false : options.loop,\n      autoHeight = getOption('autoHeight'),\n      controls = getOption('controls'),\n      controlsText = getOption('controlsText'),\n      nav = getOption('nav'),\n      touch = getOption('touch'),\n      mouseDrag = getOption('mouseDrag'),\n      autoplay = getOption('autoplay'),\n      autoplayTimeout = getOption('autoplayTimeout'),\n      autoplayText = getOption('autoplayText'),\n      autoplayHoverPause = getOption('autoplayHoverPause'),\n      autoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n      sheet = createStyleSheet(null, getOption('nonce')),\n      lazyload = options.lazyload,\n      lazyloadSelector = options.lazyloadSelector,\n      slidePositions, // collection of slide positions\n      slideItemsOut = [],\n      cloneCount = loop ? getCloneCountForLoop() : 0,\n      slideCountNew = !carousel ? slideCount + cloneCount : slideCount + cloneCount * 2,\n      hasRightDeadZone = (fixedWidth || autoWidth) && !loop ? true : false,\n      rightBoundary = fixedWidth ? getRightBoundary() : null,\n      updateIndexBeforeTransform = (!carousel || !loop) ? true : false,\n      // transform\n      transformAttr = horizontal ? 'left' : 'top',\n      transformPrefix = '',\n      transformPostfix = '',\n      // index\n      getIndexMax = (function () {\n        if (fixedWidth) {\n          return function() { return center && !loop ? slideCount - 1 : Math.ceil(- rightBoundary / (fixedWidth + gutter)); };\n        } else if (autoWidth) {\n          return function() {\n            for (var i = 0; i < slideCountNew; i++) {\n              if (slidePositions[i] >= - rightBoundary) { return i; }\n            }\n          };\n        } else {\n          return function() {\n            if (center && carousel && !loop) {\n              return slideCount - 1;\n            } else {\n              return loop || carousel ? Math.max(0, slideCountNew - Math.ceil(items)) : slideCountNew - 1;\n            }\n          };\n        }\n      })(),\n      index = getStartIndex(getOption('startIndex')),\n      indexCached = index,\n      displayIndex = getCurrentSlide(),\n      indexMin = 0,\n      indexMax = !autoWidth ? getIndexMax() : null,\n      // resize\n      resizeTimer,\n      preventActionWhenRunning = options.preventActionWhenRunning,\n      swipeAngle = options.swipeAngle,\n      moveDirectionExpected = swipeAngle ? '?' : true,\n      running = false,\n      onInit = options.onInit,\n      events = new Events(),\n      // id, class\n      newContainerClasses = ' tns-slider tns-' + options.mode,\n      slideId = container.id || getSlideId(),\n      disable = getOption('disable'),\n      disabled = false,\n      freezable = options.freezable,\n      freeze = freezable && !autoWidth ? getFreeze() : false,\n      frozen = false,\n      controlsEvents = {\n        'click': onControlsClick,\n        'keydown': onControlsKeydown\n      },\n      navEvents = {\n        'click': onNavClick,\n        'keydown': onNavKeydown\n      },\n      hoverEvents = {\n        'mouseover': mouseoverPause,\n        'mouseout': mouseoutRestart\n      },\n      visibilityEvent = {'visibilitychange': onVisibilityChange},\n      docmentKeydownEvent = {'keydown': onDocumentKeydown},\n      touchEvents = {\n        'touchstart': onPanStart,\n        'touchmove': onPanMove,\n        'touchend': onPanEnd,\n        'touchcancel': onPanEnd\n      }, dragEvents = {\n        'mousedown': onPanStart,\n        'mousemove': onPanMove,\n        'mouseup': onPanEnd,\n        'mouseleave': onPanEnd\n      },\n      hasControls = hasOption('controls'),\n      hasNav = hasOption('nav'),\n      navAsThumbnails = autoWidth ? true : options.navAsThumbnails,\n      hasAutoplay = hasOption('autoplay'),\n      hasTouch = hasOption('touch'),\n      hasMouseDrag = hasOption('mouseDrag'),\n      slideActiveClass = 'tns-slide-active',\n      slideClonedClass = 'tns-slide-cloned',\n      imgCompleteClass = 'tns-complete',\n      imgEvents = {\n        'load': onImgLoaded,\n        'error': onImgFailed\n      },\n      imgsComplete,\n      liveregionCurrent,\n      preventScroll = options.preventScrollOnTouch === 'force' ? true : false;\n\n  // controls\n  if (hasControls) {\n    var controlsContainer = options.controlsContainer,\n        controlsContainerHTML = options.controlsContainer ? options.controlsContainer.outerHTML : '',\n        prevButton = options.prevButton,\n        nextButton = options.nextButton,\n        prevButtonHTML = options.prevButton ? options.prevButton.outerHTML : '',\n        nextButtonHTML = options.nextButton ? options.nextButton.outerHTML : '',\n        prevIsButton,\n        nextIsButton;\n  }\n\n  // nav\n  if (hasNav) {\n    var navContainer = options.navContainer,\n        navContainerHTML = options.navContainer ? options.navContainer.outerHTML : '',\n        navItems,\n        pages = autoWidth ? slideCount : getPages(),\n        pagesCached = 0,\n        navClicked = -1,\n        navCurrentIndex = getCurrentNavIndex(),\n        navCurrentIndexCached = navCurrentIndex,\n        navActiveClass = 'tns-nav-active',\n        navStr = 'Carousel Page ',\n        navStrCurrent = ' (Current Slide)';\n  }\n\n  // autoplay\n  if (hasAutoplay) {\n    var autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n        autoplayButton = options.autoplayButton,\n        autoplayButtonHTML = options.autoplayButton ? options.autoplayButton.outerHTML : '',\n        autoplayHtmlStrings = ['<span class=\\'tns-visually-hidden\\'>', ' animation</span>'],\n        autoplayTimer,\n        animating,\n        autoplayHoverPaused,\n        autoplayUserPaused,\n        autoplayVisibilityPaused;\n  }\n\n  if (hasTouch || hasMouseDrag) {\n    var initPosition = {},\n        lastPosition = {},\n        translateInit,\n        disX,\n        disY,\n        panStart = false,\n        rafIndex,\n        getDist = horizontal ?\n          function(a, b) { return a.x - b.x; } :\n          function(a, b) { return a.y - b.y; };\n  }\n\n  // disable slider when slidecount <= items\n  if (!autoWidth) { resetVariblesWhenDisable(disable || freeze); }\n\n  if (TRANSFORM) {\n    transformAttr = TRANSFORM;\n    transformPrefix = 'translate';\n\n    if (HAS3DTRANSFORMS) {\n      transformPrefix += horizontal ? '3d(' : '3d(0px, ';\n      transformPostfix = horizontal ? ', 0px, 0px)' : ', 0px)';\n    } else {\n      transformPrefix += horizontal ? 'X(' : 'Y(';\n      transformPostfix = ')';\n    }\n\n  }\n\n  if (carousel) { container.className = container.className.replace('tns-vpfix', ''); }\n  initStructure();\n  initSheet();\n  initSliderTransform();\n\n  // === COMMON FUNCTIONS === //\n  function resetVariblesWhenDisable (condition) {\n    if (condition) {\n      controls = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n    }\n  }\n\n  function getCurrentSlide () {\n    var tem = carousel ? index - cloneCount : index;\n    while (tem < 0) { tem += slideCount; }\n    return tem%slideCount + 1;\n  }\n\n  function getStartIndex (ind) {\n    ind = ind ? Math.max(0, Math.min(loop ? slideCount - 1 : slideCount - items, ind)) : 0;\n    return carousel ? ind + cloneCount : ind;\n  }\n\n  function getAbsIndex (i) {\n    if (i == null) { i = index; }\n\n    if (carousel) { i -= cloneCount; }\n    while (i < 0) { i += slideCount; }\n\n    return Math.floor(i%slideCount);\n  }\n\n  function getCurrentNavIndex () {\n    var absIndex = getAbsIndex(),\n        result;\n\n    result = navAsThumbnails ? absIndex :\n      fixedWidth || autoWidth ? Math.ceil((absIndex + 1) * pages / slideCount - 1) :\n          Math.floor(absIndex / items);\n\n    // set active nav to the last one when reaches the right edge\n    if (!loop && carousel && index === indexMax) { result = pages - 1; }\n\n    return result;\n  }\n\n  function getItemsMax () {\n    // fixedWidth or autoWidth while viewportMax is not available\n    if (autoWidth || (fixedWidth && !viewportMax)) {\n      return slideCount - 1;\n    // most cases\n    } else {\n      var str = fixedWidth ? 'fixedWidth' : 'items',\n          arr = [];\n\n      if (fixedWidth || options[str] < slideCount) { arr.push(options[str]); }\n\n      if (responsive) {\n        for (var bp in responsive) {\n          var tem = responsive[bp][str];\n          if (tem && (fixedWidth || tem < slideCount)) { arr.push(tem); }\n        }\n      }\n\n      if (!arr.length) { arr.push(0); }\n\n      return Math.ceil(fixedWidth ? viewportMax / Math.min.apply(null, arr) : Math.max.apply(null, arr));\n    }\n  }\n\n  function getCloneCountForLoop () {\n    var itemsMax = getItemsMax(),\n        result = carousel ? Math.ceil((itemsMax * 5 - slideCount)/2) : (itemsMax * 4 - slideCount);\n    result = Math.max(itemsMax, result);\n\n    return hasOption('edgePadding') ? result + 1 : result;\n  }\n\n  function getWindowWidth () {\n    return win.innerWidth || doc.documentElement.clientWidth || doc.body.clientWidth;\n  }\n\n  function getInsertPosition (pos) {\n    return pos === 'top' ? 'afterbegin' : 'beforeend';\n  }\n\n  function getClientWidth (el) {\n    if (el == null) { return; }\n    var div = doc.createElement('div'), rect, width;\n    el.appendChild(div);\n    rect = div.getBoundingClientRect();\n    width = rect.right - rect.left;\n    div.remove();\n    return width || getClientWidth(el.parentNode);\n  }\n\n  function getViewportWidth () {\n    var gap = edgePadding ? edgePadding * 2 - gutter : 0;\n    return getClientWidth(containerParent) - gap;\n  }\n\n  function hasOption (item) {\n    if (options[item]) {\n      return true;\n    } else {\n      if (responsive) {\n        for (var bp in responsive) {\n          if (responsive[bp][item]) { return true; }\n        }\n      }\n      return false;\n    }\n  }\n\n  // get option:\n  // fixed width: viewport, fixedWidth, gutter => items\n  // others: window width => all variables\n  // all: items => slideBy\n  function getOption (item, ww) {\n    if (ww == null) { ww = windowWidth; }\n\n    if (item === 'items' && fixedWidth) {\n      return Math.floor((viewport + gutter) / (fixedWidth + gutter)) || 1;\n\n    } else {\n      var result = options[item];\n\n      if (responsive) {\n        for (var bp in responsive) {\n          // bp: convert string to number\n          if (ww >= parseInt(bp)) {\n            if (item in responsive[bp]) { result = responsive[bp][item]; }\n          }\n        }\n      }\n\n      if (item === 'slideBy' && result === 'page') { result = getOption('items'); }\n      if (!carousel && (item === 'slideBy' || item === 'items')) { result = Math.floor(result); }\n\n      return result;\n    }\n  }\n\n  function getSlideMarginLeft (i) {\n    return CALC ?\n      CALC + '(' + i * 100 + '% / ' + slideCountNew + ')' :\n      i * 100 / slideCountNew + '%';\n  }\n\n  function getInnerWrapperStyles (edgePaddingTem, gutterTem, fixedWidthTem, speedTem, autoHeightBP) {\n    var str = '';\n\n    if (edgePaddingTem !== undefined) {\n      var gap = edgePaddingTem;\n      if (gutterTem) { gap -= gutterTem; }\n      str = horizontal ?\n        'margin: 0 ' + gap + 'px 0 ' + edgePaddingTem + 'px;' :\n        'margin: ' + edgePaddingTem + 'px 0 ' + gap + 'px 0;';\n    } else if (gutterTem && !fixedWidthTem) {\n      var gutterTemUnit = '-' + gutterTem + 'px',\n          dir = horizontal ? gutterTemUnit + ' 0 0' : '0 ' + gutterTemUnit + ' 0';\n      str = 'margin: 0 ' + dir + ';'\n    }\n\n    if (!carousel && autoHeightBP && TRANSITIONDURATION && speedTem) { str += getTransitionDurationStyle(speedTem); }\n    return str;\n  }\n\n  function getContainerWidth (fixedWidthTem, gutterTem, itemsTem) {\n    if (fixedWidthTem) {\n      return (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n    } else {\n      return CALC ?\n        CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')' :\n        slideCountNew * 100 / itemsTem + '%';\n    }\n  }\n\n  function getSlideWidthStyle (fixedWidthTem, gutterTem, itemsTem) {\n    var width;\n\n    if (fixedWidthTem) {\n      width = (fixedWidthTem + gutterTem) + 'px';\n    } else {\n      if (!carousel) { itemsTem = Math.floor(itemsTem); }\n      var dividend = carousel ? slideCountNew : itemsTem;\n      width = CALC ?\n        CALC + '(100% / ' + dividend + ')' :\n        100 / dividend + '%';\n    }\n\n    width = 'width:' + width;\n\n    // inner slider: overwrite outer slider styles\n    return nested !== 'inner' ? width + ';' : width + ' !important;';\n  }\n\n  function getSlideGutterStyle (gutterTem) {\n    var str = '';\n\n    // gutter maybe interger || 0\n    // so can't use 'if (gutter)'\n    if (gutterTem !== false) {\n      var prop = horizontal ? 'padding-' : 'margin-',\n          dir = horizontal ? 'right' : 'bottom';\n      str = prop +  dir + ': ' + gutterTem + 'px;';\n    }\n\n    return str;\n  }\n\n  function getCSSPrefix (name, num) {\n    var prefix = name.substring(0, name.length - num).toLowerCase();\n    if (prefix) { prefix = '-' + prefix + '-'; }\n\n    return prefix;\n  }\n\n  function getTransitionDurationStyle (speed) {\n    return getCSSPrefix(TRANSITIONDURATION, 18) + 'transition-duration:' + speed / 1000 + 's;';\n  }\n\n  function getAnimationDurationStyle (speed) {\n    return getCSSPrefix(ANIMATIONDURATION, 17) + 'animation-duration:' + speed / 1000 + 's;';\n  }\n\n  function initStructure () {\n    var classOuter = 'tns-outer',\n        classInner = 'tns-inner',\n        hasGutter = hasOption('gutter');\n\n    outerWrapper.className = classOuter;\n    innerWrapper.className = classInner;\n    outerWrapper.id = slideId + '-ow';\n    innerWrapper.id = slideId + '-iw';\n\n    // set container properties\n    if (container.id === '') { container.id = slideId; }\n    newContainerClasses += PERCENTAGELAYOUT || autoWidth ? ' tns-subpixel' : ' tns-no-subpixel';\n    newContainerClasses += CALC ? ' tns-calc' : ' tns-no-calc';\n    if (autoWidth) { newContainerClasses += ' tns-autowidth'; }\n    newContainerClasses += ' tns-' + options.axis;\n    container.className += newContainerClasses;\n\n    // add constrain layer for carousel\n    if (carousel) {\n      middleWrapper = doc.createElement('div');\n      middleWrapper.id = slideId + '-mw';\n      middleWrapper.className = 'tns-ovh';\n\n      outerWrapper.appendChild(middleWrapper);\n      middleWrapper.appendChild(innerWrapper);\n    } else {\n      outerWrapper.appendChild(innerWrapper);\n    }\n\n    if (autoHeight) {\n      var wp = middleWrapper ? middleWrapper : innerWrapper;\n      wp.className += ' tns-ah';\n    }\n\n    containerParent.insertBefore(outerWrapper, container);\n    innerWrapper.appendChild(container);\n\n    // add id, class, aria attributes\n    // before clone slides\n    forEach(slideItems, function(item, i) {\n      addClass(item, 'tns-item');\n      if (!item.id) { item.id = slideId + '-item' + i; }\n      if (!carousel && animateNormal) { addClass(item, animateNormal); }\n      setAttrs(item, {\n        'aria-hidden': 'true',\n        'tabindex': '-1'\n      });\n    });\n\n    // ## clone slides\n    // carousel: n + slides + n\n    // gallery:      slides + n\n    if (cloneCount) {\n      var fragmentBefore = doc.createDocumentFragment(),\n          fragmentAfter = doc.createDocumentFragment();\n\n      for (var j = cloneCount; j--;) {\n        var num = j%slideCount,\n            cloneFirst = slideItems[num].cloneNode(true);\n        addClass(cloneFirst, slideClonedClass);\n        removeAttrs(cloneFirst, 'id');\n        fragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n        if (carousel) {\n          var cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n          addClass(cloneLast, slideClonedClass);\n          removeAttrs(cloneLast, 'id');\n          fragmentBefore.appendChild(cloneLast);\n        }\n      }\n\n      container.insertBefore(fragmentBefore, container.firstChild);\n      container.appendChild(fragmentAfter);\n      slideItems = container.children;\n    }\n\n  }\n\n  function initSliderTransform () {\n    // ## images loaded/failed\n    if (hasOption('autoHeight') || autoWidth || !horizontal) {\n      var imgs = container.querySelectorAll('img');\n\n      // add img load event listener\n      forEach(imgs, function(img) {\n        var src = img.src;\n\n        if (!lazyload) {\n          // not data img\n          if (src && src.indexOf('data:image') < 0) {\n            img.src = '';\n            addEvents(img, imgEvents);\n            addClass(img, 'loading');\n\n            img.src = src;\n          // data img\n          } else {\n            imgLoaded(img);\n          }\n        }\n      });\n\n      // set imgsComplete\n      raf(function(){ imgsLoadedCheck(arrayFromNodeList(imgs), function() { imgsComplete = true; }); });\n\n      // reset imgs for auto height: check visible imgs only\n      if (hasOption('autoHeight')) { imgs = getImageArray(index, Math.min(index + items - 1, slideCountNew - 1)); }\n\n      lazyload ? initSliderTransformStyleCheck() : raf(function(){ imgsLoadedCheck(arrayFromNodeList(imgs), initSliderTransformStyleCheck); });\n\n    } else {\n      // set container transform property\n      if (carousel) { doContainerTransformSilent(); }\n\n      // update slider tools and events\n      initTools();\n      initEvents();\n    }\n  }\n\n  function initSliderTransformStyleCheck () {\n    if (autoWidth && slideCount > 1) {\n      // check styles application\n      var num = loop ? index : slideCount - 1;\n\n      (function stylesApplicationCheck() {\n        var left = slideItems[num].getBoundingClientRect().left;\n        var right = slideItems[num - 1].getBoundingClientRect().right;\n\n        (Math.abs(left - right) <= 1) ?\n          initSliderTransformCore() :\n          setTimeout(function(){ stylesApplicationCheck() }, 16);\n      })();\n\n    } else {\n      initSliderTransformCore();\n    }\n  }\n\n\n  function initSliderTransformCore () {\n    // run Fn()s which are rely on image loading\n    if (!horizontal || autoWidth) {\n      setSlidePositions();\n\n      if (autoWidth) {\n        rightBoundary = getRightBoundary();\n        if (freezable) { freeze = getFreeze(); }\n        indexMax = getIndexMax(); // <= slidePositions, rightBoundary <=\n        resetVariblesWhenDisable(disable || freeze);\n      } else {\n        updateContentWrapperHeight();\n      }\n    }\n\n    // set container transform property\n    if (carousel) { doContainerTransformSilent(); }\n\n    // update slider tools and events\n    initTools();\n    initEvents();\n  }\n\n  function initSheet () {\n    // gallery:\n    // set animation classes and left value for gallery slider\n    if (!carousel) {\n      for (var i = index, l = index + Math.min(slideCount, items); i < l; i++) {\n        var item = slideItems[i];\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, animateIn);\n        removeClass(item, animateNormal);\n      }\n    }\n\n    // #### LAYOUT\n\n    // ## INLINE-BLOCK VS FLOAT\n\n    // ## PercentageLayout:\n    // slides: inline-block\n    // remove blank space between slides by set font-size: 0\n\n    // ## Non PercentageLayout:\n    // slides: float\n    //         margin-right: -100%\n    //         margin-left: ~\n\n    // Resource: https://docs.google.com/spreadsheets/d/147up245wwTXeQYve3BRSAD4oVcvQmuGsFteJOeA5xNQ/edit?usp=sharing\n    if (horizontal) {\n      if (PERCENTAGELAYOUT || autoWidth) {\n        addCSSRule(sheet, '#' + slideId + ' > .tns-item', 'font-size:' + win.getComputedStyle(slideItems[0]).fontSize + ';', getCssRulesLength(sheet));\n        addCSSRule(sheet, '#' + slideId, 'font-size:0;', getCssRulesLength(sheet));\n      } else if (carousel) {\n        forEach(slideItems, function (slide, i) {\n          slide.style.marginLeft = getSlideMarginLeft(i);\n        });\n      }\n    }\n\n\n    // ## BASIC STYLES\n    if (CSSMQ) {\n      // middle wrapper style\n      if (TRANSITIONDURATION) {\n        var str = middleWrapper && options.autoHeight ? getTransitionDurationStyle(options.speed) : '';\n        addCSSRule(sheet, '#' + slideId + '-mw', str, getCssRulesLength(sheet));\n      }\n\n      // inner wrapper styles\n      str = getInnerWrapperStyles(options.edgePadding, options.gutter, options.fixedWidth, options.speed, options.autoHeight);\n      addCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet));\n\n      // container styles\n      if (carousel) {\n        str = horizontal && !autoWidth ? 'width:' + getContainerWidth(options.fixedWidth, options.gutter, options.items) + ';' : '';\n        if (TRANSITIONDURATION) { str += getTransitionDurationStyle(speed); }\n        addCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n      }\n\n      // slide styles\n      str = horizontal && !autoWidth ? getSlideWidthStyle(options.fixedWidth, options.gutter, options.items) : '';\n      if (options.gutter) { str += getSlideGutterStyle(options.gutter); }\n      // set gallery items transition-duration\n      if (!carousel) {\n        if (TRANSITIONDURATION) { str += getTransitionDurationStyle(speed); }\n        if (ANIMATIONDURATION) { str += getAnimationDurationStyle(speed); }\n      }\n      if (str) { addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet)); }\n\n    // non CSS mediaqueries: IE8\n    // ## update inner wrapper, container, slides if needed\n    // set inline styles for inner wrapper & container\n    // insert stylesheet (one line) for slides only (since slides are many)\n    } else {\n      // middle wrapper styles\n      update_carousel_transition_duration();\n\n      // inner wrapper styles\n      innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, autoHeight);\n\n      // container styles\n      if (carousel && horizontal && !autoWidth) {\n        container.style.width = getContainerWidth(fixedWidth, gutter, items);\n      }\n\n      // slide styles\n      var str = horizontal && !autoWidth ? getSlideWidthStyle(fixedWidth, gutter, items) : '';\n      if (gutter) { str += getSlideGutterStyle(gutter); }\n\n      // append to the last line\n      if (str) { addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet)); }\n    }\n\n    // ## MEDIAQUERIES\n    if (responsive && CSSMQ) {\n      for (var bp in responsive) {\n        // bp: convert string to number\n        bp = parseInt(bp);\n\n        var opts = responsive[bp],\n            str = '',\n            middleWrapperStr = '',\n            innerWrapperStr = '',\n            containerStr = '',\n            slideStr = '',\n            itemsBP = !autoWidth ? getOption('items', bp) : null,\n            fixedWidthBP = getOption('fixedWidth', bp),\n            speedBP = getOption('speed', bp),\n            edgePaddingBP = getOption('edgePadding', bp),\n            autoHeightBP = getOption('autoHeight', bp),\n            gutterBP = getOption('gutter', bp);\n\n        // middle wrapper string\n        if (TRANSITIONDURATION && middleWrapper && getOption('autoHeight', bp) && 'speed' in opts) {\n          middleWrapperStr = '#' + slideId + '-mw{' + getTransitionDurationStyle(speedBP) + '}';\n        }\n\n        // inner wrapper string\n        if ('edgePadding' in opts || 'gutter' in opts) {\n          innerWrapperStr = '#' + slideId + '-iw{' + getInnerWrapperStyles(edgePaddingBP, gutterBP, fixedWidthBP, speedBP, autoHeightBP) + '}';\n        }\n\n        // container string\n        if (carousel && horizontal && !autoWidth && ('fixedWidth' in opts || 'items' in opts || (fixedWidth && 'gutter' in opts))) {\n          containerStr = 'width:' + getContainerWidth(fixedWidthBP, gutterBP, itemsBP) + ';';\n        }\n        if (TRANSITIONDURATION && 'speed' in opts) {\n          containerStr += getTransitionDurationStyle(speedBP);\n        }\n        if (containerStr) {\n          containerStr = '#' + slideId + '{' + containerStr + '}';\n        }\n\n        // slide string\n        if ('fixedWidth' in opts || (fixedWidth && 'gutter' in opts) || !carousel && 'items' in opts) {\n          slideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n        }\n        if ('gutter' in opts) {\n          slideStr += getSlideGutterStyle(gutterBP);\n        }\n        // set gallery items transition-duration\n        if (!carousel && 'speed' in opts) {\n          if (TRANSITIONDURATION) { slideStr += getTransitionDurationStyle(speedBP); }\n          if (ANIMATIONDURATION) { slideStr += getAnimationDurationStyle(speedBP); }\n        }\n        if (slideStr) { slideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}'; }\n\n        // add up\n        str = middleWrapperStr + innerWrapperStr + containerStr + slideStr;\n\n        if (str) {\n          sheet.insertRule('@media (min-width: ' + bp / 16 + 'em) {' + str + '}', sheet.cssRules.length);\n        }\n      }\n    }\n  }\n\n  function initTools () {\n    // == slides ==\n    updateSlideStatus();\n\n    // == live region ==\n    outerWrapper.insertAdjacentHTML('afterbegin', '<div class=\"tns-liveregion tns-visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">slide <span class=\"current\">' + getLiveRegionStr() + '</span>  of ' + slideCount + '</div>');\n    liveregionCurrent = outerWrapper.querySelector('.tns-liveregion .current');\n\n    // == autoplayInit ==\n    if (hasAutoplay) {\n      var txt = autoplay ? 'stop' : 'start';\n      if (autoplayButton) {\n        setAttrs(autoplayButton, {'data-action': txt});\n      } else if (options.autoplayButtonOutput) {\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.autoplayPosition), '<button type=\"button\" data-action=\"' + txt + '\">' + autoplayHtmlStrings[0] + txt + autoplayHtmlStrings[1] + autoplayText[0] + '</button>');\n        autoplayButton = outerWrapper.querySelector('[data-action]');\n      }\n\n      // add event\n      if (autoplayButton) {\n        addEvents(autoplayButton, {'click': toggleAutoplay});\n      }\n\n      if (autoplay) {\n        startAutoplay();\n        if (autoplayHoverPause) { addEvents(container, hoverEvents); }\n        if (autoplayResetOnVisibility) { addEvents(container, visibilityEvent); }\n      }\n    }\n\n    // == navInit ==\n    if (hasNav) {\n      var initIndex = !carousel ? 0 : cloneCount;\n      // customized nav\n      // will not hide the navs in case they're thumbnails\n      if (navContainer) {\n        setAttrs(navContainer, {'aria-label': 'Carousel Pagination'});\n        navItems = navContainer.children;\n        forEach(navItems, function(item, i) {\n          setAttrs(item, {\n            'data-nav': i,\n            'tabindex': '-1',\n            'aria-label': navStr + (i + 1),\n            'aria-controls': slideId,\n          });\n        });\n\n      // generated nav\n      } else {\n        var navHtml = '',\n            hiddenStr = navAsThumbnails ? '' : 'style=\"display:none\"';\n        for (var i = 0; i < slideCount; i++) {\n          // hide nav items by default\n          navHtml += '<button type=\"button\" data-nav=\"' + i +'\" tabindex=\"-1\" aria-controls=\"' + slideId + '\" ' + hiddenStr + ' aria-label=\"' + navStr + (i + 1) +'\"></button>';\n        }\n        navHtml = '<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' + navHtml + '</div>';\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.navPosition), navHtml);\n\n        navContainer = outerWrapper.querySelector('.tns-nav');\n        navItems = navContainer.children;\n      }\n\n      updateNavVisibility();\n\n      // add transition\n      if (TRANSITIONDURATION) {\n        var prefix = TRANSITIONDURATION.substring(0, TRANSITIONDURATION.length - 18).toLowerCase(),\n            str = 'transition: all ' + speed / 1000 + 's';\n\n        if (prefix) {\n          str = '-' + prefix + '-' + str;\n        }\n\n        addCSSRule(sheet, '[aria-controls^=' + slideId + '-item]', str, getCssRulesLength(sheet));\n      }\n\n      setAttrs(navItems[navCurrentIndex], {'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent});\n      removeAttrs(navItems[navCurrentIndex], 'tabindex');\n      addClass(navItems[navCurrentIndex], navActiveClass);\n\n      // add events\n      addEvents(navContainer, navEvents);\n    }\n\n\n\n    // == controlsInit ==\n    if (hasControls) {\n      if (!controlsContainer && (!prevButton || !nextButton)) {\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.controlsPosition), '<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button type=\"button\" data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' + slideId +'\">' + controlsText[0] + '</button><button type=\"button\" data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' + slideId +'\">' + controlsText[1] + '</button></div>');\n\n        controlsContainer = outerWrapper.querySelector('.tns-controls');\n      }\n\n      if (!prevButton || !nextButton) {\n        prevButton = controlsContainer.children[0];\n        nextButton = controlsContainer.children[1];\n      }\n\n      if (options.controlsContainer) {\n        setAttrs(controlsContainer, {\n          'aria-label': 'Carousel Navigation',\n          'tabindex': '0'\n        });\n      }\n\n      if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n        setAttrs([prevButton, nextButton], {\n          'aria-controls': slideId,\n          'tabindex': '-1',\n        });\n      }\n\n      if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n        setAttrs(prevButton, {'data-controls' : 'prev'});\n        setAttrs(nextButton, {'data-controls' : 'next'});\n      }\n\n      prevIsButton = isButton(prevButton);\n      nextIsButton = isButton(nextButton);\n\n      updateControlsStatus();\n\n      // add events\n      if (controlsContainer) {\n        addEvents(controlsContainer, controlsEvents);\n      } else {\n        addEvents(prevButton, controlsEvents);\n        addEvents(nextButton, controlsEvents);\n      }\n    }\n\n    // hide tools if needed\n    disableUI();\n  }\n\n  function initEvents () {\n    // add events\n    if (carousel && TRANSITIONEND) {\n      var eve = {};\n      eve[TRANSITIONEND] = onTransitionEnd;\n      addEvents(container, eve);\n    }\n\n    if (touch) { addEvents(container, touchEvents, options.preventScrollOnTouch); }\n    if (mouseDrag) { addEvents(container, dragEvents); }\n    if (arrowKeys) { addEvents(doc, docmentKeydownEvent); }\n\n    if (nested === 'inner') {\n      events.on('outerResized', function () {\n        resizeTasks();\n        events.emit('innerLoaded', info());\n      });\n    } else if (responsive || fixedWidth || autoWidth || autoHeight || !horizontal) {\n      addEvents(win, {'resize': onResize});\n    }\n\n    if (autoHeight) {\n      if (nested === 'outer') {\n        events.on('innerLoaded', doAutoHeight);\n      } else if (!disable) { doAutoHeight(); }\n    }\n\n    doLazyLoad();\n    if (disable) { disableSlider(); } else if (freeze) { freezeSlider(); }\n\n    events.on('indexChanged', additionalUpdates);\n    if (nested === 'inner') { events.emit('innerLoaded', info()); }\n    if (typeof onInit === 'function') { onInit(info()); }\n    isOn = true;\n  }\n\n  function destroy () {\n    // sheet\n    sheet.disabled = true;\n    if (sheet.ownerNode) { sheet.ownerNode.remove(); }\n\n    // remove win event listeners\n    removeEvents(win, {'resize': onResize});\n\n    // arrowKeys, controls, nav\n    if (arrowKeys) { removeEvents(doc, docmentKeydownEvent); }\n    if (controlsContainer) { removeEvents(controlsContainer, controlsEvents); }\n    if (navContainer) { removeEvents(navContainer, navEvents); }\n\n    // autoplay\n    removeEvents(container, hoverEvents);\n    removeEvents(container, visibilityEvent);\n    if (autoplayButton) { removeEvents(autoplayButton, {'click': toggleAutoplay}); }\n    if (autoplay) { clearInterval(autoplayTimer); }\n\n    // container\n    if (carousel && TRANSITIONEND) {\n      var eve = {};\n      eve[TRANSITIONEND] = onTransitionEnd;\n      removeEvents(container, eve);\n    }\n    if (touch) { removeEvents(container, touchEvents); }\n    if (mouseDrag) { removeEvents(container, dragEvents); }\n\n    // cache Object values in options && reset HTML\n    var htmlList = [containerHTML, controlsContainerHTML, prevButtonHTML, nextButtonHTML, navContainerHTML, autoplayButtonHTML];\n\n    tnsList.forEach(function(item, i) {\n      var el = item === 'container' ? outerWrapper : options[item];\n\n      if (typeof el === 'object' && el) {\n        var prevEl = el.previousElementSibling ? el.previousElementSibling : false,\n            parentEl = el.parentNode;\n        el.outerHTML = htmlList[i];\n        options[item] = prevEl ? prevEl.nextElementSibling : parentEl.firstElementChild;\n      }\n    });\n\n\n    // reset variables\n    tnsList = animateIn = animateOut = animateDelay = animateNormal = horizontal = outerWrapper = innerWrapper = container = containerParent = containerHTML = slideItems = slideCount = breakpointZone = windowWidth = autoWidth = fixedWidth = edgePadding = gutter = viewport = items = slideBy = viewportMax = arrowKeys = speed = rewind = loop = autoHeight = sheet = lazyload = slidePositions = slideItemsOut = cloneCount = slideCountNew = hasRightDeadZone = rightBoundary = updateIndexBeforeTransform = transformAttr = transformPrefix = transformPostfix = getIndexMax = index = indexCached = indexMin = indexMax = resizeTimer = swipeAngle = moveDirectionExpected = running = onInit = events = newContainerClasses = slideId = disable = disabled = freezable = freeze = frozen = controlsEvents = navEvents = hoverEvents = visibilityEvent = docmentKeydownEvent = touchEvents = dragEvents = hasControls = hasNav = navAsThumbnails = hasAutoplay = hasTouch = hasMouseDrag = slideActiveClass = imgCompleteClass = imgEvents = imgsComplete = controls = controlsText = controlsContainer = controlsContainerHTML = prevButton = nextButton = prevIsButton = nextIsButton = nav = navContainer = navContainerHTML = navItems = pages = pagesCached = navClicked = navCurrentIndex = navCurrentIndexCached = navActiveClass = navStr = navStrCurrent = autoplay = autoplayTimeout = autoplayDirection = autoplayText = autoplayHoverPause = autoplayButton = autoplayButtonHTML = autoplayResetOnVisibility = autoplayHtmlStrings = autoplayTimer = animating = autoplayHoverPaused = autoplayUserPaused = autoplayVisibilityPaused = initPosition = lastPosition = translateInit = disX = disY = panStart = rafIndex = getDist = touch = mouseDrag = null;\n    // check variables\n    // [animateIn, animateOut, animateDelay, animateNormal, horizontal, outerWrapper, innerWrapper, container, containerParent, containerHTML, slideItems, slideCount, breakpointZone, windowWidth, autoWidth, fixedWidth, edgePadding, gutter, viewport, items, slideBy, viewportMax, arrowKeys, speed, rewind, loop, autoHeight, sheet, lazyload, slidePositions, slideItemsOut, cloneCount, slideCountNew, hasRightDeadZone, rightBoundary, updateIndexBeforeTransform, transformAttr, transformPrefix, transformPostfix, getIndexMax, index, indexCached, indexMin, indexMax, resizeTimer, swipeAngle, moveDirectionExpected, running, onInit, events, newContainerClasses, slideId, disable, disabled, freezable, freeze, frozen, controlsEvents, navEvents, hoverEvents, visibilityEvent, docmentKeydownEvent, touchEvents, dragEvents, hasControls, hasNav, navAsThumbnails, hasAutoplay, hasTouch, hasMouseDrag, slideActiveClass, imgCompleteClass, imgEvents, imgsComplete, controls, controlsText, controlsContainer, controlsContainerHTML, prevButton, nextButton, prevIsButton, nextIsButton, nav, navContainer, navContainerHTML, navItems, pages, pagesCached, navClicked, navCurrentIndex, navCurrentIndexCached, navActiveClass, navStr, navStrCurrent, autoplay, autoplayTimeout, autoplayDirection, autoplayText, autoplayHoverPause, autoplayButton, autoplayButtonHTML, autoplayResetOnVisibility, autoplayHtmlStrings, autoplayTimer, animating, autoplayHoverPaused, autoplayUserPaused, autoplayVisibilityPaused, initPosition, lastPosition, translateInit, disX, disY, panStart, rafIndex, getDist, touch, mouseDrag ].forEach(function(item) { if (item !== null) { console.log(item); } });\n\n    for (var a in this) {\n      if (a !== 'rebuild') { this[a] = null; }\n    }\n    isOn = false;\n  }\n\n// === ON RESIZE ===\n  // responsive || fixedWidth || autoWidth || !horizontal\n  function onResize (e) {\n    raf(function(){ resizeTasks(getEvent(e)); });\n  }\n\n  function resizeTasks (e) {\n    if (!isOn) { return; }\n    if (nested === 'outer') { events.emit('outerResized', info(e)); }\n    windowWidth = getWindowWidth();\n    var bpChanged,\n        breakpointZoneTem = breakpointZone,\n        needContainerTransform = false;\n\n    if (responsive) {\n      setBreakpointZone();\n      bpChanged = breakpointZoneTem !== breakpointZone;\n      // if (hasRightDeadZone) { needContainerTransform = true; } // *?\n      if (bpChanged) { events.emit('newBreakpointStart', info(e)); }\n    }\n\n    var indChanged,\n        itemsChanged,\n        itemsTem = items,\n        disableTem = disable,\n        freezeTem = freeze,\n        arrowKeysTem = arrowKeys,\n        controlsTem = controls,\n        navTem = nav,\n        touchTem = touch,\n        mouseDragTem = mouseDrag,\n        autoplayTem = autoplay,\n        autoplayHoverPauseTem = autoplayHoverPause,\n        autoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n        indexTem = index;\n\n    if (bpChanged) {\n      var fixedWidthTem = fixedWidth,\n          autoHeightTem = autoHeight,\n          controlsTextTem = controlsText,\n          centerTem = center,\n          autoplayTextTem = autoplayText;\n\n      if (!CSSMQ) {\n        var gutterTem = gutter,\n            edgePaddingTem = edgePadding;\n      }\n    }\n\n    // get option:\n    // fixed width: viewport, fixedWidth, gutter => items\n    // others: window width => all variables\n    // all: items => slideBy\n    arrowKeys = getOption('arrowKeys');\n    controls = getOption('controls');\n    nav = getOption('nav');\n    touch = getOption('touch');\n    center = getOption('center');\n    mouseDrag = getOption('mouseDrag');\n    autoplay = getOption('autoplay');\n    autoplayHoverPause = getOption('autoplayHoverPause');\n    autoplayResetOnVisibility = getOption('autoplayResetOnVisibility');\n\n    if (bpChanged) {\n      disable = getOption('disable');\n      fixedWidth = getOption('fixedWidth');\n      speed = getOption('speed');\n      autoHeight = getOption('autoHeight');\n      controlsText = getOption('controlsText');\n      autoplayText = getOption('autoplayText');\n      autoplayTimeout = getOption('autoplayTimeout');\n\n      if (!CSSMQ) {\n        edgePadding = getOption('edgePadding');\n        gutter = getOption('gutter');\n      }\n    }\n    // update options\n    resetVariblesWhenDisable(disable);\n\n    viewport = getViewportWidth(); // <= edgePadding, gutter\n    if ((!horizontal || autoWidth) && !disable) {\n      setSlidePositions();\n      if (!horizontal) {\n        updateContentWrapperHeight(); // <= setSlidePositions\n        needContainerTransform = true;\n      }\n    }\n    if (fixedWidth || autoWidth) {\n      rightBoundary = getRightBoundary(); // autoWidth: <= viewport, slidePositions, gutter\n                                          // fixedWidth: <= viewport, fixedWidth, gutter\n      indexMax = getIndexMax(); // autoWidth: <= rightBoundary, slidePositions\n                                // fixedWidth: <= rightBoundary, fixedWidth, gutter\n    }\n\n    if (bpChanged || fixedWidth) {\n      items = getOption('items');\n      slideBy = getOption('slideBy');\n      itemsChanged = items !== itemsTem;\n\n      if (itemsChanged) {\n        if (!fixedWidth && !autoWidth) { indexMax = getIndexMax(); } // <= items\n        // check index before transform in case\n        // slider reach the right edge then items become bigger\n        updateIndex();\n      }\n    }\n\n    if (bpChanged) {\n      if (disable !== disableTem) {\n        if (disable) {\n          disableSlider();\n        } else {\n          enableSlider(); // <= slidePositions, rightBoundary, indexMax\n        }\n      }\n    }\n\n    if (freezable && (bpChanged || fixedWidth || autoWidth)) {\n      freeze = getFreeze(); // <= autoWidth: slidePositions, gutter, viewport, rightBoundary\n                            // <= fixedWidth: fixedWidth, gutter, rightBoundary\n                            // <= others: items\n\n      if (freeze !== freezeTem) {\n        if (freeze) {\n          doContainerTransform(getContainerTransformValue(getStartIndex(0)));\n          freezeSlider();\n        } else {\n          unfreezeSlider();\n          needContainerTransform = true;\n        }\n      }\n    }\n\n    resetVariblesWhenDisable(disable || freeze); // controls, nav, touch, mouseDrag, arrowKeys, autoplay, autoplayHoverPause, autoplayResetOnVisibility\n    if (!autoplay) { autoplayHoverPause = autoplayResetOnVisibility = false; }\n\n    if (arrowKeys !== arrowKeysTem) {\n      arrowKeys ?\n        addEvents(doc, docmentKeydownEvent) :\n        removeEvents(doc, docmentKeydownEvent);\n    }\n    if (controls !== controlsTem) {\n      if (controls) {\n        if (controlsContainer) {\n          showElement(controlsContainer);\n        } else {\n          if (prevButton) { showElement(prevButton); }\n          if (nextButton) { showElement(nextButton); }\n        }\n      } else {\n        if (controlsContainer) {\n          hideElement(controlsContainer);\n        } else {\n          if (prevButton) { hideElement(prevButton); }\n          if (nextButton) { hideElement(nextButton); }\n        }\n      }\n    }\n    if (nav !== navTem) {\n      if (nav) {\n        showElement(navContainer);\n        updateNavVisibility();\n      } else {\n        hideElement(navContainer)\n      }\n    }\n    if (touch !== touchTem) {\n      touch ?\n        addEvents(container, touchEvents, options.preventScrollOnTouch) :\n        removeEvents(container, touchEvents);\n    }\n    if (mouseDrag !== mouseDragTem) {\n      mouseDrag ?\n        addEvents(container, dragEvents) :\n        removeEvents(container, dragEvents);\n    }\n    if (autoplay !== autoplayTem) {\n      if (autoplay) {\n        if (autoplayButton) { showElement(autoplayButton); }\n        if (!animating && !autoplayUserPaused) { startAutoplay(); }\n      } else {\n        if (autoplayButton) { hideElement(autoplayButton); }\n        if (animating) { stopAutoplay(); }\n      }\n    }\n    if (autoplayHoverPause !== autoplayHoverPauseTem) {\n      autoplayHoverPause ?\n        addEvents(container, hoverEvents) :\n        removeEvents(container, hoverEvents);\n    }\n    if (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n      autoplayResetOnVisibility ?\n        addEvents(doc, visibilityEvent) :\n        removeEvents(doc, visibilityEvent);\n    }\n\n    if (bpChanged) {\n      if (fixedWidth !== fixedWidthTem || center !== centerTem) { needContainerTransform = true; }\n\n      if (autoHeight !== autoHeightTem) {\n        if (!autoHeight) { innerWrapper.style.height = ''; }\n      }\n\n      if (controls && controlsText !== controlsTextTem) {\n        prevButton.innerHTML = controlsText[0];\n        nextButton.innerHTML = controlsText[1];\n      }\n\n      if (autoplayButton && autoplayText !== autoplayTextTem) {\n        var i = autoplay ? 1 : 0,\n            html = autoplayButton.innerHTML,\n            len = html.length - autoplayTextTem[i].length;\n        if (html.substring(len) === autoplayTextTem[i]) {\n          autoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n        }\n      }\n    } else {\n      if (center && (fixedWidth || autoWidth)) { needContainerTransform = true; }\n    }\n\n    if (itemsChanged || fixedWidth && !autoWidth) {\n      pages = getPages();\n      updateNavVisibility();\n    }\n\n    indChanged = index !== indexTem;\n    if (indChanged) {\n      events.emit('indexChanged', info());\n      needContainerTransform = true;\n    } else if (itemsChanged) {\n      if (!indChanged) { additionalUpdates(); }\n    } else if (fixedWidth || autoWidth) {\n      doLazyLoad();\n      updateSlideStatus();\n      updateLiveRegion();\n    }\n\n    if (itemsChanged && !carousel) { updateGallerySlidePositions(); }\n\n    if (!disable && !freeze) {\n      // non-mediaqueries: IE8\n      if (bpChanged && !CSSMQ) {\n        // middle wrapper styles\n\n        // inner wrapper styles\n        if (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n          innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, speed, autoHeight);\n        }\n\n        if (horizontal) {\n          // container styles\n          if (carousel) {\n            container.style.width = getContainerWidth(fixedWidth, gutter, items);\n          }\n\n          // slide styles\n          var str = getSlideWidthStyle(fixedWidth, gutter, items) +\n                    getSlideGutterStyle(gutter);\n\n          // remove the last line and\n          // add new styles\n          removeCSSRule(sheet, getCssRulesLength(sheet) - 1);\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n      }\n\n      // auto height\n      if (autoHeight) { doAutoHeight(); }\n\n      if (needContainerTransform) {\n        doContainerTransformSilent();\n        indexCached = index;\n      }\n    }\n\n    if (bpChanged) { events.emit('newBreakpointEnd', info(e)); }\n  }\n\n\n\n\n\n  // === INITIALIZATION FUNCTIONS === //\n  function getFreeze () {\n    if (!fixedWidth && !autoWidth) {\n      var a = center ? items - (items - 1) / 2 : items;\n      return  slideCount <= a;\n    }\n\n    var width = fixedWidth ? (fixedWidth + gutter) * slideCount : slidePositions[slideCount],\n        vp = edgePadding ? viewport + edgePadding * 2 : viewport + gutter;\n\n    if (center) {\n      vp -= fixedWidth ? (viewport - fixedWidth) / 2 : (viewport - (slidePositions[index + 1] - slidePositions[index] - gutter)) / 2;\n    }\n\n    return width <= vp;\n  }\n\n  function setBreakpointZone () {\n    breakpointZone = 0;\n    for (var bp in responsive) {\n      bp = parseInt(bp); // convert string to number\n      if (windowWidth >= bp) { breakpointZone = bp; }\n    }\n  }\n\n  // (slideBy, indexMin, indexMax) => index\n  var updateIndex = (function () {\n    return loop ?\n      carousel ?\n        // loop + carousel\n        function () {\n          var leftEdge = indexMin,\n              rightEdge = indexMax;\n\n          leftEdge += slideBy;\n          rightEdge -= slideBy;\n\n          // adjust edges when has edge paddings\n          // or fixed-width slider with extra space on the right side\n          if (edgePadding) {\n            leftEdge += 1;\n            rightEdge -= 1;\n          } else if (fixedWidth) {\n            if ((viewport + gutter)%(fixedWidth + gutter)) { rightEdge -= 1; }\n          }\n\n          if (cloneCount) {\n            if (index > rightEdge) {\n              index -= slideCount;\n            } else if (index < leftEdge) {\n              index += slideCount;\n            }\n          }\n        } :\n        // loop + gallery\n        function() {\n          if (index > indexMax) {\n            while (index >= indexMin + slideCount) { index -= slideCount; }\n          } else if (index < indexMin) {\n            while (index <= indexMax - slideCount) { index += slideCount; }\n          }\n        } :\n      // non-loop\n      function() {\n        index = Math.max(indexMin, Math.min(indexMax, index));\n      };\n  })();\n\n  function disableUI () {\n    if (!autoplay && autoplayButton) { hideElement(autoplayButton); }\n    if (!nav && navContainer) { hideElement(navContainer); }\n    if (!controls) {\n      if (controlsContainer) {\n        hideElement(controlsContainer);\n      } else {\n        if (prevButton) { hideElement(prevButton); }\n        if (nextButton) { hideElement(nextButton); }\n      }\n    }\n  }\n\n  function enableUI () {\n    if (autoplay && autoplayButton) { showElement(autoplayButton); }\n    if (nav && navContainer) { showElement(navContainer); }\n    if (controls) {\n      if (controlsContainer) {\n        showElement(controlsContainer);\n      } else {\n        if (prevButton) { showElement(prevButton); }\n        if (nextButton) { showElement(nextButton); }\n      }\n    }\n  }\n\n  function freezeSlider () {\n    if (frozen) { return; }\n\n    // remove edge padding from inner wrapper\n    if (edgePadding) { innerWrapper.style.margin = '0px'; }\n\n    // add class tns-transparent to cloned slides\n    if (cloneCount) {\n      var str = 'tns-transparent';\n      for (var i = cloneCount; i--;) {\n        if (carousel) { addClass(slideItems[i], str); }\n        addClass(slideItems[slideCountNew - i - 1], str);\n      }\n    }\n\n    // update tools\n    disableUI();\n\n    frozen = true;\n  }\n\n  function unfreezeSlider () {\n    if (!frozen) { return; }\n\n    // restore edge padding for inner wrapper\n    // for mordern browsers\n    if (edgePadding && CSSMQ) { innerWrapper.style.margin = ''; }\n\n    // remove class tns-transparent to cloned slides\n    if (cloneCount) {\n      var str = 'tns-transparent';\n      for (var i = cloneCount; i--;) {\n        if (carousel) { removeClass(slideItems[i], str); }\n        removeClass(slideItems[slideCountNew - i - 1], str);\n      }\n    }\n\n    // update tools\n    enableUI();\n\n    frozen = false;\n  }\n\n  function disableSlider () {\n    if (disabled) { return; }\n\n    sheet.disabled = true;\n    container.className = container.className.replace(newContainerClasses.substring(1), '');\n    removeAttrs(container, ['style']);\n    if (loop) {\n      for (var j = cloneCount; j--;) {\n        if (carousel) { hideElement(slideItems[j]); }\n        hideElement(slideItems[slideCountNew - j - 1]);\n      }\n    }\n\n    // vertical slider\n    if (!horizontal || !carousel) { removeAttrs(innerWrapper, ['style']); }\n\n    // gallery\n    if (!carousel) {\n      for (var i = index, l = index + slideCount; i < l; i++) {\n        var item = slideItems[i];\n        removeAttrs(item, ['style']);\n        removeClass(item, animateIn);\n        removeClass(item, animateNormal);\n      }\n    }\n\n    // update tools\n    disableUI();\n\n    disabled = true;\n  }\n\n  function enableSlider () {\n    if (!disabled) { return; }\n\n    sheet.disabled = false;\n    container.className += newContainerClasses;\n    doContainerTransformSilent();\n\n    if (loop) {\n      for (var j = cloneCount; j--;) {\n        if (carousel) { showElement(slideItems[j]); }\n        showElement(slideItems[slideCountNew - j - 1]);\n      }\n    }\n\n    // gallery\n    if (!carousel) {\n      for (var i = index, l = index + slideCount; i < l; i++) {\n        var item = slideItems[i],\n            classN = i < index + items ? animateIn : animateNormal;\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, classN);\n      }\n    }\n\n    // update tools\n    enableUI();\n\n    disabled = false;\n  }\n\n  function updateLiveRegion () {\n    var str = getLiveRegionStr();\n    if (liveregionCurrent.innerHTML !== str) { liveregionCurrent.innerHTML = str; }\n  }\n\n  function getLiveRegionStr () {\n    var arr = getVisibleSlideRange(),\n        start = arr[0] + 1,\n        end = arr[1] + 1;\n    return start === end ? start + '' : start + ' to ' + end;\n  }\n\n  function getVisibleSlideRange (val) {\n    if (val == null) { val = getContainerTransformValue(); }\n    var start = index, end, rangestart, rangeend;\n\n    // get range start, range end for autoWidth and fixedWidth\n    if (center || edgePadding) {\n      if (autoWidth || fixedWidth) {\n        rangestart = - (parseFloat(val) + edgePadding);\n        rangeend = rangestart + viewport + edgePadding * 2;\n      }\n    } else {\n      if (autoWidth) {\n        rangestart = slidePositions[index];\n        rangeend = rangestart + viewport;\n      }\n    }\n\n    // get start, end\n    // - check auto width\n    if (autoWidth) {\n      slidePositions.forEach(function(point, i) {\n        if (i < slideCountNew) {\n          if ((center || edgePadding) && point <= rangestart + 0.5) { start = i; }\n          if (rangeend - point >= 0.5) { end = i; }\n        }\n      });\n\n    // - check percentage width, fixed width\n    } else {\n\n      if (fixedWidth) {\n        var cell = fixedWidth + gutter;\n        if (center || edgePadding) {\n          start = Math.floor(rangestart/cell);\n          end = Math.ceil(rangeend/cell - 1);\n        } else {\n          end = start + Math.ceil(viewport/cell) - 1;\n        }\n\n      } else {\n        if (center || edgePadding) {\n          var a = items - 1;\n          if (center) {\n            start -= a / 2;\n            end = index + a / 2;\n          } else {\n            end = index + a;\n          }\n\n          if (edgePadding) {\n            var b = edgePadding * items / viewport;\n            start -= b;\n            end += b;\n          }\n\n          start = Math.floor(start);\n          end = Math.ceil(end);\n        } else {\n          end = start + items - 1;\n        }\n      }\n\n      start = Math.max(start, 0);\n      end = Math.min(end, slideCountNew - 1);\n    }\n\n    return [start, end];\n  }\n\n  function doLazyLoad () {\n    if (lazyload && !disable) {\n      var arg = getVisibleSlideRange();\n      arg.push(lazyloadSelector);\n\n      getImageArray.apply(null, arg).forEach(function (img) {\n        if (!hasClass(img, imgCompleteClass)) {\n          // stop propagation transitionend event to container\n          var eve = {};\n          eve[TRANSITIONEND] = function (e) { e.stopPropagation(); };\n          addEvents(img, eve);\n\n          addEvents(img, imgEvents);\n\n          // update src\n          img.src = getAttr(img, 'data-src');\n\n          // update srcset\n          var srcset = getAttr(img, 'data-srcset');\n          if (srcset) { img.srcset = srcset; }\n\n          addClass(img, 'loading');\n        }\n      });\n    }\n  }\n\n  function onImgLoaded (e) {\n    imgLoaded(getTarget(e));\n  }\n\n  function onImgFailed (e) {\n    imgFailed(getTarget(e));\n  }\n\n  function imgLoaded (img) {\n    addClass(img, 'loaded');\n    imgCompleted(img);\n  }\n\n  function imgFailed (img) {\n    addClass(img, 'failed');\n    imgCompleted(img);\n  }\n\n  function imgCompleted (img) {\n    addClass(img, imgCompleteClass);\n    removeClass(img, 'loading');\n    removeEvents(img, imgEvents);\n  }\n\n  function getImageArray (start, end, imgSelector) {\n    var imgs = [];\n    if (!imgSelector) { imgSelector = 'img'; }\n\n    while (start <= end) {\n      forEach(slideItems[start].querySelectorAll(imgSelector), function (img) { imgs.push(img); });\n      start++;\n    }\n\n    return imgs;\n  }\n\n  // check if all visible images are loaded\n  // and update container height if it's done\n  function doAutoHeight () {\n    var imgs = getImageArray.apply(null, getVisibleSlideRange());\n    raf(function(){ imgsLoadedCheck(imgs, updateInnerWrapperHeight); });\n  }\n\n  function imgsLoadedCheck (imgs, cb) {\n    // execute callback function if all images are complete\n    if (imgsComplete) { return cb(); }\n\n    // check image classes\n    imgs.forEach(function (img, index) {\n      if (!lazyload && img.complete) { imgCompleted(img); } // Check image.complete\n      if (hasClass(img, imgCompleteClass)) { imgs.splice(index, 1); }\n    });\n\n    // execute callback function if selected images are all complete\n    if (!imgs.length) { return cb(); }\n\n    // otherwise execute this functiona again\n    raf(function(){ imgsLoadedCheck(imgs, cb); });\n  }\n\n  function additionalUpdates () {\n    doLazyLoad();\n    updateSlideStatus();\n    updateLiveRegion();\n    updateControlsStatus();\n    updateNavStatus();\n  }\n\n\n  function update_carousel_transition_duration () {\n    if (carousel && autoHeight) {\n      middleWrapper.style[TRANSITIONDURATION] = speed / 1000 + 's';\n    }\n  }\n\n  function getMaxSlideHeight (slideStart, slideRange) {\n    var heights = [];\n    for (var i = slideStart, l = Math.min(slideStart + slideRange, slideCountNew); i < l; i++) {\n      heights.push(slideItems[i].offsetHeight);\n    }\n\n    return Math.max.apply(null, heights);\n  }\n\n  // update inner wrapper height\n  // 1. get the max-height of the visible slides\n  // 2. set transitionDuration to speed\n  // 3. update inner wrapper height to max-height\n  // 4. set transitionDuration to 0s after transition done\n  function updateInnerWrapperHeight () {\n    var maxHeight = autoHeight ? getMaxSlideHeight(index, items) : getMaxSlideHeight(cloneCount, slideCount),\n        wp = middleWrapper ? middleWrapper : innerWrapper;\n\n    if (wp.style.height !== maxHeight) { wp.style.height = maxHeight + 'px'; }\n  }\n\n  // get the distance from the top edge of the first slide to each slide\n  // (init) => slidePositions\n  function setSlidePositions () {\n    slidePositions = [0];\n    var attr = horizontal ? 'left' : 'top',\n        attr2 = horizontal ? 'right' : 'bottom',\n        base = slideItems[0].getBoundingClientRect()[attr];\n\n    forEach(slideItems, function(item, i) {\n      // skip the first slide\n      if (i) { slidePositions.push(item.getBoundingClientRect()[attr] - base); }\n      // add the end edge\n      if (i === slideCountNew - 1) { slidePositions.push(item.getBoundingClientRect()[attr2] - base); }\n    });\n  }\n\n  // update slide\n  function updateSlideStatus () {\n    var range = getVisibleSlideRange(),\n        start = range[0],\n        end = range[1];\n\n    forEach(slideItems, function(item, i) {\n      // show slides\n      if (i >= start && i <= end) {\n        if (hasAttr(item, 'aria-hidden')) {\n          removeAttrs(item, ['aria-hidden', 'tabindex']);\n          addClass(item, slideActiveClass);\n        }\n      // hide slides\n      } else {\n        if (!hasAttr(item, 'aria-hidden')) {\n          setAttrs(item, {\n            'aria-hidden': 'true',\n            'tabindex': '-1'\n          });\n          removeClass(item, slideActiveClass);\n        }\n      }\n    });\n  }\n\n  // gallery: update slide position\n  function updateGallerySlidePositions () {\n    var l = index + Math.min(slideCount, items);\n    for (var i = slideCountNew; i--;) {\n      var item = slideItems[i];\n\n      if (i >= index && i < l) {\n        // add transitions to visible slides when adjusting their positions\n        addClass(item, 'tns-moving');\n\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, animateIn);\n        removeClass(item, animateNormal);\n      } else if (item.style.left) {\n        item.style.left = '';\n        addClass(item, animateNormal);\n        removeClass(item, animateIn);\n      }\n\n      // remove outlet animation\n      removeClass(item, animateOut);\n    }\n\n    // removing '.tns-moving'\n    setTimeout(function() {\n      forEach(slideItems, function(el) {\n        removeClass(el, 'tns-moving');\n      });\n    }, 300);\n  }\n\n  // set tabindex on Nav\n  function updateNavStatus () {\n    // get current nav\n    if (nav) {\n      navCurrentIndex = navClicked >= 0 ? navClicked : getCurrentNavIndex();\n      navClicked = -1;\n\n      if (navCurrentIndex !== navCurrentIndexCached) {\n        var navPrev = navItems[navCurrentIndexCached],\n            navCurrent = navItems[navCurrentIndex];\n\n        setAttrs(navPrev, {\n          'tabindex': '-1',\n          'aria-label': navStr + (navCurrentIndexCached + 1)\n        });\n        removeClass(navPrev, navActiveClass);\n\n        setAttrs(navCurrent, {'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent});\n        removeAttrs(navCurrent, 'tabindex');\n        addClass(navCurrent, navActiveClass);\n\n        navCurrentIndexCached = navCurrentIndex;\n      }\n    }\n  }\n\n  function getLowerCaseNodeName (el) {\n    return el.nodeName.toLowerCase();\n  }\n\n  function isButton (el) {\n    return getLowerCaseNodeName(el) === 'button';\n  }\n\n  function isAriaDisabled (el) {\n    return el.getAttribute('aria-disabled') === 'true';\n  }\n\n  function disEnableElement (isButton, el, val) {\n    if (isButton) {\n      el.disabled = val;\n    } else {\n      el.setAttribute('aria-disabled', val.toString());\n    }\n  }\n\n  // set 'disabled' to true on controls when reach the edges\n  function updateControlsStatus () {\n    if (!controls || rewind || loop) { return; }\n\n    var prevDisabled = (prevIsButton) ? prevButton.disabled : isAriaDisabled(prevButton),\n        nextDisabled = (nextIsButton) ? nextButton.disabled : isAriaDisabled(nextButton),\n        disablePrev = (index <= indexMin) ? true : false,\n        disableNext = (!rewind && index >= indexMax) ? true : false;\n\n    if (disablePrev && !prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, true);\n    }\n    if (!disablePrev && prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, false);\n    }\n    if (disableNext && !nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, true);\n    }\n    if (!disableNext && nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, false);\n    }\n  }\n\n  // set duration\n  function resetDuration (el, str) {\n    if (TRANSITIONDURATION) { el.style[TRANSITIONDURATION] = str; }\n  }\n\n  function getSliderWidth () {\n    return fixedWidth ? (fixedWidth + gutter) * slideCountNew : slidePositions[slideCountNew];\n  }\n\n  function getCenterGap (num) {\n    if (num == null) { num = index; }\n\n    var gap = edgePadding ? gutter : 0;\n    return autoWidth ? ((viewport - gap) - (slidePositions[num + 1] - slidePositions[num] - gutter))/2 :\n      fixedWidth ? (viewport - fixedWidth) / 2 :\n        (items - 1) / 2;\n  }\n\n  function getRightBoundary () {\n    var gap = edgePadding ? gutter : 0,\n        result = (viewport + gap) - getSliderWidth();\n\n    if (center && !loop) {\n      result = fixedWidth ? - (fixedWidth + gutter) * (slideCountNew - 1) - getCenterGap() :\n        getCenterGap(slideCountNew - 1) - slidePositions[slideCountNew - 1];\n    }\n    if (result > 0) { result = 0; }\n\n    return result;\n  }\n\n  function getContainerTransformValue (num) {\n    if (num == null) { num = index; }\n\n    var val;\n    if (horizontal && !autoWidth) {\n      if (fixedWidth) {\n        val = - (fixedWidth + gutter) * num;\n        if (center) { val += getCenterGap(); }\n      } else {\n        var denominator = TRANSFORM ? slideCountNew : items;\n        if (center) { num -= getCenterGap(); }\n        val = - num * 100 / denominator;\n      }\n    } else {\n      val = - slidePositions[num];\n      if (center && autoWidth) {\n        val += getCenterGap();\n      }\n    }\n\n    if (hasRightDeadZone) { val = Math.max(val, rightBoundary); }\n\n    val += (horizontal && !autoWidth && !fixedWidth) ? '%' : 'px';\n\n    return val;\n  }\n\n  function doContainerTransformSilent (val) {\n    resetDuration(container, '0s');\n    doContainerTransform(val);\n  }\n\n  function doContainerTransform (val) {\n    if (val == null) { val = getContainerTransformValue(); }\n    container.style[transformAttr] = transformPrefix + val + transformPostfix;\n  }\n\n  function animateSlide (number, classOut, classIn, isOut) {\n    var l = number + items;\n    if (!loop) { l = Math.min(l, slideCountNew); }\n\n    for (var i = number; i < l; i++) {\n        var item = slideItems[i];\n\n      // set item positions\n      if (!isOut) { item.style.left = (i - index) * 100 / items + '%'; }\n\n      if (animateDelay && TRANSITIONDELAY) {\n        item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = animateDelay * (i - number) / 1000 + 's';\n      }\n      removeClass(item, classOut);\n      addClass(item, classIn);\n\n      if (isOut) { slideItemsOut.push(item); }\n    }\n  }\n\n  // make transfer after click/drag:\n  // 1. change 'transform' property for mordern browsers\n  // 2. change 'left' property for legacy browsers\n  var transformCore = (function () {\n    return carousel ?\n      function () {\n        resetDuration(container, '');\n        if (TRANSITIONDURATION || !speed) {\n          // for morden browsers with non-zero duration or\n          // zero duration for all browsers\n          doContainerTransform();\n          // run fallback function manually\n          // when duration is 0 / container is hidden\n          if (!speed || !isVisible(container)) { onTransitionEnd(); }\n\n        } else {\n          // for old browser with non-zero duration\n          jsTransform(container, transformAttr, transformPrefix, transformPostfix, getContainerTransformValue(), speed, onTransitionEnd);\n        }\n\n        if (!horizontal) { updateContentWrapperHeight(); }\n      } :\n      function () {\n        slideItemsOut = [];\n\n        var eve = {};\n        eve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n        removeEvents(slideItems[indexCached], eve);\n        addEvents(slideItems[index], eve);\n\n        animateSlide(indexCached, animateIn, animateOut, true);\n        animateSlide(index, animateNormal, animateIn);\n\n        // run fallback function manually\n        // when transition or animation not supported / duration is 0\n        if (!TRANSITIONEND || !ANIMATIONEND || !speed || !isVisible(container)) { onTransitionEnd(); }\n      };\n  })();\n\n  function render (e, sliderMoved) {\n    if (updateIndexBeforeTransform) { updateIndex(); }\n\n    // render when slider was moved (touch or drag) even though index may not change\n    if (index !== indexCached || sliderMoved) {\n      // events\n      events.emit('indexChanged', info());\n      events.emit('transitionStart', info());\n      if (autoHeight) { doAutoHeight(); }\n\n      // pause autoplay when click or keydown from user\n      if (animating && e && ['click', 'keydown'].indexOf(e.type) >= 0) { stopAutoplay(); }\n\n      running = true;\n      transformCore();\n    }\n  }\n\n  /*\n   * Transfer prefixed properties to the same format\n   * CSS: -Webkit-Transform => webkittransform\n   * JS: WebkitTransform => webkittransform\n   * @param {string} str - property\n   *\n   */\n  function strTrans (str) {\n    return str.toLowerCase().replace(/-/g, '');\n  }\n\n  // AFTER TRANSFORM\n  // Things need to be done after a transfer:\n  // 1. check index\n  // 2. add classes to visible slide\n  // 3. disable controls buttons when reach the first/last slide in non-loop slider\n  // 4. update nav status\n  // 5. lazyload images\n  // 6. update container height\n  function onTransitionEnd (event) {\n    // check running on gallery mode\n    // make sure trantionend/animationend events run only once\n    if (carousel || running) {\n      events.emit('transitionEnd', info(event));\n\n      if (!carousel && slideItemsOut.length > 0) {\n        for (var i = 0; i < slideItemsOut.length; i++) {\n          var item = slideItemsOut[i];\n          // set item positions\n          item.style.left = '';\n\n          if (ANIMATIONDELAY && TRANSITIONDELAY) {\n            item.style[ANIMATIONDELAY] = '';\n            item.style[TRANSITIONDELAY] = '';\n          }\n          removeClass(item, animateOut);\n          addClass(item, animateNormal);\n        }\n      }\n\n      /* update slides, nav, controls after checking ...\n       * => legacy browsers who don't support 'event'\n       *    have to check event first, otherwise event.target will cause an error\n       * => or 'gallery' mode:\n       *   + event target is slide item\n       * => or 'carousel' mode:\n       *   + event target is container,\n       *   + event.property is the same with transform attribute\n       */\n      if (!event ||\n          !carousel && event.target.parentNode === container ||\n          event.target === container && strTrans(event.propertyName) === strTrans(transformAttr)) {\n\n        if (!updateIndexBeforeTransform) {\n          var indexTem = index;\n          updateIndex();\n          if (index !== indexTem) {\n            events.emit('indexChanged', info());\n\n            doContainerTransformSilent();\n          }\n        }\n\n        if (nested === 'inner') { events.emit('innerLoaded', info()); }\n        running = false;\n        indexCached = index;\n      }\n    }\n\n  }\n\n  // # ACTIONS\n  function goTo (targetIndex, e) {\n    if (freeze) { return; }\n\n    // prev slideBy\n    if (targetIndex === 'prev') {\n      onControlsClick(e, -1);\n\n    // next slideBy\n    } else if (targetIndex === 'next') {\n      onControlsClick(e, 1);\n\n    // go to exact slide\n    } else {\n      if (running) {\n        if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n      }\n\n      var absIndex = getAbsIndex(),\n          indexGap = 0;\n\n      if (targetIndex === 'first') {\n        indexGap = - absIndex;\n      } else if (targetIndex === 'last') {\n        indexGap = carousel ? slideCount - items - absIndex : slideCount - 1 - absIndex;\n      } else {\n        if (typeof targetIndex !== 'number') { targetIndex = parseInt(targetIndex); }\n\n        if (!isNaN(targetIndex)) {\n          // from directly called goTo function\n          if (!e) { targetIndex = Math.max(0, Math.min(slideCount - 1, targetIndex)); }\n\n          indexGap = targetIndex - absIndex;\n        }\n      }\n\n      // gallery: make sure new page won't overlap with current page\n      if (!carousel && indexGap && Math.abs(indexGap) < items) {\n        var factor = indexGap > 0 ? 1 : -1;\n        indexGap += (index + indexGap - slideCount) >= indexMin ? slideCount * factor : slideCount * 2 * factor * -1;\n      }\n\n      index += indexGap;\n\n      // make sure index is in range\n      if (carousel && loop) {\n        if (index < indexMin) { index += slideCount; }\n        if (index > indexMax) { index -= slideCount; }\n      }\n\n      // if index is changed, start rendering\n      if (getAbsIndex(index) !== getAbsIndex(indexCached)) {\n        render(e);\n      }\n\n    }\n  }\n\n  // on controls click\n  function onControlsClick (e, dir) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n    var passEventObject;\n\n    if (!dir) {\n      e = getEvent(e);\n      var target = getTarget(e);\n\n      while (target !== controlsContainer && [prevButton, nextButton].indexOf(target) < 0) { target = target.parentNode; }\n\n      var targetIn = [prevButton, nextButton].indexOf(target);\n      if (targetIn >= 0) {\n        passEventObject = true;\n        dir = targetIn === 0 ? -1 : 1;\n      }\n    }\n\n    if (rewind) {\n      if (index === indexMin && dir === -1) {\n        goTo('last', e);\n        return;\n      } else if (index === indexMax && dir === 1) {\n        goTo('first', e);\n        return;\n      }\n    }\n\n    if (dir) {\n      index += slideBy * dir;\n      if (autoWidth) { index = Math.floor(index); }\n      // pass e when click control buttons or keydown\n      render((passEventObject || (e && e.type === 'keydown')) ? e : null);\n    }\n  }\n\n  // on nav click\n  function onNavClick (e) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n\n    e = getEvent(e);\n    var target = getTarget(e), navIndex;\n\n    // find the clicked nav item\n    while (target !== navContainer && !hasAttr(target, 'data-nav')) { target = target.parentNode; }\n    if (hasAttr(target, 'data-nav')) {\n      var navIndex = navClicked = Number(getAttr(target, 'data-nav')),\n          targetIndexBase = fixedWidth || autoWidth ? navIndex * slideCount / pages : navIndex * items,\n          targetIndex = navAsThumbnails ? navIndex : Math.min(Math.ceil(targetIndexBase), slideCount - 1);\n      goTo(targetIndex, e);\n\n      if (navCurrentIndex === navIndex) {\n        if (animating) { stopAutoplay(); }\n        navClicked = -1; // reset navClicked\n      }\n    }\n  }\n\n  // autoplay functions\n  function setAutoplayTimer () {\n    autoplayTimer = setInterval(function () {\n      onControlsClick(null, autoplayDirection);\n    }, autoplayTimeout);\n\n    animating = true;\n  }\n\n  function stopAutoplayTimer () {\n    clearInterval(autoplayTimer);\n    animating = false;\n  }\n\n  function updateAutoplayButton (action, txt) {\n    setAttrs(autoplayButton, {'data-action': action});\n    autoplayButton.innerHTML = autoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n  }\n\n  function startAutoplay () {\n    setAutoplayTimer();\n    if (autoplayButton) { updateAutoplayButton('stop', autoplayText[1]); }\n  }\n\n  function stopAutoplay () {\n    stopAutoplayTimer();\n    if (autoplayButton) { updateAutoplayButton('start', autoplayText[0]); }\n  }\n\n  // programaitcally play/pause the slider\n  function play () {\n    if (autoplay && !animating) {\n      startAutoplay();\n      autoplayUserPaused = false;\n    }\n  }\n  function pause () {\n    if (animating) {\n      stopAutoplay();\n      autoplayUserPaused = true;\n    }\n  }\n\n  function toggleAutoplay () {\n    if (animating) {\n      stopAutoplay();\n      autoplayUserPaused = true;\n    } else {\n      startAutoplay();\n      autoplayUserPaused = false;\n    }\n  }\n\n  function onVisibilityChange () {\n    if (doc.hidden) {\n      if (animating) {\n        stopAutoplayTimer();\n        autoplayVisibilityPaused = true;\n      }\n    } else if (autoplayVisibilityPaused) {\n      setAutoplayTimer();\n      autoplayVisibilityPaused = false;\n    }\n  }\n\n  function mouseoverPause () {\n    if (animating) {\n      stopAutoplayTimer();\n      autoplayHoverPaused = true;\n    }\n  }\n\n  function mouseoutRestart () {\n    if (autoplayHoverPaused) {\n      setAutoplayTimer();\n      autoplayHoverPaused = false;\n    }\n  }\n\n  // keydown events on document\n  function onDocumentKeydown (e) {\n    e = getEvent(e);\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n    if (keyIndex >= 0) {\n      onControlsClick(e, keyIndex === 0 ? -1 : 1);\n    }\n  }\n\n  // on key control\n  function onControlsKeydown (e) {\n    e = getEvent(e);\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n    if (keyIndex >= 0) {\n      if (keyIndex === 0) {\n        if (!prevButton.disabled) { onControlsClick(e, -1); }\n      } else if (!nextButton.disabled) {\n        onControlsClick(e, 1);\n      }\n    }\n  }\n\n  // set focus\n  function setFocus (el) {\n    el.focus();\n  }\n\n  // on key nav\n  function onNavKeydown (e) {\n    e = getEvent(e);\n    var curElement = doc.activeElement;\n    if (!hasAttr(curElement, 'data-nav')) { return; }\n\n    // var code = e.keyCode,\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT, KEYS.ENTER, KEYS.SPACE].indexOf(e.keyCode),\n        navIndex = Number(getAttr(curElement, 'data-nav'));\n\n    if (keyIndex >= 0) {\n      if (keyIndex === 0) {\n        if (navIndex > 0) { setFocus(navItems[navIndex - 1]); }\n      } else if (keyIndex === 1) {\n        if (navIndex < pages - 1) { setFocus(navItems[navIndex + 1]); }\n      } else {\n        navClicked = navIndex;\n        goTo(navIndex, e);\n      }\n    }\n  }\n\n  function getEvent (e) {\n    e = e || win.event;\n    return isTouchEvent(e) ? e.changedTouches[0] : e;\n  }\n  function getTarget (e) {\n    return e.target || win.event.srcElement;\n  }\n\n  function isTouchEvent (e) {\n    return e.type.indexOf('touch') >= 0;\n  }\n\n  function preventDefaultBehavior (e) {\n    e.preventDefault ? e.preventDefault() : e.returnValue = false;\n  }\n\n  function getMoveDirectionExpected () {\n    return getTouchDirection(toDegree(lastPosition.y - initPosition.y, lastPosition.x - initPosition.x), swipeAngle) === options.axis;\n  }\n\n  function onPanStart (e) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n\n    if (autoplay && animating) { stopAutoplayTimer(); }\n\n    panStart = true;\n    if (rafIndex) {\n      caf(rafIndex);\n      rafIndex = null;\n    }\n\n    var $ = getEvent(e);\n    events.emit(isTouchEvent(e) ? 'touchStart' : 'dragStart', info(e));\n\n    if (!isTouchEvent(e) && ['img', 'a'].indexOf(getLowerCaseNodeName(getTarget(e))) >= 0) {\n      preventDefaultBehavior(e);\n    }\n\n    lastPosition.x = initPosition.x = $.clientX;\n    lastPosition.y = initPosition.y = $.clientY;\n    if (carousel) {\n      translateInit = parseFloat(container.style[transformAttr].replace(transformPrefix, ''));\n      resetDuration(container, '0s');\n    }\n  }\n\n  function onPanMove (e) {\n    if (panStart) {\n      var $ = getEvent(e);\n      lastPosition.x = $.clientX;\n      lastPosition.y = $.clientY;\n\n      if (carousel) {\n        if (!rafIndex) { rafIndex = raf(function(){ panUpdate(e); }); }\n      } else {\n        if (moveDirectionExpected === '?') { moveDirectionExpected = getMoveDirectionExpected(); }\n        if (moveDirectionExpected) { preventScroll = true; }\n      }\n\n      if ((typeof e.cancelable !== 'boolean' || e.cancelable) && preventScroll) {\n        e.preventDefault();\n      }\n    }\n  }\n\n  function panUpdate (e) {\n    if (!moveDirectionExpected) {\n      panStart = false;\n      return;\n    }\n    caf(rafIndex);\n    if (panStart) { rafIndex = raf(function(){ panUpdate(e); }); }\n\n    if (moveDirectionExpected === '?') { moveDirectionExpected = getMoveDirectionExpected(); }\n    if (moveDirectionExpected) {\n      if (!preventScroll && isTouchEvent(e)) { preventScroll = true; }\n\n      try {\n        if (e.type) { events.emit(isTouchEvent(e) ? 'touchMove' : 'dragMove', info(e)); }\n      } catch(err) {}\n\n      var x = translateInit,\n          dist = getDist(lastPosition, initPosition);\n      if (!horizontal || fixedWidth || autoWidth) {\n        x += dist;\n        x += 'px';\n      } else {\n        var percentageX = TRANSFORM ? dist * items * 100 / ((viewport + gutter) * slideCountNew): dist * 100 / (viewport + gutter);\n        x += percentageX;\n        x += '%';\n      }\n\n      container.style[transformAttr] = transformPrefix + x + transformPostfix;\n    }\n  }\n\n  function onPanEnd (e) {\n    if (panStart) {\n      if (rafIndex) {\n        caf(rafIndex);\n        rafIndex = null;\n      }\n      if (carousel) { resetDuration(container, ''); }\n      panStart = false;\n\n      var $ = getEvent(e);\n      lastPosition.x = $.clientX;\n      lastPosition.y = $.clientY;\n      var dist = getDist(lastPosition, initPosition);\n\n      if (Math.abs(dist)) {\n        // drag vs click\n        if (!isTouchEvent(e)) {\n          // prevent \"click\"\n          var target = getTarget(e);\n          addEvents(target, {'click': function preventClick (e) {\n            preventDefaultBehavior(e);\n            removeEvents(target, {'click': preventClick});\n          }});\n        }\n\n        if (carousel) {\n          rafIndex = raf(function() {\n            if (horizontal && !autoWidth) {\n              var indexMoved = - dist * items / (viewport + gutter);\n              indexMoved = dist > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n              index += indexMoved;\n            } else {\n              var moved = - (translateInit + dist);\n              if (moved <= 0) {\n                index = indexMin;\n              } else if (moved >= slidePositions[slideCountNew - 1]) {\n                index = indexMax;\n              } else {\n                var i = 0;\n                while (i < slideCountNew && moved >= slidePositions[i]) {\n                  index = i;\n                  if (moved > slidePositions[i] && dist < 0) { index += 1; }\n                  i++;\n                }\n              }\n            }\n\n            render(e, dist);\n            events.emit(isTouchEvent(e) ? 'touchEnd' : 'dragEnd', info(e));\n          });\n        } else {\n          if (moveDirectionExpected) {\n            onControlsClick(e, dist > 0 ? -1 : 1);\n          }\n        }\n      }\n    }\n\n    // reset\n    if (options.preventScrollOnTouch === 'auto') { preventScroll = false; }\n    if (swipeAngle) { moveDirectionExpected = '?'; }\n    if (autoplay && !animating) { setAutoplayTimer(); }\n  }\n\n  // === RESIZE FUNCTIONS === //\n  // (slidePositions, index, items) => vertical_conentWrapper.height\n  function updateContentWrapperHeight () {\n    var wp = middleWrapper ? middleWrapper : innerWrapper;\n    wp.style.height = slidePositions[index + items] - slidePositions[index] + 'px';\n  }\n\n  function getPages () {\n    var rough = fixedWidth ? (fixedWidth + gutter) * slideCount / viewport : slideCount / items;\n    return Math.min(Math.ceil(rough), slideCount);\n  }\n\n  /*\n   * 1. update visible nav items list\n   * 2. add \"hidden\" attributes to previous visible nav items\n   * 3. remove \"hidden\" attrubutes to new visible nav items\n   */\n  function updateNavVisibility () {\n    if (!nav || navAsThumbnails) { return; }\n\n    if (pages !== pagesCached) {\n      var min = pagesCached,\n          max = pages,\n          fn = showElement;\n\n      if (pagesCached > pages) {\n        min = pages;\n        max = pagesCached;\n        fn = hideElement;\n      }\n\n      while (min < max) {\n        fn(navItems[min]);\n        min++;\n      }\n\n      // cache pages\n      pagesCached = pages;\n    }\n  }\n\n  function info (e) {\n    return {\n      container: container,\n      slideItems: slideItems,\n      navContainer: navContainer,\n      navItems: navItems,\n      controlsContainer: controlsContainer,\n      hasControls: hasControls,\n      prevButton: prevButton,\n      nextButton: nextButton,\n      items: items,\n      slideBy: slideBy,\n      cloneCount: cloneCount,\n      slideCount: slideCount,\n      slideCountNew: slideCountNew,\n      index: index,\n      indexCached: indexCached,\n      displayIndex: getCurrentSlide(),\n      navCurrentIndex: navCurrentIndex,\n      navCurrentIndexCached: navCurrentIndexCached,\n      pages: pages,\n      pagesCached: pagesCached,\n      sheet: sheet,\n      isOn: isOn,\n      event: e || {},\n    };\n  }\n\n  return {\n    version: '2.9.4',\n    getInfo: info,\n    events: events,\n    goTo: goTo,\n    play: play,\n    pause: pause,\n    isOn: isOn,\n    updateSliderHeight: updateInnerWrapperHeight,\n    refresh: initSliderTransform,\n    destroy: destroy,\n    rebuild: function() {\n      return tns(extend(options, optionsElements));\n    }\n  };\n};\n","// get css-calc \n// @return - false | calc | -webkit-calc | -moz-calc\n// @usage - var calc = getCalc(); \nimport { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function calc() {\n  var doc = document, \n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'), \n      result = false;\n\n  body.appendChild(div);\n  try {\n    var str = '(10px * 10)',\n        vals = ['calc' + str, '-moz-calc' + str, '-webkit-calc' + str],\n        val;\n    for (var i = 0; i < 3; i++) {\n      val = vals[i];\n      div.style.width = val;\n      if (div.offsetWidth === 100) { \n        result = val.replace(str, ''); \n        break;\n      }\n    }\n  } catch (e) {}\n  \n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return result;\n}","// get subpixel support value\n// @return - boolean\nimport { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function percentageLayout() {\n  // check subpixel layout supporting\n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      wrapper = doc.createElement('div'),\n      outer = doc.createElement('div'),\n      str = '',\n      count = 70,\n      perPage = 3,\n      supported = false;\n\n  wrapper.className = \"tns-t-subp2\";\n  outer.className = \"tns-t-ct\";\n\n  for (var i = 0; i < count; i++) {\n    str += '<div></div>';\n  }\n\n  outer.innerHTML = str;\n  wrapper.appendChild(outer);\n  body.appendChild(wrapper);\n\n  supported = Math.abs(wrapper.getBoundingClientRect().left - outer.children[count - perPage].getBoundingClientRect().left) < 2;\n\n  body.fake ? resetFakeBody(body, docOverflow) : wrapper.remove();\n\n  return supported;\n}","import { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function mediaquerySupport () {\n  if (window.matchMedia || window.msMatchMedia) {\n    return true;\n  }\n  \n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'),\n      style = doc.createElement('style'),\n      rule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n      position;\n\n  style.type = 'text/css';\n  div.className = 'tns-mq-test';\n\n  body.appendChild(style);\n  body.appendChild(div);\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = rule;\n  } else {\n    style.appendChild(doc.createTextNode(rule));\n  }\n\n  position = window.getComputedStyle ? window.getComputedStyle(div).position : div.currentStyle['position'];\n\n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return position === \"absolute\";\n}\n","import { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function has3DTransforms(tf){\n  if (!tf) { return false; }\n  if (!window.getComputedStyle) { return false; }\n  \n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      el = doc.createElement('p'),\n      has3d,\n      cssTF = tf.length > 9 ? '-' + tf.slice(0, -9).toLowerCase() + '-' : '';\n\n  cssTF += 'transform';\n\n  // Add it to the body to get the computed style\n  body.insertBefore(el, null);\n\n  el.style[tf] = 'translate3d(1px,1px,1px)';\n  has3d = window.getComputedStyle(el).getPropertyValue(cssTF);\n\n  body.fake ? resetFakeBody(body, docOverflow) : el.remove();\n\n  return (has3d !== undefined && has3d.length > 0 && has3d !== \"none\");\n}\n","export function getSlideId() {\n  var id = window.tnsId;\n  window.tnsId = !id ? 1 : id + 1;\n  \n  return 'tns' + window.tnsId;\n}","// create and append style sheet\nexport function createStyleSheet (media, nonce) {\n  // Create the <style> tag\n  var style = document.createElement(\"style\");\n  // style.setAttribute(\"type\", \"text/css\");\n\n  // Add a media (and/or media query) here if you'd like!\n  // style.setAttribute(\"media\", \"screen\")\n  // style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n  if (media) { style.setAttribute(\"media\", media); }\n\n  // Add nonce attribute for Content Security Policy\n  if (nonce) { style.setAttribute(\"nonce\", nonce); }\n\n  // WebKit hack :(\n  // style.appendChild(document.createTextNode(\"\"));\n\n  // Add the <style> element to the page\n  document.querySelector('head').appendChild(style);\n\n  return style.sheet ? style.sheet : style.styleSheet;\n};","export function jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n  var tick = Math.min(duration, 10),\n      unit = (to.indexOf('%') >= 0) ? '%' : 'px',\n      to = to.replace(unit, ''),\n      from = Number(element.style[attr].replace(prefix, '').replace(postfix, '').replace(unit, '')),\n      positionTick = (to - from) / duration * tick,\n      running;\n\n  setTimeout(moveElement, tick);\n  function moveElement() {\n    duration -= tick;\n    from += positionTick;\n    element.style[attr] = prefix + from + unit + postfix;\n    if (duration > 0) { \n      setTimeout(moveElement, tick); \n    } else {\n      callback();\n    }\n  }\n}","// cross browsers addRule method\nimport { raf } from './raf.js';\nexport function removeCSSRule(sheet, index) {\n  // return raf(function() {\n    'deleteRule' in sheet ?\n      sheet.deleteRule(index) :\n      sheet.removeRule(index);\n  // });\n}","export function toDegree (y, x) {\n  return Math.atan2(y, x) * (180 / Math.PI);\n}","export function getTouchDirection(angle, range) {\n  var direction = false,\n      gap = Math.abs(90 - Math.abs(angle));\n      \n  if (gap >= 90 - range) {\n    direction = 'horizontal';\n  } else if (gap <= range) {\n    direction = 'vertical';\n  }\n\n  return direction;\n}","import { tns } from \"tiny-slider/src/tiny-slider\";\r\n\r\nfunction slider () {\r\n    const left = document.querySelector(\".slider__left\"),\r\n          right = document.querySelector(\".slider__right\");\r\n\r\n    const hidArow = () => {\r\n      if (document.documentElement.clientWidth <= 768){\r\n        left.style.display = \"none\";\r\n        right.style.display = \"none\";\r\n      } else {\r\n        left.style.display = \"block\";\r\n        right.style.display = \"block\";\r\n      }\r\n    }\r\n    hidArow();\r\n\r\n    let slider = tns({\r\n        container: '.slider__inner',\r\n        items: 1,\r\n        slideBy: 'page',\r\n        controls: false,\r\n        nav: false,\r\n        mouseDrag: true,\r\n        speed: 1000,\r\n      });\r\n    left.addEventListener(\"click\", () =>{\r\n      slider.goTo(\"prev\")\r\n    })\r\n    right.addEventListener(\"click\", () =>{\r\n      slider.goTo(\"next\")\r\n    })\r\n    window.addEventListener('resize', function() {\r\n      hidArow();\r\n      slider.refresh(); // Обновить слайдер\r\n    });\r\n    setInterval(()=>{\r\n      slider.goTo(\"next\")\r\n    }, 10000)\r\n}\r\nexport default  slider;","// Функция строит карточки, в качестве аргументов можно передать, либо \"obj\" либо \"fetch\". Если obj тогда данные для построения карточек будут взяты из локального обьекта data\r\nfunction cards (method='obj') {\r\n    // Если получаем данные дистанциооно, то в url надо указать путь для получения данных\r\n    const url = \"http://localhost:4000/cards\";\r\n    const data = {\r\n        cards: [\r\n          {\r\n            img: \"img/polar.jpg\",\r\n            altimg: \"polar\",\r\n            cardInfo: \"Пульсометр Polar FT1'\",\r\n            cardText: \"Для первых шагов в тренировках, основанных на сердечном ритме\",\r\n            oldPrice: 60,\r\n            newPrice: 50,\r\n            li1: \"Вы услышите звуковое оповещение о нужном пульсе во время тренировки;\",\r\n            li2: \"Вы увидите информативный графический индикатор целевых тренировочных зон пульса;\",\r\n            li3: \"Также Вы увидите информацию о расходе калорий за тренировку;\",\r\n            li4: \"Вы сможете посмотреть данные по 10 тренировкам.\",\r\n            category: \"fitness\"\r\n          },\r\n          {\r\n            img: \"img/polar.jpg\",\r\n            altimg: \"polar\",\r\n            cardInfo: \"Пульсометр Suunto M2'\",\r\n            cardText: \"Для первых шагов в тренировках, основанных на сердечном ритме\",\r\n            oldPrice: 70,\r\n            newPrice: 60,\r\n            li1: \"Вы услышите звуковое оповещение о нужном пульсе во время тренировки;\",\r\n            li2: \"Вы увидите информативный графический индикатор целевых тренировочных зон пульса;\",\r\n            li3: \"Также Вы увидите информацию о расходе калорий за тренировку;\",\r\n            li4: \"Вы сможете посмотреть данные по 10 тренировкам.\",\r\n            category: \"run\"\r\n          },\r\n          {\r\n            img: \"img/polar.jpg\",\r\n            altimg: \"polar\",\r\n            cardInfo: \"Пульсометр Polar FT1\",\r\n            cardText: \"Для первых шагов в тренировках, основанных на сердечном ритме\",\r\n            oldPrice: 40,\r\n            newPrice: 30,\r\n            li1: \"Вы услышите звуковое оповещение о нужном пульсе во время тренировки;\",\r\n            li2: \"Вы увидите информативный графический индикатор целевых тренировочных зон пульса;\",\r\n            li3: \"Также Вы увидите информацию о расходе калорий за тренировку;\",\r\n            li4: \"Вы сможете посмотреть данные по 10 тренировкам.\",\r\n            category: \"triathlon\"\r\n          },\r\n          {\r\n            img: \"img/polar.jpg\",\r\n            altimg: \"polar\",\r\n            cardInfo: \"Пульсометр Polar FT1'\",\r\n            cardText: \"Для первых шагов в тренировках, основанных на сердечном ритме\",\r\n            oldPrice: 60,\r\n            newPrice: 50,\r\n            li1: \"Вы услышите звуковое оповещение о нужном пульсе во время тренировки;\",\r\n            li2: \"Вы увидите информативный графический индикатор целевых тренировочных зон пульса;\",\r\n            li3: \"Также Вы увидите информацию о расходе калорий за тренировку;\",\r\n            li4: \"Вы сможете посмотреть данные по 10 тренировкам.\",\r\n            category: \"fitness\"\r\n          },\r\n          {\r\n            img: \"img/polar.jpg\",\r\n            altimg: \"polar\",\r\n            cardInfo: \"Пульсометр Suunto M2'\",\r\n            cardText: \"Для первых шагов в тренировках, основанных на сердечном ритме\",\r\n            oldPrice: 70,\r\n            newPrice: 60,\r\n            li1: \"Вы услышите звуковое оповещение о нужном пульсе во время тренировки;\",\r\n            li2: \"Вы увидите информативный графический индикатор целевых тренировочных зон пульса;\",\r\n            li3: \"Также Вы увидите информацию о расходе калорий за тренировку;\",\r\n            li4: \"Вы сможете посмотреть данные по 10 тренировкам.\",\r\n            category: \"run\"\r\n          },\r\n          {\r\n            img: \"img/polar.jpg\",\r\n            altimg: \"polar\",\r\n            cardInfo: \"Пульсометр Polar FT1\",\r\n            cardText: \"Для первых шагов в тренировках, основанных на сердечном ритме\",\r\n            oldPrice: 40,\r\n            newPrice: 30,\r\n            li1: \"Вы услышите звуковое оповещение о нужном пульсе во время тренировки;\",\r\n            li2: \"Вы увидите информативный графический индикатор целевых тренировочных зон пульса;\",\r\n            li3: \"Также Вы увидите информацию о расходе калорий за тренировку;\",\r\n            li4: \"Вы сможете посмотреть данные по 10 тренировкам.\",\r\n            category: \"triathlon\"\r\n          }\r\n        ]\r\n      }\r\n\r\n    // Динамически формируем карточки\r\n    const menuWraper = document.querySelector(\".catalog__cards\");\r\n    class Menu {\r\n        constructor(img, alt, cardInfo, cardText, oldPrice, newPrice, li1, li2, li3, li4, wraper) {\r\n            this.img = img;\r\n            this.alt = alt;\r\n            this.cardInfo = cardInfo;\r\n            this.cardText = cardText;\r\n            this.oldPrice = oldPrice;\r\n            this.newPrice = newPrice;\r\n            this.li1 = li1;\r\n            this.li2 = li2;\r\n            this.li3 = li3;\r\n            this.li4 = li4;\r\n            this.wraper = wraper;\r\n        }\r\n        render(){\r\n            const div = document.createElement(\"div\");\r\n            div.classList.add(\"card\");\r\n            div.classList.add(\"card_mb10\");\r\n            div.innerHTML = `\r\n                        <div class=\"card__content-wrapper\">\r\n                            <div class=\"card__content\">\r\n                                <img src=${this.img} alt=\"${this.alt}\">\r\n                                <div class=\"card__info\">${this.cardInfo}</div>\r\n                                <div class=\"card__text\">${this.cardText}</div>\r\n                                <div class=\"card__inspect\">ПОДРОБНЕЕ</div>\r\n                            </div>\r\n                            <ul class=\"card__description\">\r\n                                <li>${this.li1}</li>\r\n                                <li>${this.li2}</li>\r\n                                <li>${this.li3}</li>\r\n                                <li>${this.li4}</li>\r\n                                <div class=\"card__back\">НАЗАД</div>\r\n                            </ul>\r\n                        </div>\r\n                        <hr>\r\n                        <div class=\"card__footer\">\r\n                            <div class=\"card__prices\">\r\n                                <div class=\"card__old-price\">${this.oldPrice} EURO</div>\r\n                                <div class=\"card__new-price\">${this.newPrice} EURO</div>\r\n                            </div>\r\n                            <button class=\"button button_buy\" data-btn=\"btn-buy\">Купить</button>\r\n                        </div>\r\n            `;\r\n            this.wraper.append(div);\r\n        }\r\n    }\r\n    // Функция добаляет клас для отображения карточки, он необходима для плавной анимации появления карточки\r\n    function addShowClass () {\r\n        document.querySelectorAll(\".card\").forEach(card =>{\r\n            card.classList.add(\"card_show\")\r\n        })\r\n    }\r\n    // функция добаляет клас внутри карточки который передвигает содержимое карточки вправо или влево когда мы нажимаем на кнопки ПОДРОБНЕЕ или назад\r\n    function addEventListener () {\r\n        document.addEventListener(\"click\", (e)=>{\r\n            if (e.target && (e.target.classList.contains(\"card__inspect\") || e.target.classList.contains(\"card__back\"))){\r\n                e.target.parentElement.parentElement.classList.toggle(\"card__content-wrapper_translate\")\r\n            }\r\n        })\r\n    }\r\n\r\n    // Функция принимает на вход метод получения данных и фильтр для фильтрации карточек, и рендерит карточки\r\n    function renderPage({method='fetch', filter='all'}) {\r\n        if(method==='fetch'){\r\n            fetch(url)\r\n            .then(data => data.json())\r\n            .then(data =>{\r\n                if (filter == 'all'){\r\n                    data.forEach(card =>{\r\n                        new Menu(card.img, card.alt, card.cardInfo, card.cardText, card.oldPrice, card.newPrice, card.li1, card.li2, card.li3, card.li4, menuWraper).render();\r\n                    });\r\n                } else {\r\n                    data.filter((item)=>(item.category == filter)).forEach(card =>{\r\n                        new Menu(card.img, card.alt, card.cardInfo, card.cardText, card.oldPrice, card.newPrice, card.li1, card.li2, card.li3, card.li4, menuWraper).render();\r\n                    });\r\n                }\r\n                addShowClass ();\r\n            });\r\n        } else {\r\n            if (filter == 'all'){\r\n                data.cards.forEach(card =>{\r\n                    new Menu(card.img, card.alt, card.cardInfo, card.cardText, card.oldPrice, card.newPrice, card.li1, card.li2, card.li3, card.li4, menuWraper).render();\r\n                });\r\n            } else {\r\n                data.cards.filter((item)=>(item.category == filter)).forEach(card =>{\r\n                    new Menu(card.img, card.alt, card.cardInfo, card.cardText, card.oldPrice, card.newPrice, card.li1, card.li2, card.li3, card.li4, menuWraper).render();\r\n                });\r\n            }\r\n            addShowClass ();\r\n        }\r\n        addEventListener ()\r\n    }\r\n    function createMenu(filter='all'){\r\n        menuWraper.innerHTML = '';\r\n        renderPage({method: method, filter: filter})\r\n    }\r\n    createMenu();\r\n    document.addEventListener('click', (e)=>{\r\n        if(e.target && e.target.parentElement.classList.contains(\"catalog__tab\")){\r\n            document.querySelectorAll(\".catalog__tab\").forEach(element =>{\r\n                element.classList.remove(\"catalog__tab_activ\")\r\n            })\r\n            e.target.parentElement.classList.add(\"catalog__tab_activ\");\r\n            switch (e.target.innerHTML) {\r\n                case 'для фитнеса':\r\n                    createMenu(\"fitness\");\r\n                    break;\r\n                case 'для бега':\r\n                    createMenu(\"run\");\r\n                    break;\r\n                case 'для триатлона':\r\n                    createMenu(\"triathlon\");\r\n                    break;\r\n                default:\r\n                    createMenu();\r\n            }\r\n        }\r\n    })\r\n}\r\nexport default cards;","class RuleError extends Error {\n  constructor(cause, ...args) {\n    super(cause);\n    this.args = args;\n  }\n}\n\nconst ACCEPTED = \"accepted\";\nconst ALPHA = \"alpha\";\nconst ALPHA_NUM = \"alpha-num\";\nconst ALPHA_NUM_DASH = \"alpha-num-dash\";\nconst BETWEEN_LENGTH = \"between-length\";\nconst BETWEEN_NUMBER = \"between-number\";\nconst DIGITS = \"digits\";\nconst EMAIL = \"email\";\nconst ENDS_WITH = \"ends-with\";\nconst EQUAL_LENGTH = \"equal-length\";\nconst EQUAL_NUMBER = \"equal-number\";\nconst GREATER_EQUAL = \"greater-equal\";\nconst INTEGER = \"integer\";\nconst LESS_EQUAL = \"less-equal\";\nconst MAX_LENGTH = \"max-length\";\nconst MIN_LENGTH = \"min-length\";\nconst NUM_DASH = \"num-dash\";\nconst NUMBER = \"number\";\nconst REGEX = \"regex\";\nconst REQUIRED = \"required\";\nconst STARTS_WITH = \"starts-with\";\nconst WITHIN = \"within\";\n\nfunction accepted(value) {\n  if (value === \"checked\") {\n    return true;\n  }\n  return new RuleError(ACCEPTED);\n}\n\nconst email$1 = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst integer = /^[+-]?\\d+$/;\nconst number$1 = /^[+-]?(\\d+|\\d*\\.\\d*)$/;\nconst alpha$1 = /^[\\p{L}\\p{M}]+$/u;\nconst alphaNum$1 = /^[\\p{L}\\p{M}\\p{N}]+$/u;\nconst alphaNumDash$1 = /^[\\p{L}\\p{M}\\p{N}_-]+$/u;\nconst numDash$1 = /^[\\p{N}_-]+$/u;\n\nfunction alpha(value) {\n  return alpha$1.test(value) || new RuleError(ALPHA);\n}\n\nfunction alphaNum(value) {\n  return alphaNum$1.test(value) || new RuleError(ALPHA_NUM);\n}\n\nfunction alphaNumDash(value) {\n  return alphaNumDash$1.test(value) || new RuleError(ALPHA_NUM_DASH);\n}\n\nclass Language {\n  set(lang) {\n    this.lang = lang;\n  }\n  get() {\n    return typeof this.lang === \"object\" ? this.lang : {};\n  }\n}\nconst Language$1 = new Language();\n\nconst TYPE_CHECKBOX = \"checkbox\";\nconst TYPE_RADIO = \"radio\";\n\nfunction toCamelCase(value) {\n  return value.replace(/-./g, (match) => match[1].toUpperCase());\n}\nfunction getValue(element) {\n  if (element instanceof HTMLInputElement) {\n    if (element.type === TYPE_CHECKBOX || element.type === TYPE_RADIO) {\n      return element.checked ? \"checked\" : \"\";\n    }\n    return element.value;\n  }\n  if (element instanceof HTMLTextAreaElement) {\n    return element.value;\n  }\n  if (element instanceof HTMLSelectElement) {\n    return Array.from(element.selectedOptions).map((option) => option.value).join(\",\");\n  }\n  return \"\";\n}\nfunction format(message, ...toReplace) {\n  return message.replace(/\\$(\\d)/g, (_, index) => toReplace?.[index - 1] || \"\");\n}\nfunction processRule(rule, xRules) {\n  let [name, argsText = \"\"] = rule.split(\":\");\n  if (isXRule(rule)) {\n    if (!hasArgument(rule)) {\n      throw new Error(`${rule}: x-rules require an argument that is defined in the config.xRules object`);\n    }\n    name = name.substring(2);\n    argsText = String(xRules?.[argsText]) || \"\";\n  }\n  return {\n    name,\n    argsText,\n    args: processArgs(argsText)\n  };\n}\nfunction processArgs(args) {\n  return args ? args.split(\",\") : [];\n}\nfunction lang(key, ...args) {\n  const languages = Language$1.get();\n  let item = key;\n  if (Object.prototype.hasOwnProperty.call(languages, key)) {\n    item = languages[key];\n  }\n  return format(item, ...args);\n}\nfunction when(condition) {\n  return {\n    throwError(message) {\n      if (condition) {\n        throw new Error(message);\n      }\n    }\n  };\n}\nfunction defaultErrorListeners(events) {\n  events.on(\"field:error\", (_parentEl, element, errors) => {\n    errors.reverse().forEach((error) => {\n      const messageElement = document.createElement(\"p\");\n      messageElement.classList.add(\"validator-err\");\n      messageElement.innerHTML = error.message;\n      if (element.parentNode) {\n        element.parentNode.insertBefore(messageElement, element.nextSibling);\n      }\n    });\n  });\n  events.on(\"validation:start\", (container) => {\n    container.querySelectorAll(\".validator-err\").forEach((el) => {\n      el.remove();\n    });\n  });\n}\nfunction hasArgument(rule) {\n  return rule.includes(\":\") && rule.split(\":\").length === 2;\n}\nfunction isXRule(rule) {\n  return rule.startsWith(\"x-\");\n}\n\nconst ARGUMENT_MUST_BE_PROVIDED = \"An argument must be provided\";\nconst ARGUMENT_MUST_BE_A_NUMBER = \"The argument must be a number\";\nconst ARGUMENT_MUST_BE_POSITIVE = \"The argument must be a positive number\";\nconst ARGUMENT_MUST_BE_AN_INTEGER = \"The argument must be an integer\";\nconst INVALID_PATTERN = \"Invalid pattern provided\";\n\nfunction between(value, args = \"\") {\n  const [type, minArg, maxArg] = processArgs(args);\n  when(!type).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  when(!minArg || !maxArg).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  const min = Number(minArg);\n  const max = Number(maxArg);\n  when(Number.isNaN(min) || Number.isNaN(max)).throwError(ARGUMENT_MUST_BE_A_NUMBER);\n  when(min > max).throwError(\"min must be less than max\");\n  when(min === max).throwError(\"min and max must not be equal\");\n  if (type === \"number\") {\n    return betweenForNumber(value, min, max);\n  } else {\n    return betweenForString(value, min, max);\n  }\n}\nfunction betweenForNumber(value, min, max) {\n  const valueInNumber = Number(value);\n  if (value !== \"\" && !Number.isNaN(valueInNumber) && valueInNumber >= min && valueInNumber <= max) {\n    return true;\n  }\n  return new RuleError(BETWEEN_NUMBER, String(min), String(max));\n}\nfunction betweenForString(value, min, max) {\n  when(min < 0 || max < 0).throwError(ARGUMENT_MUST_BE_POSITIVE);\n  if (value.length >= min && value.length <= max) {\n    return true;\n  }\n  return new RuleError(BETWEEN_LENGTH, String(min), String(max));\n}\n\nfunction digits(value, digitLength = \"\") {\n  when(digitLength === \"\").throwError(ARGUMENT_MUST_BE_PROVIDED);\n  when(int(digitLength) !== true || +digitLength < 1).throwError(ARGUMENT_MUST_BE_AN_INTEGER);\n  const regex = new RegExp(`^-?[0-9]{${digitLength}}$`);\n  return regex.test(value) ? true : new RuleError(DIGITS, digitLength);\n}\n\nfunction endsWith(value, end = \"\") {\n  when(end === \"\").throwError(ARGUMENT_MUST_BE_PROVIDED);\n  return value.endsWith(end) || new RuleError(ENDS_WITH, end);\n}\n\nfunction email(value) {\n  return email$1.test(value) || new RuleError(EMAIL);\n}\n\nfunction min(value, args = \"\") {\n  const [type, min2] = processArgs(args);\n  when(!type).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  when(!min2).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  const minInNumber = Number(min2);\n  when(Number.isNaN(minInNumber)).throwError(ARGUMENT_MUST_BE_A_NUMBER);\n  if (type === \"number\") {\n    return minForNumber(value, minInNumber);\n  } else {\n    return minForString(value, minInNumber);\n  }\n}\nfunction minForNumber(value, min2) {\n  const valueInNumber = Number(value);\n  if (value !== \"\" && !Number.isNaN(valueInNumber) && valueInNumber >= min2) {\n    return true;\n  }\n  return new RuleError(GREATER_EQUAL, String(min2));\n}\nfunction minForString(value, min2) {\n  when(min2 < 0).throwError(ARGUMENT_MUST_BE_POSITIVE);\n  if (value.length >= min2) {\n    return true;\n  }\n  return new RuleError(MIN_LENGTH, String(min2));\n}\n\nfunction int(value) {\n  return integer.test(value) || new RuleError(INTEGER);\n}\n\nfunction max(value, args = \"\") {\n  const [type, max2] = processArgs(args);\n  when(!type).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  when(!max2).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  const maxInNumber = Number(max2);\n  when(Number.isNaN(maxInNumber)).throwError(ARGUMENT_MUST_BE_A_NUMBER);\n  if (type === \"number\") {\n    return maxForNumber(value, maxInNumber);\n  } else {\n    return maxForString(value, maxInNumber);\n  }\n}\nfunction maxForNumber(value, max2) {\n  const valueInNumber = Number(value);\n  if (value !== \"\" && !Number.isNaN(valueInNumber) && valueInNumber <= max2) {\n    return true;\n  }\n  return new RuleError(LESS_EQUAL, String(max2));\n}\nfunction maxForString(value, max2) {\n  when(max2 < 0).throwError(ARGUMENT_MUST_BE_POSITIVE);\n  if (value.length <= max2) {\n    return true;\n  }\n  return new RuleError(MAX_LENGTH, String(max2));\n}\n\nfunction number(value) {\n  return number$1.test(value) || new RuleError(NUMBER);\n}\n\nfunction numDash(value) {\n  return numDash$1.test(value) || new RuleError(NUM_DASH);\n}\n\nconst isValidPattern = (pattern) => {\n  try {\n    new RegExp(pattern);\n    return true;\n  } catch {\n    return false;\n  }\n};\nconst stringToRegex = (str) => {\n  const main = str.match(/\\/(.+)\\/.*/)?.[1] ?? \"\";\n  const options = str.match(/\\/.+\\/(.*)/)?.[1] ?? \"\";\n  return new RegExp(main, options);\n};\nfunction regex(value, pattern) {\n  when(!pattern).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  when(isValidPattern(pattern) === false).throwError(INVALID_PATTERN);\n  const regExp = stringToRegex(pattern);\n  return regExp.test(value) || new RuleError(REGEX);\n}\n\nfunction required(value) {\n  return value.trim().length > 0 || new RuleError(REQUIRED);\n}\n\nfunction requiredIf(value, targetValue = \"\") {\n  const isTargetValueProvided = required(targetValue);\n  if (isTargetValueProvided === true) {\n    return required(value);\n  }\n  return true;\n}\n\nfunction size(value, args = \"\") {\n  const [type, size2] = processArgs(args);\n  when(!type).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  when(!size2).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  const sizeInNumber = Number(size2);\n  when(Number.isNaN(sizeInNumber)).throwError(ARGUMENT_MUST_BE_A_NUMBER);\n  return type === \"number\" ? sizeForNumber(value, sizeInNumber) : sizeForString(value, sizeInNumber);\n}\nfunction sizeForNumber(value, size2) {\n  const valueInNumber = Number(value);\n  if (value !== \"\" && !Number.isNaN(valueInNumber) && valueInNumber === size2) {\n    return true;\n  }\n  return new RuleError(EQUAL_NUMBER, String(size2));\n}\nfunction sizeForString(value, size2) {\n  when(size2 < 0).throwError(ARGUMENT_MUST_BE_POSITIVE);\n  if (value.length === size2) {\n    return true;\n  }\n  return new RuleError(EQUAL_LENGTH, String(size2));\n}\n\nfunction startsWith(value, start = \"\") {\n  when(start === \"\").throwError(ARGUMENT_MUST_BE_PROVIDED);\n  return value.startsWith(start) || new RuleError(STARTS_WITH, start);\n}\n\nfunction within(value, values) {\n  const [type, ...list] = processArgs(values);\n  when(!type).throwError(ARGUMENT_MUST_BE_PROVIDED);\n  if (type === \"array\") {\n    const splittedValue = processArgs(value);\n    for (const value2 of splittedValue) {\n      if (!list.includes(value2)) {\n        return new RuleError(WITHIN);\n      }\n    }\n    return true;\n  }\n  return list.includes(value) || new RuleError(WITHIN);\n}\n\nconst rules = {\n  __proto__: null,\n  accepted: accepted,\n  alpha: alpha,\n  alphaNum: alphaNum,\n  alphaNumDash: alphaNumDash,\n  between: between,\n  digits: digits,\n  endsWith: endsWith,\n  email: email,\n  min: min,\n  integer: int,\n  int: int,\n  max: max,\n  number: number,\n  numDash: numDash,\n  regex: regex,\n  required: required,\n  requiredIf: requiredIf,\n  size: size,\n  startsWith: startsWith,\n  within: within,\n  'in': within\n};\n\nclass ValidatorError {\n  constructor() {\n    this.lang = Language$1.get();\n    this.errorsList = [];\n  }\n  setError(element, rule, ruleError) {\n    let errors = this.errorsList.find((error) => error[0].element === element);\n    if (!errors) {\n      errors = [];\n      this.errorsList.push(errors);\n    }\n    const errorMessage = lang(ruleError.message, ...ruleError.args);\n    const errorDetail = {\n      message: errorMessage,\n      element,\n      rule,\n      cause: ruleError.message,\n      args: ruleError.args\n    };\n    errors.push(errorDetail);\n  }\n  get hasError() {\n    return Object.keys(this.errorsList).length > 0;\n  }\n  get errors() {\n    return this.errorsList;\n  }\n  clearErrors() {\n    this.errorsList = [];\n  }\n}\n\nclass EventBus {\n  constructor(events = {}) {\n    this.events = {};\n    const keys = Object.keys(events);\n    keys.forEach((key) => {\n      if (typeof events[key] === \"function\") {\n        this.events[key] = [];\n        this.events[key].push(events[key]);\n      }\n    });\n  }\n  on(event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n    const events = this.events[event];\n    events.push(callback);\n  }\n  off(event, callback) {\n    if (typeof this.events[event] === \"undefined\") {\n      return;\n    }\n    const events = this.events[event];\n    const index = events.indexOf(callback);\n    if (index !== -1) {\n      events.splice(index, 1);\n    }\n  }\n  call(event, ...args) {\n    if (typeof this.events[event] !== \"undefined\") {\n      const events = this.events[event];\n      events.forEach((callback) => {\n        callback(...args);\n      });\n    }\n  }\n  clear() {\n    this.events = {};\n  }\n}\n\nconst mapMethods = {\n  requiredIf: prependTargetValue,\n  between: prependType,\n  size: prependType,\n  min: prependType,\n  max: prependType,\n  in: prependType\n};\nfunction adaptRule(rule, rules, field, container, xRules) {\n  const ruleName = toCamelCase(processRule(rule, xRules).name);\n  return mapMethods[ruleName]?.(rule, rules, field, container, xRules) || rule;\n}\nfunction prependType(rule, rules, _field, _parentEl, xRules) {\n  const { name, argsText } = processRule(rule, xRules);\n  const indexOfRule = rules.indexOf(rule);\n  const rulesBeforeRule = rules.slice(0, indexOfRule);\n  let type = \"string\";\n  if (rulesBeforeRule.includes(\"number\") || rulesBeforeRule.includes(\"int\") || rulesBeforeRule.includes(\"integer\")) {\n    type = \"number\";\n  } else if (rulesBeforeRule.includes(\"array\")) {\n    type = \"array\";\n  }\n  return `${name}:${type},${argsText}`;\n}\nfunction prependTargetValue(rule, _rules, _field, _parentEl, xRules) {\n  const { name, args } = processRule(rule, xRules);\n  if (args.length === 0)\n    return name;\n  let targetValue = \"\";\n  if (args.length > 0) {\n    const targetField = document.getElementById(args[0]);\n    if (targetField !== null) {\n      targetValue = getValue(targetField);\n    }\n  }\n  args.splice(0, 1, targetValue);\n  return `${name}:${args.join(\",\")}`;\n}\n\nconst defaultOptions = {\n  renderErrors: true,\n  onFieldChangeValidationDelay: 500\n};\nclass Validator {\n  constructor(container, options = {}) {\n    if (container === null || !(container instanceof HTMLElement)) {\n      throw new Error(\"Invalid container element\");\n    }\n    this.options = Object.assign(defaultOptions, options);\n    this.validatorError = new ValidatorError();\n    this.events = new EventBus(this.options.on);\n    this.container = container;\n    Language$1.set(this.options.lang);\n    if (this.options.renderErrors) {\n      defaultErrorListeners(this.events);\n    }\n    this.events.on(\"validation:start\", () => this.validatorError.clearErrors());\n    this.events.on(\"validation:failed\", () => this.triggerFieldErrorEvent());\n    if (options.onFieldChangeValidation) {\n      this.validateOnFieldChange();\n    }\n  }\n  validate(fields, shouldFireResultsEvent = true) {\n    this.events.call(\"validation:start\", this.container);\n    let isSuccessful = true;\n    let status = \"success\";\n    if (fields === void 0) {\n      fields = this.container.querySelectorAll(\"[data-rules]\");\n    }\n    if (fields.length > 0) {\n      isSuccessful = this.validateFields(Array.from(fields));\n      status = isSuccessful ? \"success\" : \"failed\";\n    }\n    this.events.call(\"validation:end\", this.container, isSuccessful);\n    if (shouldFireResultsEvent) {\n      this.events.call(`validation:${status}`, this.container);\n    }\n    return isSuccessful;\n  }\n  on(event, callback) {\n    this.events.on(event, callback);\n  }\n  off(event, callback) {\n    this.events.off(event, callback);\n  }\n  validateFields(fields) {\n    for (const field of fields) {\n      const fieldRules = field.getAttribute(\"data-rules\")?.split(\"|\");\n      if (fieldRules && fieldRules.length > 0) {\n        const value = getValue(field);\n        const shouldStopOnFirstFailure = this.shouldStopOnFirstFailure(fieldRules);\n        const computedFieldRules = this.getComputedFieldRules(fieldRules, field);\n        for (const fieldRule of computedFieldRules) {\n          const { name: ruleName, argsText: ruleArgs } = processRule(fieldRule, this.options.xRules);\n          const ruleKey = toCamelCase(ruleName);\n          if (this.isNullable(ruleKey) && value === \"\") {\n            break;\n          }\n          if (ruleKey in rules) {\n            try {\n              const result = rules[ruleKey](value, ruleArgs);\n              if (result instanceof RuleError) {\n                this.validatorError.setError(field, ruleName, result);\n                if (shouldStopOnFirstFailure) {\n                  break;\n                }\n              }\n            } catch (error) {\n              console.error(new Error(`${ruleName}: ${error.message}`));\n              return false;\n            }\n          }\n        }\n      }\n    }\n    return !this.validatorError.hasError;\n  }\n  shouldStopOnFirstFailure(givenRules) {\n    return givenRules.includes(\"bail\");\n  }\n  isNullable(givenRules) {\n    return givenRules === \"nullable\";\n  }\n  getComputedFieldRules(givenRules, field) {\n    return givenRules.map((rule) => adaptRule(rule, givenRules, field, this.container, this.options.xRules));\n  }\n  triggerFieldErrorEvent() {\n    const totalErrors = this.validatorError.errors;\n    totalErrors.forEach((fieldErrors) => {\n      if (fieldErrors.length === 0)\n        return;\n      this.events.call(\"field:error\", this.container, fieldErrors[0].element, fieldErrors);\n    });\n  }\n  validateOnFieldChange() {\n    let timeout;\n    this.container.addEventListener(\"input\", (event) => {\n      window.clearTimeout(timeout);\n      const delay = this.options.onFieldChangeValidationDelay;\n      timeout = window.setTimeout(() => {\n        const target = event.target;\n        if (target.matches(\"[data-rules]\")) {\n          const result = this.validate([target], false);\n          if (result === false) {\n            this.triggerFieldErrorEvent();\n          }\n        }\n      }, delay);\n    });\n  }\n  setLanguage(lang) {\n    Language$1.set(lang);\n  }\n}\nconst Validator$1 = Validator;\n\nconst enLang = {\n  [ACCEPTED]: \"Please accept this field\",\n  [ALPHA]: \"Please enter only alphabetic characters\",\n  [ALPHA_NUM]: \"Please enter only alpha-numeric characters\",\n  [ALPHA_NUM_DASH]: \"Please enter only alpha-numeric characters, dashes, and underscores\",\n  [BETWEEN_LENGTH]: \"The value must have between $1 and $2 characters\",\n  [BETWEEN_NUMBER]: \"Please enter a number between $1 and $2\",\n  [DIGITS]: \"The value must be a $1-digits number\",\n  [EMAIL]: \"Please enter a valid email address\",\n  [ENDS_WITH]: 'The value must ends with \"$1\"',\n  [EQUAL_LENGTH]: \"The value must have $1 characters\",\n  [EQUAL_NUMBER]: \"The value must be equal to $1\",\n  [GREATER_EQUAL]: \"Please enter a number greater than or equal to $1\",\n  [INTEGER]: \"The value must be a valid integer\",\n  [LESS_EQUAL]: \"Please enter a number less than or equal to $1\",\n  [MAX_LENGTH]: \"Max length is $1\",\n  [MIN_LENGTH]: \"Min length is $1\",\n  [NUM_DASH]: \"Please enter numbers with dashes and underscores\",\n  [NUMBER]: \"Please enter a valid number\",\n  [REGEX]: \"The value doesn't match the pattern\",\n  [REQUIRED]: \"This field is required\",\n  [STARTS_WITH]: 'The value must start with \"$1\"',\n  [WITHIN]: \"The value is incorrect\"\n};\nconst enLang$1 = enLang;\n\nconst faLang = {\n  [ACCEPTED]: \"\\u0644\\u0637\\u0641\\u0627 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0631\\u0627 \\u062A\\u06CC\\u06A9 \\u0628\\u0632\\u0646\\u06CC\\u062F\",\n  [ALPHA]: \"\\u0644\\u0637\\u0641\\u0627\\u064B \\u0641\\u0642\\u0637 \\u062D\\u0631\\u0648\\u0641 \\u0627\\u0644\\u0641\\u0628\\u0627 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [ALPHA_NUM]: \"\\u0644\\u0637\\u0641\\u0627\\u064B \\u0641\\u0642\\u0637 \\u0627\\u0639\\u062F\\u0627\\u062F\\u060C \\u0632\\u06CC\\u0631 \\u062E\\u0637 \\u0648 \\u062E\\u0637 \\u0641\\u0627\\u0635\\u0644\\u0647 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [ALPHA_NUM_DASH]: \"\\u0644\\u0637\\u0641\\u0627\\u064B \\u0641\\u0642\\u0637 \\u062D\\u0631\\u0648\\u0641 \\u0627\\u0644\\u0641\\u0628\\u0627\\u060C \\u0627\\u0639\\u062F\\u0627\\u062F\\u060C \\u0632\\u06CC\\u0631 \\u062E\\u0637 \\u0648 \\u062E\\u0637 \\u0641\\u0627\\u0635\\u0644\\u0647 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [BETWEEN_LENGTH]: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0628\\u0627\\u06CC\\u062F \\u0628\\u06CC\\u0646 $1 \\u0648 $2 \\u06A9\\u0627\\u0631\\u0627\\u06A9\\u062A\\u0631 \\u0628\\u0627\\u0634\\u062F\",\n  [BETWEEN_NUMBER]: \"\\u0644\\u0637\\u0641\\u0627 \\u06CC\\u06A9 \\u0639\\u062F\\u062F \\u0628\\u06CC\\u0646 $1 \\u0648 $2 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [DIGITS]: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0628\\u0627\\u06CC\\u062F $1 \\u0631\\u0642\\u0645 \\u0628\\u0627\\u0634\\u062F\",\n  [EMAIL]: \"\\u0644\\u0637\\u0641\\u0627 \\u06CC\\u06A9 \\u0622\\u062F\\u0631\\u0633 \\u0627\\u06CC\\u0645\\u06CC\\u0644 \\u0645\\u0639\\u062A\\u0628\\u0631 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [ENDS_WITH]: '\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 \"$1\" \\u067E\\u0627\\u06CC\\u0627\\u0646 \\u062F\\u0627\\u062F\\u0647 \\u0634\\u0648\\u062F',\n  [EQUAL_LENGTH]: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0628\\u0627\\u06CC\\u062F $1 \\u062D\\u0631\\u0641 \\u0628\\u0627\\u0634\\u062F\",\n  [EQUAL_NUMBER]: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0628\\u0627\\u06CC\\u062F $1 \\u0628\\u0627\\u0634\\u062F\",\n  [GREATER_EQUAL]: \"\\u0644\\u0637\\u0641\\u0627 \\u06CC\\u06A9 \\u0639\\u062F\\u062F \\u0628\\u0632\\u0631\\u06AF\\u062A\\u0631 \\u06CC\\u0627 \\u0645\\u0633\\u0627\\u0648\\u06CC $1 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [INTEGER]: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0628\\u0627\\u06CC\\u062F \\u06CC\\u06A9 \\u0639\\u062F\\u062F \\u0635\\u062D\\u06CC\\u062D \\u0628\\u0627\\u0634\\u062F\",\n  [LESS_EQUAL]: \"\\u0644\\u0637\\u0641\\u0627 \\u06CC\\u06A9 \\u0639\\u062F\\u062F \\u06A9\\u0648\\u0686\\u06A9\\u062A\\u0631 \\u06CC\\u0627 \\u0645\\u0633\\u0627\\u0648\\u06CC $1 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [MAX_LENGTH]: \"\\u062D\\u062F\\u0627\\u06A9\\u062B\\u0631 \\u0637\\u0648\\u0644 \\u0645\\u062C\\u0627\\u0632 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F $1 \\u0627\\u0633\\u062A\",\n  [MIN_LENGTH]: \"\\u062D\\u062F\\u0627\\u0642\\u0644 \\u0637\\u0648\\u0644 \\u0645\\u062C\\u0627\\u0632 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F $1 \\u0627\\u0633\\u062A\",\n  [REGEX]: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0648\\u0627\\u0631\\u062F \\u0634\\u062F\\u0647 \\u0628\\u0627 \\u0627\\u0644\\u06AF\\u0648\\u06CC \\u0645\\u0634\\u062E\\u0635 \\u0634\\u062F\\u0647 \\u0647\\u0645\\u062E\\u0648\\u0627\\u0646\\u06CC \\u0646\\u062F\\u0627\\u0631\\u062F\",\n  [REQUIRED]: \"\\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0627\\u0644\\u0632\\u0627\\u0645\\u06CC \\u0627\\u0633\\u062A\",\n  [NUM_DASH]: \"\\u0644\\u0637\\u0641\\u0627\\u064B \\u0641\\u0642\\u0637 \\u0627\\u0639\\u062F\\u0627\\u062F \\u0628\\u0627 \\u0632\\u06CC\\u0631\\u062E\\u0637 \\u0648 \\u062E\\u0637 \\u0641\\u0627\\u0635\\u0644\\u0647 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [NUMBER]: \"\\u0644\\u0637\\u0641\\u0627 \\u06CC\\u06A9 \\u0639\\u062F\\u062F \\u0645\\u0639\\u062A\\u0628\\u0631 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n  [STARTS_WITH]: '\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 \"$1\" \\u0634\\u0631\\u0648\\u0639 \\u0634\\u0648\\u062F',\n  [WITHIN]: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0627\\u06CC\\u0646 \\u0641\\u06CC\\u0644\\u062F \\u0646\\u0627\\u062F\\u0631\\u0633\\u062A \\u0627\\u0633\\u062A\"\n};\nconst faLang$1 = faLang;\n\nconst frLang = {\n  [ACCEPTED]: \"Veuillez accepter ce champ\",\n  [ALPHA]: \"Veuillez saisir uniquement des caract\\xE8res alphab\\xE9tiques\",\n  [ALPHA_NUM]: \"Veuillez saisir uniquement des caract\\xE8res alphanum\\xE9riques\",\n  [ALPHA_NUM_DASH]: \"Veuillez saisir uniquement des caract\\xE8res alphanum\\xE9riques, des tirets et des caract\\xE8res de soulignement\",\n  [BETWEEN_LENGTH]: \"La valeur doit comporter entre $1 et $2 caract\\xE8res\",\n  [BETWEEN_NUMBER]: \"Veuillez saisir un nombre entre $1 et $2 caract\\xE8res\",\n  [DIGITS]: \"La valeur doit \\xEAtre un nombre \\xE0 $1 chiffre\",\n  [EMAIL]: \"Veuillez saisir une adresse \\xE9lectronique valide\",\n  [ENDS_WITH]: 'La valeur doit se terminer par \"$1\"',\n  [EQUAL_LENGTH]: \"La valeur doit avoir des caract\\xE8res de $1\",\n  [EQUAL_NUMBER]: \"La valeur doit \\xEAtre \\xE9gale \\xE0 $1\",\n  [GREATER_EQUAL]: \"Veuillez saisir un nombre sup\\xE9rieur ou \\xE9gal \\xE0 $1\",\n  [INTEGER]: \"La valeur doit \\xEAtre un nombre entier valide\",\n  [LESS_EQUAL]: \"Veuillez entrer un nombre inf\\xE9rieur ou \\xE9gal \\xE0 $1\",\n  [MAX_LENGTH]: \"La longueur maximale est de $1\",\n  [MIN_LENGTH]: \"La longueur minimale est de $1\",\n  [NUM_DASH]: \"Veuillez saisir les chiffres avec des tirets et des caract\\xE8res de soulignement\",\n  [NUMBER]: \"Veuillez entrer un nombre valide\",\n  [REGEX]: \"La valeur ne correspond pas au mod\\xE8le\",\n  [REQUIRED]: \"Ce champ est obligatoire\",\n  [STARTS_WITH]: 'La valeur doit commencer par \"$1\"',\n  [WITHIN]: \"La valeur est incorrecte\"\n};\nconst frLang$1 = frLang;\n\nconst deLang = {\n  [ACCEPTED]: \"Bitte akzeptieren Sie dieses Feld\",\n  [ALPHA]: \"Bitte geben Sie nur alphabetische Zeichen ein\",\n  [ALPHA_NUM]: \"Bitte geben Sie nur alphanumerische Zeichen ein\",\n  [ALPHA_NUM_DASH]: \"Bitte geben Sie nur alphanumerische Zeichen, Bindestriche und Unterstriche ein\",\n  [BETWEEN_LENGTH]: \"Der Wert muss zwischen $1 und $2 Zeichen haben\",\n  [BETWEEN_NUMBER]: \"Bitte geben Sie eine Zahl zwischen $1 und $2 ein\",\n  [DIGITS]: \"Der Wert muss eine $1-stellige Zahl sein\",\n  [EMAIL]: \"Bitte geben Sie eine g\\xFCltige E-Mail-Adresse ein\",\n  [ENDS_WITH]: 'Der Wert muss mit \"$1\" enden',\n  [EQUAL_LENGTH]: \"Der Wert muss $1 Zeichen haben\",\n  [EQUAL_NUMBER]: \"Der Wert muss gleich $1 sein\",\n  [GREATER_EQUAL]: \"Bitte geben Sie eine Zahl ein, die gr\\xF6\\xDFer oder gleich $1 ist\",\n  [INTEGER]: \"Der Wert muss eine g\\xFCltige Ganzzahl sein\",\n  [LESS_EQUAL]: \"Bitte geben Sie eine Zahl ein, die kleiner oder gleich $1 ist\",\n  [MAX_LENGTH]: \"Maximale L\\xE4nge ist $1\",\n  [MIN_LENGTH]: \"Die Mindestl\\xE4nge ist $1\",\n  [NUM_DASH]: \"Bitte geben Sie Zahlen mit Bindestrichen und Unterstrichen ein\",\n  [NUMBER]: \"Bitte geben Sie eine g\\xFCltige Zahl ein\",\n  [REGEX]: \"Der Wert stimmt nicht mit dem Muster \\xFCberein\",\n  [REQUIRED]: \"Dieses Feld ist erforderlich\",\n  [STARTS_WITH]: 'Der Wert muss mit \"$1\" beginnen',\n  [WITHIN]: \"Der Wert ist falsch\"\n};\nconst deLang$1 = deLang;\n\nconst itLang = {\n  [ACCEPTED]: \"Si prega di accettare questo campo\",\n  [ALPHA]: \"Inserire solo caratteri alfabetici\",\n  [ALPHA_NUM]: \"Inserire solo caratteri alfanumerici\",\n  [ALPHA_NUM_DASH]: \"Inserire solo caratteri alfanumerici, trattini e trattini bassi\",\n  [BETWEEN_LENGTH]: \"Il valore deve essere compreso tra $1 e $2 caratteri\",\n  [BETWEEN_NUMBER]: \"Inserire un numero compreso tra $1 e $2\",\n  [DIGITS]: \"Il valore deve essere un numero di $1 cifra\",\n  [EMAIL]: \"Inserire un indirizzo e-mail valido\",\n  [ENDS_WITH]: 'Il valore deve terminare con \"$1\"',\n  [EQUAL_LENGTH]: \"Il valore deve avere caratteri da $1\",\n  [EQUAL_NUMBER]: \"Il valore deve essere uguale a $1\",\n  [GREATER_EQUAL]: \"Inserisci un numero maggiore o uguale a $1\",\n  [INTEGER]: \"Il valore deve essere un numero intero valido\",\n  [LESS_EQUAL]: \"Inserire un numero minore o uguale a $1\",\n  [MAX_LENGTH]: \"La lunghezza massima \\xE8 $1\",\n  [MIN_LENGTH]: \"La lunghezza minima \\xE8 $1\",\n  [NUM_DASH]: \"Inserisci numeri con trattini e trattini bassi\",\n  [NUMBER]: \"Inserire un numero valido\",\n  [REGEX]: \"Il valore non corrisponde al modello\",\n  [REQUIRED]: \"Questo campo \\xE8 obbligatorio\",\n  [STARTS_WITH]: 'Il valore deve iniziare con \"$1\"',\n  [WITHIN]: \"Il valore non \\xE8 corretto\"\n};\nconst itLang$1 = itLang;\n\nconst zhLang = {\n  [ACCEPTED]: \"\\u8BF7\\u63A5\\u53D7\\u6B64\\u5B57\\u6BB5\",\n  [ALPHA]: \"\\u8BF7\\u4EC5\\u8F93\\u5165\\u5B57\\u6BCD\\u5B57\\u7B26\",\n  [ALPHA_NUM]: \"\\u8BF7\\u4EC5\\u8F93\\u5165\\u5B57\\u6BCD\\u6570\\u5B57\\u5B57\\u7B26\",\n  [ALPHA_NUM_DASH]: \"\\u8BF7\\u4EC5\\u8F93\\u5165\\u5B57\\u6BCD\\u6570\\u5B57\\u5B57\\u7B26\\u3001\\u7834\\u6298\\u53F7\\u548C\\u4E0B\\u5212\\u7EBF\",\n  [BETWEEN_LENGTH]: \"\\u503C\\u5FC5\\u987B\\u4ECB\\u4E8E $1 \\u548C $2 \\u4E4B\\u95F4\",\n  [BETWEEN_NUMBER]: \"\\u8BF7\\u8F93\\u5165\\u4E00\\u4E2A\\u4ECB\\u4E8E $1 \\u548C $2 \\u4E4B\\u95F4\\u7684\\u6570\\u5B57\",\n  [DIGITS]: \"\\u8BE5\\u503C\\u5FC5\\u987B\\u662F $1 \\u4F4D\\u6570\",\n  [EMAIL]: \"\\u8BF7\\u8F93\\u5165\\u6709\\u6548\\u7684\\u7535\\u5B50\\u90AE\\u4EF6\\u5730\\u5740\",\n  [ENDS_WITH]: \"\\u503C\\u5FC5\\u987B\\u4EE5\\u201C$1\\u201D\\u7ED3\\u5C3E\",\n  [EQUAL_LENGTH]: \"\\u503C\\u5FC5\\u987B\\u6709 $1 \\u4E2A\\u5B57\\u7B26\",\n  [EQUAL_NUMBER]: \"\\u503C\\u5FC5\\u987B\\u7B49\\u4E8E $1\",\n  [GREATER_EQUAL]: \"\\u8BF7\\u8F93\\u5165\\u4E00\\u4E2A\\u5927\\u4E8E\\u6216\\u7B49\\u4E8E $1 \\u7684\\u6570\\u5B57\",\n  [INTEGER]: \"\\u8BE5\\u503C\\u5FC5\\u987B\\u662F\\u4E00\\u4E2A\\u6709\\u6548\\u7684\\u6574\\u6570\",\n  [LESS_EQUAL]: \"\\u8BF7\\u8F93\\u5165\\u4E00\\u4E2A\\u5C0F\\u4E8E\\u6216\\u7B49\\u4E8E $1 \\u7684\\u6570\\u5B57\",\n  [MAX_LENGTH]: \"\\u6700\\u5927\\u957F\\u5EA6\\u4E3A $1\",\n  [MIN_LENGTH]: \"\\u6700\\u5C0F\\u957F\\u5EA6\\u4E3A $1\",\n  [NUM_DASH]: \"\\u8BF7\\u8F93\\u5165\\u5E26\\u7834\\u6298\\u53F7\\u548C\\u4E0B\\u5212\\u7EBF\\u7684\\u6570\\u5B57\",\n  [NUMBER]: \"\\u8BF7\\u8F93\\u5165\\u4E00\\u4E2A\\u6709\\u6548\\u7684\\u6570\\u5B57\",\n  [REGEX]: \"\\u8BE5\\u503C\\u4E0E\\u6A21\\u5F0F\\u4E0D\\u5339\\u914D\",\n  [REQUIRED]: \"\\u6B64\\u5B57\\u6BB5\\u662F\\u5FC5\\u9700\\u7684\",\n  [STARTS_WITH]: \"\\u503C\\u5FC5\\u987B\\u4EE5\\u201C$1\\u201D\\u5F00\\u5934\",\n  [WITHIN]: \"\\u503C\\u4E0D\\u6B63\\u786E\"\n};\nconst zhLang$1 = zhLang;\n\nconst csLang = {\n  [ACCEPTED]: \"P\\u0159ijm\\u011Bte toto pole\",\n  [ALPHA]: \"Zadejte pouze abecedn\\xED znaky\",\n  [ALPHA_NUM]: \"Zadejte pouze alfanumerick\\xE9 znaky\",\n  [ALPHA_NUM_DASH]: \"Zadejte pouze alfanumerick\\xE9 znaky, poml\\u010Dky a podtr\\u017E\\xEDtka\",\n  [BETWEEN_LENGTH]: \"Hodnota mus\\xED m\\xEDt $1 a\\u017E $2 znak\\u016F\",\n  [BETWEEN_NUMBER]: \"Zadejte \\u010D\\xEDslo od $1 do $2\",\n  [DIGITS]: \"Hodnota mus\\xED b\\xFDt \\u010D\\xEDslo s $1 \\u010D\\xEDslicemi\",\n  [EMAIL]: \"Zadejte platnou emailovou adresu\",\n  [ENDS_WITH]: \"Hodnota mus\\xED kon\\u010Dit znaky \\u201E$1\\u201C\",\n  [EQUAL_LENGTH]: \"Hodnota mus\\xED m\\xEDt $1 znak\\u016F\",\n  [EQUAL_NUMBER]: \"Hodnota mus\\xED b\\xFDt rovna $1\",\n  [GREATER_EQUAL]: \"Zadejte \\u010D\\xEDslo v\\u011Bt\\u0161\\xED nebo rovn\\xE9 $1\",\n  [INTEGER]: \"Hodnota mus\\xED b\\xFDt platn\\xE9 cel\\xE9 \\u010D\\xEDslo\",\n  [LESS_EQUAL]: \"Zadejte \\u010D\\xEDslo men\\u0161\\xED nebo rovn\\xE9 $1\",\n  [MAX_LENGTH]: \"Maxim\\xE1ln\\xED d\\xE9lka je $1\",\n  [MIN_LENGTH]: \"Minim\\xE1ln\\xED d\\xE9lka je $1\",\n  [NUM_DASH]: \"Zadejte \\u010D\\xEDsla s poml\\u010Dkami a podtr\\u017E\\xEDtky\",\n  [NUMBER]: \"Zadejte platn\\xE9 \\u010D\\xEDslo\",\n  [REGEX]: \"Hodnota neodpov\\xEDd\\xE1 vzoru\",\n  [REQUIRED]: \"Toto pole je povinn\\xE9\",\n  [STARTS_WITH]: \"Hodnota mus\\xED za\\u010D\\xEDnat znaky \\u201E$1\\u201C\",\n  [WITHIN]: \"Hodnota je nespr\\xE1vn\\xE1\"\n};\nconst csLang$1 = csLang;\n\nconst nlLang = {\n  [ACCEPTED]: \"Accepteer dit veld a.u.b.\",\n  [ALPHA]: \"Voer alleen alfabetische tekens in\",\n  [ALPHA_NUM]: \"Alleen alfanumerieke tekens a.u.b\",\n  [ALPHA_NUM_DASH]: \"Voer alleen alfanumerieke tekens, streepjes en underscores in\",\n  [BETWEEN_LENGTH]: \"De waarde moet tussen $1 en $2 tekens liggen\",\n  [BETWEEN_NUMBER]: \"Voer een getal tussen $1 en $2 in\",\n  [DIGITS]: \"De waarde moet een getal van 1 cijfer zijn.\",\n  [EMAIL]: \"Voer een geldig e-mailadres in\",\n  [ENDS_WITH]: 'De waarde moet eindigen op \"$1\"',\n  [EQUAL_LENGTH]: \"De waarde moet uit $1 tekens bestaan\",\n  [EQUAL_NUMBER]: \"De waarde moet gelijk zijn aan $1\",\n  [GREATER_EQUAL]: \"Voer a.u.b. een getal in groter dan of gelijk aan $1\",\n  [INTEGER]: \"De waarde moet een geldig geheel getal zijn\",\n  [LESS_EQUAL]: \"Voer a.u.b. een getal in kleiner dan of gelijk aan $1\",\n  [MAX_LENGTH]: \"Max. lengte is $1\",\n  [MIN_LENGTH]: \"Min. lengte is $1\",\n  [NUM_DASH]: \"Voer getallen met streepjes en underscores in.\",\n  [NUMBER]: \"Voer een geldig getal in\",\n  [REGEX]: \"De waarde komt niet overeen met het patroon\",\n  [REQUIRED]: \"Dit veld is verplicht\",\n  [STARTS_WITH]: 'De waarde moet beginnen met \"$1\"',\n  [WITHIN]: \"De waarde is onjuist\"\n};\nconst nlLang$1 = nlLang;\n\nconst createLang = (lang) => lang;\n\nexport { Validator$1 as Validator, createLang, csLang$1 as csLang, deLang$1 as deLang, enLang$1 as enLang, faLang$1 as faLang, frLang$1 as frLang, itLang$1 as itLang, nlLang$1 as nlLang, zhLang$1 as zhLang };\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nexport { _objectWithoutPropertiesLoose as _ };\n","/**\n * Applies mask on element.\n * @constructor\n * @param {HTMLInputElement|HTMLTextAreaElement|MaskElement} el - Element to apply mask\n * @param {Object} opts - Custom mask options\n * @return {InputMask}\n */\nfunction IMask(el) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\nexport { IMask as default };\n","import IMask from './holder.js';\n\n/**\n  Provides details of changing model value\n  @param {Object} [details]\n  @param {string} [details.inserted] - Inserted symbols\n  @param {boolean} [details.skip] - Can skip chars\n  @param {number} [details.removeCount] - Removed symbols count\n  @param {number} [details.tailShift] - Additional offset if any changes occurred before tail\n*/\nclass ChangeDetails {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n\n  constructor(details) {\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n\n  /**\n    Aggregate changes\n    @returns {ChangeDetails} `this`\n  */\n  aggregate(details) {\n    this.rawInserted += details.rawInserted;\n    this.skip = this.skip || details.skip;\n    this.inserted += details.inserted;\n    this.tailShift += details.tailShift;\n    return this;\n  }\n\n  /** Total offset considering all changes */\n  get offset() {\n    return this.tailShift + this.inserted.length;\n  }\n}\nIMask.ChangeDetails = ChangeDetails;\n\nexport { ChangeDetails as default };\n","import ChangeDetails from './change-details.js';\nimport './holder.js';\n\n/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n\n/**\n  Direction\n  @prop {string} NONE\n  @prop {string} LEFT\n  @prop {string} FORCE_LEFT\n  @prop {string} RIGHT\n  @prop {string} FORCE_RIGHT\n*/\nconst DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n/**\n  Direction\n  @enum {string}\n*/\n\n/** Returns next char index in direction */\nfunction indexInDirection(pos, direction) {\n  if (direction === DIRECTION.LEFT) --pos;\n  return pos;\n}\n\n/** Returns next char position in direction */\nfunction posInDirection(pos, direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n    case DIRECTION.FORCE_LEFT:\n      return --pos;\n    case DIRECTION.RIGHT:\n    case DIRECTION.FORCE_RIGHT:\n      return ++pos;\n    default:\n      return pos;\n  }\n}\n\n/** */\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n    default:\n      return direction;\n  }\n}\n\n/** Escapes regular expression control chars */\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n}\nfunction normalizePrepare(prep) {\n  return Array.isArray(prep) ? prep : [prep, new ChangeDetails()];\n}\n\n// cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a),\n    arrB = Array.isArray(b),\n    i;\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n    for (i = 0; i < a.length; i++) if (!objectIncludes(a[i], b[i])) return false;\n    return true;\n  }\n  if (arrA != arrB) return false;\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    var dateA = a instanceof Date,\n      dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    var regexpA = a instanceof RegExp,\n      regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    var keys = Object.keys(a);\n    // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++)\n    // $FlowFixMe ... ???\n    if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    for (i = 0; i < keys.length; i++) if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n  return false;\n}\n\n/** Selection range */\n\nexport { DIRECTION, escapeRegExp, forceDirection, indexInDirection, isString, normalizePrepare, objectIncludes, posInDirection };\n","import { DIRECTION } from './utils.js';\nimport './change-details.js';\nimport './holder.js';\n\n/** Provides details of changing input */\nclass ActionDetails {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n\n  constructor(value, cursorPos, oldValue, oldSelection) {\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection;\n\n    // double check if left part was changed (autofilling, other non-standard input triggers)\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n\n  /**\n    Start changing position\n    @readonly\n  */\n  get startChangePos() {\n    return Math.min(this.cursorPos, this.oldSelection.start);\n  }\n\n  /**\n    Inserted symbols count\n    @readonly\n  */\n  get insertedCount() {\n    return this.cursorPos - this.startChangePos;\n  }\n\n  /**\n    Inserted symbols\n    @readonly\n  */\n  get inserted() {\n    return this.value.substr(this.startChangePos, this.insertedCount);\n  }\n\n  /**\n    Removed symbols count\n    @readonly\n  */\n  get removedCount() {\n    // Math.max for opposite operation\n    return Math.max(this.oldSelection.end - this.startChangePos ||\n    // for Delete\n    this.oldValue.length - this.value.length, 0);\n  }\n\n  /**\n    Removed symbols\n    @readonly\n  */\n  get removed() {\n    return this.oldValue.substr(this.startChangePos, this.removedCount);\n  }\n\n  /**\n    Unchanged head symbols\n    @readonly\n  */\n  get head() {\n    return this.value.substring(0, this.startChangePos);\n  }\n\n  /**\n    Unchanged tail symbols\n    @readonly\n  */\n  get tail() {\n    return this.value.substring(this.startChangePos + this.insertedCount);\n  }\n\n  /**\n    Remove direction\n    @readonly\n  */\n  get removeDirection() {\n    if (!this.removedCount || this.insertedCount) return DIRECTION.NONE;\n\n    // align right if delete at right\n    return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) &&\n    // if not range removed (event with backspace)\n    this.oldSelection.end === this.oldSelection.start ? DIRECTION.RIGHT : DIRECTION.LEFT;\n  }\n}\n\nexport { ActionDetails as default };\n","/** Provides details of continuous extracted tail */\nclass ContinuousTailDetails {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n\n  constructor() {\n    let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let stop = arguments.length > 2 ? arguments[2] : undefined;\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n  toString() {\n    return this.value;\n  }\n  extend(tail) {\n    this.value += String(tail);\n  }\n  appendTo(masked) {\n    return masked.append(this.toString(), {\n      tail: true\n    }).aggregate(masked._appendPlaceholder());\n  }\n  get state() {\n    return {\n      value: this.value,\n      from: this.from,\n      stop: this.stop\n    };\n  }\n  set state(state) {\n    Object.assign(this, state);\n  }\n  unshift(beforePos) {\n    if (!this.value.length || beforePos != null && this.from >= beforePos) return '';\n    const shiftChar = this.value[0];\n    this.value = this.value.slice(1);\n    return shiftChar;\n  }\n  shift() {\n    if (!this.value.length) return '';\n    const shiftChar = this.value[this.value.length - 1];\n    this.value = this.value.slice(0, -1);\n    return shiftChar;\n  }\n}\n\nexport { ContinuousTailDetails as default };\n","import ChangeDetails from '../core/change-details.js';\nimport ContinuousTailDetails from '../core/continuous-tail-details.js';\nimport { isString, normalizePrepare, DIRECTION, forceDirection } from '../core/utils.js';\nimport IMask from '../core/holder.js';\n\n/** Supported mask type */\n\n/** Append flags */\n\n/** Extract flags */\n\n/** Provides common masking stuff */\nclass Masked {\n  // $Shape<MaskedOptions>; TODO after fix https://github.com/facebook/flow/issues/4773\n\n  /** @type {Mask} */\n\n  /** */ // $FlowFixMe no ideas\n  /** Transforms value before mask processing */\n  /** Validates if value is acceptable */\n  /** Does additional processing in the end of editing */\n  /** Format typed value to string */\n  /** Parse strgin to get typed value */\n  /** Enable characters overwriting */\n  /** */\n  /** */\n  /** */\n  constructor(opts) {\n    this._value = '';\n    this._update(Object.assign({}, Masked.DEFAULTS, opts));\n    this.isInitialized = true;\n  }\n\n  /** Sets and applies new options */\n  updateOptions(opts) {\n    if (!Object.keys(opts).length) return;\n    // $FlowFixMe\n    this.withValueRefresh(this._update.bind(this, opts));\n  }\n\n  /**\n    Sets new options\n    @protected\n  */\n  _update(opts) {\n    Object.assign(this, opts);\n  }\n\n  /** Mask state */\n  get state() {\n    return {\n      _value: this.value\n    };\n  }\n  set state(state) {\n    this._value = state._value;\n  }\n\n  /** Resets value */\n  reset() {\n    this._value = '';\n  }\n\n  /** */\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    this.resolve(value);\n  }\n\n  /** Resolve new value */\n  resolve(value) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      input: true\n    };\n    this.reset();\n    this.append(value, flags, '');\n    this.doCommit();\n    return this.value;\n  }\n\n  /** */\n  get unmaskedValue() {\n    return this.value;\n  }\n  set unmaskedValue(value) {\n    this.reset();\n    this.append(value, {}, '');\n    this.doCommit();\n  }\n\n  /** */\n  get typedValue() {\n    return this.doParse(this.value);\n  }\n  set typedValue(value) {\n    this.value = this.doFormat(value);\n  }\n\n  /** Value that includes raw user input */\n  get rawInputValue() {\n    return this.extractInput(0, this.value.length, {\n      raw: true\n    });\n  }\n  set rawInputValue(value) {\n    this.reset();\n    this.append(value, {\n      raw: true\n    }, '');\n    this.doCommit();\n  }\n  get displayValue() {\n    return this.value;\n  }\n\n  /** */\n  get isComplete() {\n    return true;\n  }\n\n  /** */\n  get isFilled() {\n    return this.isComplete;\n  }\n\n  /** Finds nearest input position in direction */\n  nearestInputPos(cursorPos, direction) {\n    return cursorPos;\n  }\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return Math.min(this.value.length, toPos - fromPos);\n  }\n\n  /** Extracts value in range considering flags */\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return this.value.slice(fromPos, toPos);\n  }\n\n  /** Extracts tail in range */\n  extractTail() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return new ContinuousTailDetails(this.extractInput(fromPos, toPos), fromPos);\n  }\n\n  /** Appends tail */\n  // $FlowFixMe no ideas\n  appendTail(tail) {\n    if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n    return tail.appendTo(this);\n  }\n\n  /** Appends char */\n  _appendCharRaw(ch) {\n    if (!ch) return new ChangeDetails();\n    this._value += ch;\n    return new ChangeDetails({\n      inserted: ch,\n      rawInserted: ch\n    });\n  }\n\n  /** Appends char */\n  _appendChar(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let checkTail = arguments.length > 2 ? arguments[2] : undefined;\n    const consistentState = this.state;\n    let details;\n    [ch, details] = normalizePrepare(this.doPrepare(ch, flags));\n    details = details.aggregate(this._appendCharRaw(ch, flags));\n    if (details.inserted) {\n      let consistentTail;\n      let appended = this.doValidate(flags) !== false;\n      if (appended && checkTail != null) {\n        // validation ok, check tail\n        const beforeTailState = this.state;\n        if (this.overwrite === true) {\n          consistentTail = checkTail.state;\n          checkTail.unshift(this.value.length - details.tailShift);\n        }\n        let tailDetails = this.appendTail(checkTail);\n        appended = tailDetails.rawInserted === checkTail.toString();\n\n        // not ok, try shift\n        if (!(appended && tailDetails.inserted) && this.overwrite === 'shift') {\n          this.state = beforeTailState;\n          consistentTail = checkTail.state;\n          checkTail.shift();\n          tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString();\n        }\n\n        // if ok, rollback state after tail\n        if (appended && tailDetails.inserted) this.state = beforeTailState;\n      }\n\n      // revert all if something went wrong\n      if (!appended) {\n        details = new ChangeDetails();\n        this.state = consistentState;\n        if (checkTail && consistentTail) checkTail.state = consistentTail;\n      }\n    }\n    return details;\n  }\n\n  /** Appends optional placeholder at end */\n  _appendPlaceholder() {\n    return new ChangeDetails();\n  }\n\n  /** Appends optional eager placeholder at end */\n  _appendEager() {\n    return new ChangeDetails();\n  }\n\n  /** Appends symbols considering flags */\n  // $FlowFixMe no ideas\n  append(str, flags, tail) {\n    if (!isString(str)) throw new Error('value should be string');\n    const details = new ChangeDetails();\n    const checkTail = isString(tail) ? new ContinuousTailDetails(String(tail)) : tail;\n    if (flags !== null && flags !== void 0 && flags.tail) flags._beforeTailState = this.state;\n    for (let ci = 0; ci < str.length; ++ci) {\n      const d = this._appendChar(str[ci], flags, checkTail);\n      if (!d.rawInserted && !this.doSkipInvalid(str[ci], flags, checkTail)) break;\n      details.aggregate(d);\n    }\n    if ((this.eager === true || this.eager === 'append') && flags !== null && flags !== void 0 && flags.input && str) {\n      details.aggregate(this._appendEager());\n    }\n\n    // append tail but aggregate only tailShift\n    if (checkTail != null) {\n      details.tailShift += this.appendTail(checkTail).tailShift;\n      // TODO it's a good idea to clear state after appending ends\n      // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n      // this._resetBeforeTailState();\n    }\n\n    return details;\n  }\n\n  /** */\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n    return new ChangeDetails();\n  }\n\n  /** Calls function and reapplies current value */\n  withValueRefresh(fn) {\n    if (this._refreshing || !this.isInitialized) return fn();\n    this._refreshing = true;\n    const rawInput = this.rawInputValue;\n    const value = this.value;\n    const ret = fn();\n    this.rawInputValue = rawInput;\n    // append lost trailing chars at end\n    if (this.value && this.value !== value && value.indexOf(this.value) === 0) {\n      this.append(value.slice(this.value.length), {}, '');\n    }\n    delete this._refreshing;\n    return ret;\n  }\n\n  /** */\n  runIsolated(fn) {\n    if (this._isolated || !this.isInitialized) return fn(this);\n    this._isolated = true;\n    const state = this.state;\n    const ret = fn(this);\n    this.state = state;\n    delete this._isolated;\n    return ret;\n  }\n\n  /** */\n  doSkipInvalid(ch) {\n    return this.skipInvalid;\n  }\n\n  /**\n    Prepares string before mask processing\n    @protected\n  */\n  doPrepare(str) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.prepare ? this.prepare(str, this, flags) : str;\n  }\n\n  /**\n    Validates if value is acceptable\n    @protected\n  */\n  doValidate(flags) {\n    return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n  }\n\n  /**\n    Does additional processing in the end of editing\n    @protected\n  */\n  doCommit() {\n    if (this.commit) this.commit(this.value, this);\n  }\n\n  /** */\n  doFormat(value) {\n    return this.format ? this.format(value, this) : value;\n  }\n\n  /** */\n  doParse(str) {\n    return this.parse ? this.parse(str, this) : str;\n  }\n\n  /** */\n  splice(start, deleteCount, inserted, removeDirection) {\n    let flags = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      input: true\n    };\n    const tailPos = start + deleteCount;\n    const tail = this.extractTail(tailPos);\n    const eagerRemove = this.eager === true || this.eager === 'remove';\n    let oldRawValue;\n    if (eagerRemove) {\n      removeDirection = forceDirection(removeDirection);\n      oldRawValue = this.extractInput(0, tailPos, {\n        raw: true\n      });\n    }\n    let startChangePos = start;\n    const details = new ChangeDetails();\n\n    // if it is just deletion without insertion\n    if (removeDirection !== DIRECTION.NONE) {\n      startChangePos = this.nearestInputPos(start, deleteCount > 1 && start !== 0 && !eagerRemove ? DIRECTION.NONE : removeDirection);\n\n      // adjust tailShift if start was aligned\n      details.tailShift = startChangePos - start;\n    }\n    details.aggregate(this.remove(startChangePos));\n    if (eagerRemove && removeDirection !== DIRECTION.NONE && oldRawValue === this.rawInputValue) {\n      if (removeDirection === DIRECTION.FORCE_LEFT) {\n        let valLength;\n        while (oldRawValue === this.rawInputValue && (valLength = this.value.length)) {\n          details.aggregate(new ChangeDetails({\n            tailShift: -1\n          })).aggregate(this.remove(valLength - 1));\n        }\n      } else if (removeDirection === DIRECTION.FORCE_RIGHT) {\n        tail.unshift();\n      }\n    }\n    return details.aggregate(this.append(inserted, flags, tail));\n  }\n  maskEquals(mask) {\n    return this.mask === mask;\n  }\n  typedValueEquals(value) {\n    const tval = this.typedValue;\n    return value === tval || Masked.EMPTY_VALUES.includes(value) && Masked.EMPTY_VALUES.includes(tval) || this.doFormat(value) === this.doFormat(this.typedValue);\n  }\n}\nMasked.DEFAULTS = {\n  format: String,\n  parse: v => v,\n  skipInvalid: true\n};\nMasked.EMPTY_VALUES = [undefined, null, ''];\nIMask.Masked = Masked;\n\nexport { Masked as default };\n","import { isString } from '../core/utils.js';\nimport IMask from '../core/holder.js';\nimport '../core/change-details.js';\n\n/** Get Masked class by mask type */\nfunction maskedClass(mask) {\n  if (mask == null) {\n    throw new Error('mask property should be defined');\n  }\n\n  // $FlowFixMe\n  if (mask instanceof RegExp) return IMask.MaskedRegExp;\n  // $FlowFixMe\n  if (isString(mask)) return IMask.MaskedPattern;\n  // $FlowFixMe\n  if (mask instanceof Date || mask === Date) return IMask.MaskedDate;\n  // $FlowFixMe\n  if (mask instanceof Number || typeof mask === 'number' || mask === Number) return IMask.MaskedNumber;\n  // $FlowFixMe\n  if (Array.isArray(mask) || mask === Array) return IMask.MaskedDynamic;\n  // $FlowFixMe\n  if (IMask.Masked && mask.prototype instanceof IMask.Masked) return mask;\n  // $FlowFixMe\n  if (mask instanceof IMask.Masked) return mask.constructor;\n  // $FlowFixMe\n  if (mask instanceof Function) return IMask.MaskedFunction;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  // $FlowFixMe\n  return IMask.Masked;\n}\n\n/** Creates new {@link Masked} depending on mask type */\nfunction createMask(opts) {\n  // $FlowFixMe\n  if (IMask.Masked && opts instanceof IMask.Masked) return opts;\n  opts = Object.assign({}, opts);\n  const mask = opts.mask;\n\n  // $FlowFixMe\n  if (IMask.Masked && mask instanceof IMask.Masked) return mask;\n  const MaskedClass = maskedClass(mask);\n  if (!MaskedClass) throw new Error('Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.');\n  return new MaskedClass(opts);\n}\nIMask.createMask = createMask;\n\nexport { createMask as default, maskedClass };\n","import { _ as _objectWithoutPropertiesLoose } from '../../_rollupPluginBabelHelpers-6b3bd404.js';\nimport createMask from '../factory.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport { DIRECTION } from '../../core/utils.js';\nimport '../../core/holder.js';\n\nconst _excluded = [\"parent\", \"isOptional\", \"placeholderChar\", \"displayChar\", \"lazy\", \"eager\"];\n\n/** */\n\nconst DEFAULT_INPUT_DEFINITIONS = {\n  '0': /\\d/,\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n  // http://stackoverflow.com/a/22075070\n  '*': /./\n};\n\n/** */\nclass PatternInputDefinition {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    const {\n        parent,\n        isOptional,\n        placeholderChar,\n        displayChar,\n        lazy,\n        eager\n      } = opts,\n      maskOpts = _objectWithoutPropertiesLoose(opts, _excluded);\n    this.masked = createMask(maskOpts);\n    Object.assign(this, {\n      parent,\n      isOptional,\n      placeholderChar,\n      displayChar,\n      lazy,\n      eager\n    });\n  }\n  reset() {\n    this.isFilled = false;\n    this.masked.reset();\n  }\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    if (fromPos === 0 && toPos >= 1) {\n      this.isFilled = false;\n      return this.masked.remove(fromPos, toPos);\n    }\n    return new ChangeDetails();\n  }\n  get value() {\n    return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : '');\n  }\n  get unmaskedValue() {\n    return this.masked.unmaskedValue;\n  }\n  get displayValue() {\n    return this.masked.value && this.displayChar || this.value;\n  }\n  get isComplete() {\n    return Boolean(this.masked.value) || this.isOptional;\n  }\n  _appendChar(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.isFilled) return new ChangeDetails();\n    const state = this.masked.state;\n    // simulate input\n    const details = this.masked._appendChar(ch, flags);\n    if (details.inserted && this.doValidate(flags) === false) {\n      details.inserted = details.rawInserted = '';\n      this.masked.state = state;\n    }\n    if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n      details.inserted = this.placeholderChar;\n    }\n    details.skip = !details.inserted && !this.isOptional;\n    this.isFilled = Boolean(details.inserted);\n    return details;\n  }\n  append() {\n    // TODO probably should be done via _appendChar\n    return this.masked.append(...arguments);\n  }\n  _appendPlaceholder() {\n    const details = new ChangeDetails();\n    if (this.isFilled || this.isOptional) return details;\n    this.isFilled = true;\n    details.inserted = this.placeholderChar;\n    return details;\n  }\n  _appendEager() {\n    return new ChangeDetails();\n  }\n  extractTail() {\n    return this.masked.extractTail(...arguments);\n  }\n  appendTail() {\n    return this.masked.appendTail(...arguments);\n  }\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 ? arguments[2] : undefined;\n    return this.masked.extractInput(fromPos, toPos, flags);\n  }\n  nearestInputPos(cursorPos) {\n    let direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n    const minPos = 0;\n    const maxPos = this.value.length;\n    const boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n    switch (direction) {\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        return this.isComplete ? boundPos : minPos;\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n        return this.isComplete ? boundPos : maxPos;\n      case DIRECTION.NONE:\n      default:\n        return boundPos;\n    }\n  }\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return this.value.slice(fromPos, toPos).length;\n  }\n  doValidate() {\n    return this.masked.doValidate(...arguments) && (!this.parent || this.parent.doValidate(...arguments));\n  }\n  doCommit() {\n    this.masked.doCommit();\n  }\n  get state() {\n    return {\n      masked: this.masked.state,\n      isFilled: this.isFilled\n    };\n  }\n  set state(state) {\n    this.masked.state = state.masked;\n    this.isFilled = state.isFilled;\n  }\n}\n\nexport { DEFAULT_INPUT_DEFINITIONS, PatternInputDefinition as default };\n","import ChangeDetails from '../../core/change-details.js';\nimport { DIRECTION, isString } from '../../core/utils.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\nimport '../../core/holder.js';\n\n/** */\n\nclass PatternFixedDefinition {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    Object.assign(this, opts);\n    this._value = '';\n    this.isFixed = true;\n  }\n  get value() {\n    return this._value;\n  }\n  get unmaskedValue() {\n    return this.isUnmasking ? this.value : '';\n  }\n  get displayValue() {\n    return this.value;\n  }\n  reset() {\n    this._isRawInput = false;\n    this._value = '';\n  }\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n    this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n    if (!this._value) this._isRawInput = false;\n    return new ChangeDetails();\n  }\n  nearestInputPos(cursorPos) {\n    let direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n    const minPos = 0;\n    const maxPos = this._value.length;\n    switch (direction) {\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        return minPos;\n      case DIRECTION.NONE:\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n      default:\n        return maxPos;\n    }\n  }\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n    return this._isRawInput ? toPos - fromPos : 0;\n  }\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n    let flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n  }\n  get isComplete() {\n    return true;\n  }\n  get isFilled() {\n    return Boolean(this._value);\n  }\n  _appendChar(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const details = new ChangeDetails();\n    if (this.isFilled) return details;\n    const appendEager = this.eager === true || this.eager === 'append';\n    const appended = this.char === ch;\n    const isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && (!flags.raw || !appendEager) && !flags.tail;\n    if (isResolved) details.rawInserted = this.char;\n    this._value = details.inserted = this.char;\n    this._isRawInput = isResolved && (flags.raw || flags.input);\n    return details;\n  }\n  _appendEager() {\n    return this._appendChar(this.char, {\n      tail: true\n    });\n  }\n  _appendPlaceholder() {\n    const details = new ChangeDetails();\n    if (this.isFilled) return details;\n    this._value = details.inserted = this.char;\n    return details;\n  }\n  extractTail() {\n    arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return new ContinuousTailDetails('');\n  }\n\n  // $FlowFixMe no ideas\n  appendTail(tail) {\n    if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n    return tail.appendTo(this);\n  }\n  append(str, flags, tail) {\n    const details = this._appendChar(str[0], flags);\n    if (tail != null) {\n      details.tailShift += this.appendTail(tail).tailShift;\n    }\n    return details;\n  }\n  doCommit() {}\n  get state() {\n    return {\n      _value: this._value,\n      _isRawInput: this._isRawInput\n    };\n  }\n  set state(state) {\n    Object.assign(this, state);\n  }\n}\n\nexport { PatternFixedDefinition as default };\n","import { _ as _objectWithoutPropertiesLoose } from '../../_rollupPluginBabelHelpers-6b3bd404.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport { isString } from '../../core/utils.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\nimport IMask from '../../core/holder.js';\n\nconst _excluded = [\"chunks\"];\nclass ChunksTailDetails {\n  /** */\n\n  constructor() {\n    let chunks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this.chunks = chunks;\n    this.from = from;\n  }\n  toString() {\n    return this.chunks.map(String).join('');\n  }\n\n  // $FlowFixMe no ideas\n  extend(tailChunk) {\n    if (!String(tailChunk)) return;\n    if (isString(tailChunk)) tailChunk = new ContinuousTailDetails(String(tailChunk));\n    const lastChunk = this.chunks[this.chunks.length - 1];\n    const extendLast = lastChunk && (\n    // if stops are same or tail has no stop\n    lastChunk.stop === tailChunk.stop || tailChunk.stop == null) &&\n    // if tail chunk goes just after last chunk\n    tailChunk.from === lastChunk.from + lastChunk.toString().length;\n    if (tailChunk instanceof ContinuousTailDetails) {\n      // check the ability to extend previous chunk\n      if (extendLast) {\n        // extend previous chunk\n        lastChunk.extend(tailChunk.toString());\n      } else {\n        // append new chunk\n        this.chunks.push(tailChunk);\n      }\n    } else if (tailChunk instanceof ChunksTailDetails) {\n      if (tailChunk.stop == null) {\n        // unwrap floating chunks to parent, keeping `from` pos\n        let firstTailChunk;\n        while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n          firstTailChunk = tailChunk.chunks.shift();\n          firstTailChunk.from += tailChunk.from;\n          this.extend(firstTailChunk);\n        }\n      }\n\n      // if tail chunk still has value\n      if (tailChunk.toString()) {\n        // if chunks contains stops, then popup stop to container\n        tailChunk.stop = tailChunk.blockIndex;\n        this.chunks.push(tailChunk);\n      }\n    }\n  }\n  appendTo(masked) {\n    // $FlowFixMe\n    if (!(masked instanceof IMask.MaskedPattern)) {\n      const tail = new ContinuousTailDetails(this.toString());\n      return tail.appendTo(masked);\n    }\n    const details = new ChangeDetails();\n    for (let ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n      const chunk = this.chunks[ci];\n      const lastBlockIter = masked._mapPosToBlock(masked.value.length);\n      const stop = chunk.stop;\n      let chunkBlock;\n      if (stop != null && (\n      // if block not found or stop is behind lastBlock\n      !lastBlockIter || lastBlockIter.index <= stop)) {\n        if (chunk instanceof ChunksTailDetails ||\n        // for continuous block also check if stop is exist\n        masked._stops.indexOf(stop) >= 0) {\n          const phDetails = masked._appendPlaceholder(stop);\n          details.aggregate(phDetails);\n        }\n        chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n      }\n      if (chunkBlock) {\n        const tailDetails = chunkBlock.appendTail(chunk);\n        tailDetails.skip = false; // always ignore skip, it will be set on last\n        details.aggregate(tailDetails);\n        masked._value += tailDetails.inserted;\n\n        // get not inserted chars\n        const remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n        if (remainChars) details.aggregate(masked.append(remainChars, {\n          tail: true\n        }));\n      } else {\n        details.aggregate(masked.append(chunk.toString(), {\n          tail: true\n        }));\n      }\n    }\n    return details;\n  }\n  get state() {\n    return {\n      chunks: this.chunks.map(c => c.state),\n      from: this.from,\n      stop: this.stop,\n      blockIndex: this.blockIndex\n    };\n  }\n  set state(state) {\n    const {\n        chunks\n      } = state,\n      props = _objectWithoutPropertiesLoose(state, _excluded);\n    Object.assign(this, props);\n    this.chunks = chunks.map(cstate => {\n      const chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new ContinuousTailDetails();\n      // $FlowFixMe already checked above\n      chunk.state = cstate;\n      return chunk;\n    });\n  }\n  unshift(beforePos) {\n    if (!this.chunks.length || beforePos != null && this.from >= beforePos) return '';\n    const chunkShiftPos = beforePos != null ? beforePos - this.from : beforePos;\n    let ci = 0;\n    while (ci < this.chunks.length) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.unshift(chunkShiftPos);\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        ++ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n  shift() {\n    if (!this.chunks.length) return '';\n    let ci = this.chunks.length - 1;\n    while (0 <= ci) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.shift();\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        --ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n}\n\nexport { ChunksTailDetails as default };\n","import { DIRECTION } from '../../core/utils.js';\nimport '../../core/change-details.js';\nimport '../../core/holder.js';\n\nclass PatternCursor {\n  constructor(masked, pos) {\n    this.masked = masked;\n    this._log = [];\n    const {\n      offset,\n      index\n    } = masked._mapPosToBlock(pos) || (pos < 0 ?\n    // first\n    {\n      index: 0,\n      offset: 0\n    } :\n    // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    });\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n  get block() {\n    return this.masked._blocks[this.index];\n  }\n  get pos() {\n    return this.masked._blockStartPos(this.index) + this.offset;\n  }\n  get state() {\n    return {\n      index: this.index,\n      offset: this.offset,\n      ok: this.ok\n    };\n  }\n  set state(s) {\n    Object.assign(this, s);\n  }\n  pushState() {\n    this._log.push(this.state);\n  }\n  popState() {\n    const s = this._log.pop();\n    this.state = s;\n    return s;\n  }\n  bindBlock() {\n    if (this.block) return;\n    if (this.index < 0) {\n      this.index = 0;\n      this.offset = 0;\n    }\n    if (this.index >= this.masked._blocks.length) {\n      this.index = this.masked._blocks.length - 1;\n      this.offset = this.block.value.length;\n    }\n  }\n  _pushLeft(fn) {\n    this.pushState();\n    for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) === null || _this$block === void 0 ? void 0 : _this$block.value.length) || 0) {\n      var _this$block;\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  _pushRight(fn) {\n    this.pushState();\n    for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  pushLeftBeforeFilled() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_LEFT);\n      if (this.offset !== 0) return true;\n    });\n  }\n  pushLeftBeforeInput() {\n    // cases:\n    // filled input: 00|\n    // optional empty input: 00[]|\n    // nested block: XX<[]>|\n    return this._pushLeft(() => {\n      if (this.block.isFixed) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushLeftBeforeRequired() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushRightBeforeFilled() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_RIGHT);\n      if (this.offset !== this.block.value.length) return true;\n    });\n  }\n  pushRightBeforeInput() {\n    return this._pushRight(() => {\n      if (this.block.isFixed) return;\n\n      // const o = this.offset;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\n      // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n      // aa|X\n      // aa<X|[]>X_    - this will not work\n      // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n      return true;\n    });\n  }\n  pushRightBeforeRequired() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n\n      // TODO check |[*]XX_\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\n      return true;\n    });\n  }\n}\n\nexport { PatternCursor as default };\n","import Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport '../core/utils.js';\n\n/** Masking by RegExp */\nclass MaskedRegExp extends Masked {\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update(opts) {\n    if (opts.mask) opts.validate = value => value.search(opts.mask) >= 0;\n    super._update(opts);\n  }\n}\nIMask.MaskedRegExp = MaskedRegExp;\n\nexport { MaskedRegExp as default };\n","import { _ as _objectWithoutPropertiesLoose } from '../_rollupPluginBabelHelpers-6b3bd404.js';\nimport { DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport Masked from './base.js';\nimport PatternInputDefinition, { DEFAULT_INPUT_DEFINITIONS } from './pattern/input-definition.js';\nimport PatternFixedDefinition from './pattern/fixed-definition.js';\nimport ChunksTailDetails from './pattern/chunk-tail-details.js';\nimport PatternCursor from './pattern/cursor.js';\nimport createMask from './factory.js';\nimport IMask from '../core/holder.js';\nimport './regexp.js';\nimport '../core/continuous-tail-details.js';\n\nconst _excluded = [\"_blocks\"];\n\n/**\n  Pattern mask\n  @param {Object} opts\n  @param {Object} opts.blocks\n  @param {Object} opts.definitions\n  @param {string} opts.placeholderChar\n  @param {string} opts.displayChar\n  @param {boolean} opts.lazy\n*/\nclass MaskedPattern extends Masked {\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Single char for filled input */\n\n  /** Show placeholder only when needed */\n\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO type $Shape<MaskedPatternOptions>={} does not work\n    opts.definitions = Object.assign({}, DEFAULT_INPUT_DEFINITIONS, opts.definitions);\n    super(Object.assign({}, MaskedPattern.DEFAULTS, opts));\n  }\n\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n    super._update(opts);\n    this._rebuildMask();\n  }\n\n  /** */\n  _rebuildMask() {\n    const defs = this.definitions;\n    this._blocks = [];\n    this._stops = [];\n    this._maskedBlocks = {};\n    let pattern = this.mask;\n    if (!pattern || !defs) return;\n    let unmaskingBlock = false;\n    let optionalBlock = false;\n    for (let i = 0; i < pattern.length; ++i) {\n      var _defs$char, _defs$char2;\n      if (this.blocks) {\n        const p = pattern.slice(i);\n        const bNames = Object.keys(this.blocks).filter(bName => p.indexOf(bName) === 0);\n        // order by key length\n        bNames.sort((a, b) => b.length - a.length);\n        // use block name with max length\n        const bName = bNames[0];\n        if (bName) {\n          // $FlowFixMe no ideas\n          const maskedBlock = createMask(Object.assign({\n            parent: this,\n            lazy: this.lazy,\n            eager: this.eager,\n            placeholderChar: this.placeholderChar,\n            displayChar: this.displayChar,\n            overwrite: this.overwrite\n          }, this.blocks[bName]));\n          if (maskedBlock) {\n            this._blocks.push(maskedBlock);\n\n            // store block index\n            if (!this._maskedBlocks[bName]) this._maskedBlocks[bName] = [];\n            this._maskedBlocks[bName].push(this._blocks.length - 1);\n          }\n          i += bName.length - 1;\n          continue;\n        }\n      }\n      let char = pattern[i];\n      let isInput = (char in defs);\n      if (char === MaskedPattern.STOP_CHAR) {\n        this._stops.push(this._blocks.length);\n        continue;\n      }\n      if (char === '{' || char === '}') {\n        unmaskingBlock = !unmaskingBlock;\n        continue;\n      }\n      if (char === '[' || char === ']') {\n        optionalBlock = !optionalBlock;\n        continue;\n      }\n      if (char === MaskedPattern.ESCAPE_CHAR) {\n        ++i;\n        char = pattern[i];\n        if (!char) break;\n        isInput = false;\n      }\n      const maskOpts = (_defs$char = defs[char]) !== null && _defs$char !== void 0 && _defs$char.mask && !(((_defs$char2 = defs[char]) === null || _defs$char2 === void 0 ? void 0 : _defs$char2.mask.prototype) instanceof IMask.Masked) ? defs[char] : {\n        mask: defs[char]\n      };\n      const def = isInput ? new PatternInputDefinition(Object.assign({\n        parent: this,\n        isOptional: optionalBlock,\n        lazy: this.lazy,\n        eager: this.eager,\n        placeholderChar: this.placeholderChar,\n        displayChar: this.displayChar\n      }, maskOpts)) : new PatternFixedDefinition({\n        char,\n        eager: this.eager,\n        isUnmasking: unmaskingBlock\n      });\n      this._blocks.push(def);\n    }\n  }\n\n  /**\n    @override\n  */\n  get state() {\n    return Object.assign({}, super.state, {\n      _blocks: this._blocks.map(b => b.state)\n    });\n  }\n  set state(state) {\n    const {\n        _blocks\n      } = state,\n      maskedState = _objectWithoutPropertiesLoose(state, _excluded);\n    this._blocks.forEach((b, bi) => b.state = _blocks[bi]);\n    super.state = maskedState;\n  }\n\n  /**\n    @override\n  */\n  reset() {\n    super.reset();\n    this._blocks.forEach(b => b.reset());\n  }\n\n  /**\n    @override\n  */\n  get isComplete() {\n    return this._blocks.every(b => b.isComplete);\n  }\n\n  /**\n    @override\n  */\n  get isFilled() {\n    return this._blocks.every(b => b.isFilled);\n  }\n  get isFixed() {\n    return this._blocks.every(b => b.isFixed);\n  }\n  get isOptional() {\n    return this._blocks.every(b => b.isOptional);\n  }\n\n  /**\n    @override\n  */\n  doCommit() {\n    this._blocks.forEach(b => b.doCommit());\n    super.doCommit();\n  }\n\n  /**\n    @override\n  */\n  get unmaskedValue() {\n    return this._blocks.reduce((str, b) => str += b.unmaskedValue, '');\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n\n  /**\n    @override\n  */\n  get value() {\n    // TODO return _value when not in change?\n    return this._blocks.reduce((str, b) => str += b.value, '');\n  }\n  set value(value) {\n    super.value = value;\n  }\n  get displayValue() {\n    return this._blocks.reduce((str, b) => str += b.displayValue, '');\n  }\n\n  /**\n    @override\n  */\n  appendTail(tail) {\n    return super.appendTail(tail).aggregate(this._appendPlaceholder());\n  }\n\n  /**\n    @override\n  */\n  _appendEager() {\n    var _this$_mapPosToBlock;\n    const details = new ChangeDetails();\n    let startBlockIndex = (_this$_mapPosToBlock = this._mapPosToBlock(this.value.length)) === null || _this$_mapPosToBlock === void 0 ? void 0 : _this$_mapPosToBlock.index;\n    if (startBlockIndex == null) return details;\n\n    // TODO test if it works for nested pattern masks\n    if (this._blocks[startBlockIndex].isFilled) ++startBlockIndex;\n    for (let bi = startBlockIndex; bi < this._blocks.length; ++bi) {\n      const d = this._blocks[bi]._appendEager();\n      if (!d.inserted) break;\n      details.aggregate(d);\n    }\n    return details;\n  }\n\n  /**\n    @override\n  */\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const blockIter = this._mapPosToBlock(this.value.length);\n    const details = new ChangeDetails();\n    if (!blockIter) return details;\n    for (let bi = blockIter.index;; ++bi) {\n      var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n      const block = this._blocks[bi];\n      if (!block) break;\n      const blockDetails = block._appendChar(ch, Object.assign({}, flags, {\n        _beforeTailState: (_flags$_beforeTailSta = flags._beforeTailState) === null || _flags$_beforeTailSta === void 0 ? void 0 : (_flags$_beforeTailSta2 = _flags$_beforeTailSta._blocks) === null || _flags$_beforeTailSta2 === void 0 ? void 0 : _flags$_beforeTailSta2[bi]\n      }));\n      const skip = blockDetails.skip;\n      details.aggregate(blockDetails);\n      if (skip || blockDetails.rawInserted) break; // go next char\n    }\n\n    return details;\n  }\n\n  /**\n    @override\n  */\n  extractTail() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    const chunkTail = new ChunksTailDetails();\n    if (fromPos === toPos) return chunkTail;\n    this._forEachBlocksInRange(fromPos, toPos, (b, bi, bFromPos, bToPos) => {\n      const blockChunk = b.extractTail(bFromPos, bToPos);\n      blockChunk.stop = this._findStopBefore(bi);\n      blockChunk.from = this._blockStartPos(bi);\n      if (blockChunk instanceof ChunksTailDetails) blockChunk.blockIndex = bi;\n      chunkTail.extend(blockChunk);\n    });\n    return chunkTail;\n  }\n\n  /**\n    @override\n  */\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (fromPos === toPos) return '';\n    let input = '';\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, fromPos, toPos) => {\n      input += b.extractInput(fromPos, toPos, flags);\n    });\n    return input;\n  }\n  _findStopBefore(blockIndex) {\n    let stopBefore;\n    for (let si = 0; si < this._stops.length; ++si) {\n      const stop = this._stops[si];\n      if (stop <= blockIndex) stopBefore = stop;else break;\n    }\n    return stopBefore;\n  }\n\n  /** Appends placeholder depending on laziness */\n  _appendPlaceholder(toBlockIndex) {\n    const details = new ChangeDetails();\n    if (this.lazy && toBlockIndex == null) return details;\n    const startBlockIter = this._mapPosToBlock(this.value.length);\n    if (!startBlockIter) return details;\n    const startBlockIndex = startBlockIter.index;\n    const endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n    this._blocks.slice(startBlockIndex, endBlockIndex).forEach(b => {\n      if (!b.lazy || toBlockIndex != null) {\n        // $FlowFixMe `_blocks` may not be present\n        const args = b._blocks != null ? [b._blocks.length] : [];\n        const bDetails = b._appendPlaceholder(...args);\n        this._value += bDetails.inserted;\n        details.aggregate(bDetails);\n      }\n    });\n    return details;\n  }\n\n  /** Finds block in pos */\n  _mapPosToBlock(pos) {\n    let accVal = '';\n    for (let bi = 0; bi < this._blocks.length; ++bi) {\n      const block = this._blocks[bi];\n      const blockStartPos = accVal.length;\n      accVal += block.value;\n      if (pos <= accVal.length) {\n        return {\n          index: bi,\n          offset: pos - blockStartPos\n        };\n      }\n    }\n  }\n\n  /** */\n  _blockStartPos(blockIndex) {\n    return this._blocks.slice(0, blockIndex).reduce((pos, b) => pos += b.value.length, 0);\n  }\n\n  /** */\n  _forEachBlocksInRange(fromPos) {\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let fn = arguments.length > 2 ? arguments[2] : undefined;\n    const fromBlockIter = this._mapPosToBlock(fromPos);\n    if (fromBlockIter) {\n      const toBlockIter = this._mapPosToBlock(toPos);\n      // process first block\n      const isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n      const fromBlockStartPos = fromBlockIter.offset;\n      const fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].value.length;\n      fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n      if (toBlockIter && !isSameBlock) {\n        // process intermediate blocks\n        for (let bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n          fn(this._blocks[bi], bi, 0, this._blocks[bi].value.length);\n        }\n\n        // process last block\n        fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n      }\n    }\n  }\n\n  /**\n    @override\n  */\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    const removeDetails = super.remove(fromPos, toPos);\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      removeDetails.aggregate(b.remove(bFromPos, bToPos));\n    });\n    return removeDetails;\n  }\n\n  /**\n    @override\n  */\n  nearestInputPos(cursorPos) {\n    let direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n    if (!this._blocks.length) return 0;\n    const cursor = new PatternCursor(this, cursorPos);\n    if (direction === DIRECTION.NONE) {\n      // -------------------------------------------------\n      // NONE should only go out from fixed to the right!\n      // -------------------------------------------------\n      if (cursor.pushRightBeforeInput()) return cursor.pos;\n      cursor.popState();\n      if (cursor.pushLeftBeforeInput()) return cursor.pos;\n      return this.value.length;\n    }\n\n    // FORCE is only about a|* otherwise is 0\n    if (direction === DIRECTION.LEFT || direction === DIRECTION.FORCE_LEFT) {\n      // try to break fast when *|a\n      if (direction === DIRECTION.LEFT) {\n        cursor.pushRightBeforeFilled();\n        if (cursor.ok && cursor.pos === cursorPos) return cursorPos;\n        cursor.popState();\n      }\n\n      // forward flow\n      cursor.pushLeftBeforeInput();\n      cursor.pushLeftBeforeRequired();\n      cursor.pushLeftBeforeFilled();\n\n      // backward flow\n      if (direction === DIRECTION.LEFT) {\n        cursor.pushRightBeforeInput();\n        cursor.pushRightBeforeRequired();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n      }\n      if (cursor.ok) return cursor.pos;\n      if (direction === DIRECTION.FORCE_LEFT) return 0;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n\n      // cursor.popState();\n      // if (\n      //   cursor.pushRightBeforeInput() &&\n      //   // TODO HACK for lazy if has aligned left inside fixed and has came to the start - use start position\n      //   (!this.lazy || this.extractInput())\n      // ) return cursor.pos;\n\n      return 0;\n    }\n    if (direction === DIRECTION.RIGHT || direction === DIRECTION.FORCE_RIGHT) {\n      // forward flow\n      cursor.pushRightBeforeInput();\n      cursor.pushRightBeforeRequired();\n      if (cursor.pushRightBeforeFilled()) return cursor.pos;\n      if (direction === DIRECTION.FORCE_RIGHT) return this.value.length;\n\n      // backward flow\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      return this.nearestInputPos(cursorPos, DIRECTION.LEFT);\n    }\n    return cursorPos;\n  }\n\n  /**\n    @override\n  */\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let total = 0;\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      total += b.totalInputPositions(bFromPos, bToPos);\n    });\n    return total;\n  }\n\n  /** Get block by name */\n  maskedBlock(name) {\n    return this.maskedBlocks(name)[0];\n  }\n\n  /** Get all blocks by name */\n  maskedBlocks(name) {\n    const indices = this._maskedBlocks[name];\n    if (!indices) return [];\n    return indices.map(gi => this._blocks[gi]);\n  }\n}\nMaskedPattern.DEFAULTS = {\n  lazy: true,\n  placeholderChar: '_'\n};\nMaskedPattern.STOP_CHAR = '`';\nMaskedPattern.ESCAPE_CHAR = '\\\\';\nMaskedPattern.InputDefinition = PatternInputDefinition;\nMaskedPattern.FixedDefinition = PatternFixedDefinition;\nIMask.MaskedPattern = MaskedPattern;\n\nexport { MaskedPattern as default };\n","import MaskedPattern from './pattern.js';\nimport '../core/change-details.js';\nimport { normalizePrepare } from '../core/utils.js';\nimport IMask from '../core/holder.js';\nimport '../_rollupPluginBabelHelpers-6b3bd404.js';\nimport './base.js';\nimport '../core/continuous-tail-details.js';\nimport './pattern/input-definition.js';\nimport './factory.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport './pattern/cursor.js';\nimport './regexp.js';\n\n/** Pattern which accepts ranges */\nclass MaskedRange extends MaskedPattern {\n  /**\n    Optionally sets max length of pattern.\n    Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\n  */\n\n  /** Min bound */\n\n  /** Max bound */\n\n  /** */\n\n  get _matchFrom() {\n    return this.maxLength - String(this.from).length;\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    // TODO type\n    opts = Object.assign({\n      to: this.to || 0,\n      from: this.from || 0,\n      maxLength: this.maxLength || 0\n    }, opts);\n    let maxLength = String(opts.to).length;\n    if (opts.maxLength != null) maxLength = Math.max(maxLength, opts.maxLength);\n    opts.maxLength = maxLength;\n    const fromStr = String(opts.from).padStart(maxLength, '0');\n    const toStr = String(opts.to).padStart(maxLength, '0');\n    let sameCharsCount = 0;\n    while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) ++sameCharsCount;\n    opts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(maxLength - sameCharsCount);\n    super._update(opts);\n  }\n\n  /**\n    @override\n  */\n  get isComplete() {\n    return super.isComplete && Boolean(this.value);\n  }\n  boundaries(str) {\n    let minstr = '';\n    let maxstr = '';\n    const [, placeholder, num] = str.match(/^(\\D*)(\\d*)(\\D*)/) || [];\n    if (num) {\n      minstr = '0'.repeat(placeholder.length) + num;\n      maxstr = '9'.repeat(placeholder.length) + num;\n    }\n    minstr = minstr.padEnd(this.maxLength, '0');\n    maxstr = maxstr.padEnd(this.maxLength, '9');\n    return [minstr, maxstr];\n  }\n\n  // TODO str is a single char everytime\n  /**\n    @override\n  */\n  doPrepare(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let details;\n    [ch, details] = normalizePrepare(super.doPrepare(ch.replace(/\\D/g, ''), flags));\n    if (!this.autofix || !ch) return ch;\n    const fromStr = String(this.from).padStart(this.maxLength, '0');\n    const toStr = String(this.to).padStart(this.maxLength, '0');\n    let nextVal = this.value + ch;\n    if (nextVal.length > this.maxLength) return '';\n    const [minstr, maxstr] = this.boundaries(nextVal);\n    if (Number(maxstr) < this.from) return fromStr[nextVal.length - 1];\n    if (Number(minstr) > this.to) {\n      if (this.autofix === 'pad' && nextVal.length < this.maxLength) {\n        return ['', details.aggregate(this.append(fromStr[nextVal.length - 1] + ch, flags))];\n      }\n      return toStr[nextVal.length - 1];\n    }\n    return ch;\n  }\n\n  /**\n    @override\n  */\n  doValidate() {\n    const str = this.value;\n    const firstNonZero = str.search(/[^0]/);\n    if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n    const [minstr, maxstr] = this.boundaries(str);\n    return this.from <= Number(maxstr) && Number(minstr) <= this.to && super.doValidate(...arguments);\n  }\n}\nIMask.MaskedRange = MaskedRange;\n\nexport { MaskedRange as default };\n","import MaskedPattern from './pattern.js';\nimport MaskedRange from './range.js';\nimport IMask from '../core/holder.js';\nimport '../_rollupPluginBabelHelpers-6b3bd404.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport './base.js';\nimport '../core/continuous-tail-details.js';\nimport './pattern/input-definition.js';\nimport './factory.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport './pattern/cursor.js';\nimport './regexp.js';\n\n/** Date mask */\nclass MaskedDate extends MaskedPattern {\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /**\n    @param {Object} opts\n  */\n  constructor(opts) {\n    super(Object.assign({}, MaskedDate.DEFAULTS, opts));\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    if (opts.mask === Date) delete opts.mask;\n    if (opts.pattern) opts.mask = opts.pattern;\n    const blocks = opts.blocks;\n    opts.blocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS());\n    // adjust year block\n    if (opts.min) opts.blocks.Y.from = opts.min.getFullYear();\n    if (opts.max) opts.blocks.Y.to = opts.max.getFullYear();\n    if (opts.min && opts.max && opts.blocks.Y.from === opts.blocks.Y.to) {\n      opts.blocks.m.from = opts.min.getMonth() + 1;\n      opts.blocks.m.to = opts.max.getMonth() + 1;\n      if (opts.blocks.m.from === opts.blocks.m.to) {\n        opts.blocks.d.from = opts.min.getDate();\n        opts.blocks.d.to = opts.max.getDate();\n      }\n    }\n    Object.assign(opts.blocks, this.blocks, blocks);\n\n    // add autofix\n    Object.keys(opts.blocks).forEach(bk => {\n      const b = opts.blocks[bk];\n      if (!('autofix' in b) && 'autofix' in opts) b.autofix = opts.autofix;\n    });\n    super._update(opts);\n  }\n\n  /**\n    @override\n  */\n  doValidate() {\n    const date = this.date;\n    return super.doValidate(...arguments) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n  }\n\n  /** Checks if date is exists */\n  isDateExist(str) {\n    return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n  }\n\n  /** Parsed Date */\n  get date() {\n    return this.typedValue;\n  }\n  set date(date) {\n    this.typedValue = date;\n  }\n\n  /**\n    @override\n  */\n  get typedValue() {\n    return this.isComplete ? super.typedValue : null;\n  }\n  set typedValue(value) {\n    super.typedValue = value;\n  }\n\n  /**\n    @override\n  */\n  maskEquals(mask) {\n    return mask === Date || super.maskEquals(mask);\n  }\n}\nMaskedDate.DEFAULTS = {\n  pattern: 'd{.}`m{.}`Y',\n  format: date => {\n    if (!date) return '';\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return [day, month, year].join('.');\n  },\n  parse: str => {\n    const [day, month, year] = str.split('.');\n    return new Date(year, month - 1, day);\n  }\n};\nMaskedDate.GET_DEFAULT_BLOCKS = () => ({\n  d: {\n    mask: MaskedRange,\n    from: 1,\n    to: 31,\n    maxLength: 2\n  },\n  m: {\n    mask: MaskedRange,\n    from: 1,\n    to: 12,\n    maxLength: 2\n  },\n  Y: {\n    mask: MaskedRange,\n    from: 1900,\n    to: 9999\n  }\n});\nIMask.MaskedDate = MaskedDate;\n\nexport { MaskedDate as default };\n","import IMask from '../core/holder.js';\n\n/**\n  Generic element API to use with mask\n  @interface\n*/\nclass MaskElement {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** Safely returns selection start */\n  get selectionStart() {\n    let start;\n    try {\n      start = this._unsafeSelectionStart;\n    } catch (e) {}\n    return start != null ? start : this.value.length;\n  }\n\n  /** Safely returns selection end */\n  get selectionEnd() {\n    let end;\n    try {\n      end = this._unsafeSelectionEnd;\n    } catch (e) {}\n    return end != null ? end : this.value.length;\n  }\n\n  /** Safely sets element selection */\n  select(start, end) {\n    if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n    try {\n      this._unsafeSelect(start, end);\n    } catch (e) {}\n  }\n\n  /** Should be overriden in subclasses */\n  _unsafeSelect(start, end) {}\n  /** Should be overriden in subclasses */\n  get isActive() {\n    return false;\n  }\n  /** Should be overriden in subclasses */\n  bindEvents(handlers) {}\n  /** Should be overriden in subclasses */\n  unbindEvents() {}\n}\nIMask.MaskElement = MaskElement;\n\nexport { MaskElement as default };\n","import MaskElement from './mask-element.js';\nimport IMask from '../core/holder.js';\n\n/** Bridge between HTMLElement and {@link Masked} */\nclass HTMLMaskElement extends MaskElement {\n  /** Mapping between HTMLElement events and mask internal events */\n\n  /** HTMLElement to use mask on */\n\n  /**\n    @param {HTMLInputElement|HTMLTextAreaElement} input\n  */\n  constructor(input) {\n    super();\n    this.input = input;\n    this._handlers = {};\n  }\n\n  /** */\n  // $FlowFixMe https://github.com/facebook/flow/issues/2839\n  get rootElement() {\n    var _this$input$getRootNo, _this$input$getRootNo2, _this$input;\n    return (_this$input$getRootNo = (_this$input$getRootNo2 = (_this$input = this.input).getRootNode) === null || _this$input$getRootNo2 === void 0 ? void 0 : _this$input$getRootNo2.call(_this$input)) !== null && _this$input$getRootNo !== void 0 ? _this$input$getRootNo : document;\n  }\n\n  /**\n    Is element in focus\n    @readonly\n  */\n  get isActive() {\n    //$FlowFixMe\n    return this.input === this.rootElement.activeElement;\n  }\n\n  /**\n    Returns HTMLElement selection start\n    @override\n  */\n  get _unsafeSelectionStart() {\n    return this.input.selectionStart;\n  }\n\n  /**\n    Returns HTMLElement selection end\n    @override\n  */\n  get _unsafeSelectionEnd() {\n    return this.input.selectionEnd;\n  }\n\n  /**\n    Sets HTMLElement selection\n    @override\n  */\n  _unsafeSelect(start, end) {\n    this.input.setSelectionRange(start, end);\n  }\n\n  /**\n    HTMLElement value\n    @override\n  */\n  get value() {\n    return this.input.value;\n  }\n  set value(value) {\n    this.input.value = value;\n  }\n\n  /**\n    Binds HTMLElement events to mask internal events\n    @override\n  */\n  bindEvents(handlers) {\n    Object.keys(handlers).forEach(event => this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]));\n  }\n\n  /**\n    Unbinds HTMLElement events to mask internal events\n    @override\n  */\n  unbindEvents() {\n    Object.keys(this._handlers).forEach(event => this._toggleEventHandler(event));\n  }\n\n  /** */\n  _toggleEventHandler(event, handler) {\n    if (this._handlers[event]) {\n      this.input.removeEventListener(event, this._handlers[event]);\n      delete this._handlers[event];\n    }\n    if (handler) {\n      this.input.addEventListener(event, handler);\n      this._handlers[event] = handler;\n    }\n  }\n}\nHTMLMaskElement.EVENTS_MAP = {\n  selectionChange: 'keydown',\n  input: 'input',\n  drop: 'drop',\n  click: 'click',\n  focus: 'focus',\n  commit: 'blur'\n};\nIMask.HTMLMaskElement = HTMLMaskElement;\n\nexport { HTMLMaskElement as default };\n","import HTMLMaskElement from './html-mask-element.js';\nimport IMask from '../core/holder.js';\nimport './mask-element.js';\n\nclass HTMLContenteditableMaskElement extends HTMLMaskElement {\n  /**\n    Returns HTMLElement selection start\n    @override\n  */\n  get _unsafeSelectionStart() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /**\n    Returns HTMLElement selection end\n    @override\n  */\n  get _unsafeSelectionEnd() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /**\n    Sets HTMLElement selection\n    @override\n  */\n  _unsafeSelect(start, end) {\n    if (!this.rootElement.createRange) return;\n    const range = this.rootElement.createRange();\n    range.setStart(this.input.firstChild || this.input, start);\n    range.setEnd(this.input.lastChild || this.input, end);\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n\n  /**\n    HTMLElement value\n    @override\n  */\n  get value() {\n    // $FlowFixMe\n    return this.input.textContent;\n  }\n  set value(value) {\n    this.input.textContent = value;\n  }\n}\nIMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\nexport { HTMLContenteditableMaskElement as default };\n","import { _ as _objectWithoutPropertiesLoose } from '../_rollupPluginBabelHelpers-6b3bd404.js';\nimport { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport '../masked/date.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport MaskElement from './mask-element.js';\nimport HTMLMaskElement from './html-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\nimport IMask from '../core/holder.js';\nimport '../core/change-details.js';\nimport '../masked/pattern.js';\nimport '../masked/base.js';\nimport '../core/continuous-tail-details.js';\nimport '../masked/pattern/input-definition.js';\nimport '../masked/pattern/fixed-definition.js';\nimport '../masked/pattern/chunk-tail-details.js';\nimport '../masked/pattern/cursor.js';\nimport '../masked/regexp.js';\nimport '../masked/range.js';\n\nconst _excluded = [\"mask\"];\n\n/** Listens to element events and controls changes between element and {@link Masked} */\nclass InputMask {\n  /**\n    View element\n    @readonly\n  */\n\n  /**\n    Internal {@link Masked} model\n    @readonly\n  */\n\n  /**\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\n    @param {Object} opts\n  */\n  constructor(el, opts) {\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n    this._bindEvents();\n\n    // refresh\n    this.updateValue();\n    this._onChange();\n  }\n\n  /** Read or update mask */\n  get mask() {\n    return this.masked.mask;\n  }\n  maskEquals(mask) {\n    var _this$masked;\n    return mask == null || ((_this$masked = this.masked) === null || _this$masked === void 0 ? void 0 : _this$masked.maskEquals(mask));\n  }\n  set mask(mask) {\n    if (this.maskEquals(mask)) return;\n\n    // $FlowFixMe No ideas ... after update\n    if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\n      this.masked.updateOptions({\n        mask\n      });\n      return;\n    }\n    const masked = createMask({\n      mask\n    });\n    masked.unmaskedValue = this.masked.unmaskedValue;\n    this.masked = masked;\n  }\n\n  /** Raw value */\n  get value() {\n    return this._value;\n  }\n  set value(str) {\n    if (this.value === str) return;\n    this.masked.value = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Unmasked value */\n  get unmaskedValue() {\n    return this._unmaskedValue;\n  }\n  set unmaskedValue(str) {\n    if (this.unmaskedValue === str) return;\n    this.masked.unmaskedValue = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Typed unmasked value */\n  get typedValue() {\n    return this.masked.typedValue;\n  }\n  set typedValue(val) {\n    if (this.masked.typedValueEquals(val)) return;\n    this.masked.typedValue = val;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Display value */\n  get displayValue() {\n    return this.masked.displayValue;\n  }\n\n  /**\n    Starts listening to element events\n    @protected\n  */\n  _bindEvents() {\n    this.el.bindEvents({\n      selectionChange: this._saveSelection,\n      input: this._onInput,\n      drop: this._onDrop,\n      click: this._onClick,\n      focus: this._onFocus,\n      commit: this._onChange\n    });\n  }\n\n  /**\n    Stops listening to element events\n    @protected\n   */\n  _unbindEvents() {\n    if (this.el) this.el.unbindEvents();\n  }\n\n  /**\n    Fires custom event\n    @protected\n   */\n  _fireEvent(ev) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    const listeners = this._listeners[ev];\n    if (!listeners) return;\n    listeners.forEach(l => l(...args));\n  }\n\n  /**\n    Current selection start\n    @readonly\n  */\n  get selectionStart() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n  }\n\n  /** Current cursor position */\n  get cursorPos() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n  }\n  set cursorPos(pos) {\n    if (!this.el || !this.el.isActive) return;\n    this.el.select(pos, pos);\n    this._saveSelection();\n  }\n\n  /**\n    Stores current selection\n    @protected\n  */\n  _saveSelection( /* ev */\n  ) {\n    if (this.displayValue !== this.el.value) {\n      console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n    }\n\n    this._selection = {\n      start: this.selectionStart,\n      end: this.cursorPos\n    };\n  }\n\n  /** Syncronizes model value from view */\n  updateValue() {\n    this.masked.value = this.el.value;\n    this._value = this.masked.value;\n  }\n\n  /** Syncronizes view from model value, fires change events */\n  updateControl() {\n    const newUnmaskedValue = this.masked.unmaskedValue;\n    const newValue = this.masked.value;\n    const newDisplayValue = this.displayValue;\n    const isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n    this._unmaskedValue = newUnmaskedValue;\n    this._value = newValue;\n    if (this.el.value !== newDisplayValue) this.el.value = newDisplayValue;\n    if (isChanged) this._fireChangeEvents();\n  }\n\n  /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n  updateOptions(opts) {\n    const {\n        mask\n      } = opts,\n      restOpts = _objectWithoutPropertiesLoose(opts, _excluded);\n    const updateMask = !this.maskEquals(mask);\n    const updateOpts = !objectIncludes(this.masked, restOpts);\n    if (updateMask) this.mask = mask;\n    if (updateOpts) this.masked.updateOptions(restOpts);\n    if (updateMask || updateOpts) this.updateControl();\n  }\n\n  /** Updates cursor */\n  updateCursor(cursorPos) {\n    if (cursorPos == null) return;\n    this.cursorPos = cursorPos;\n\n    // also queue change cursor for mobile browsers\n    this._delayUpdateCursor(cursorPos);\n  }\n\n  /**\n    Delays cursor update to support mobile browsers\n    @private\n  */\n  _delayUpdateCursor(cursorPos) {\n    this._abortUpdateCursor();\n    this._changingCursorPos = cursorPos;\n    this._cursorChanging = setTimeout(() => {\n      if (!this.el) return; // if was destroyed\n      this.cursorPos = this._changingCursorPos;\n      this._abortUpdateCursor();\n    }, 10);\n  }\n\n  /**\n    Fires custom events\n    @protected\n  */\n  _fireChangeEvents() {\n    this._fireEvent('accept', this._inputEvent);\n    if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n  }\n\n  /**\n    Aborts delayed cursor update\n    @private\n  */\n  _abortUpdateCursor() {\n    if (this._cursorChanging) {\n      clearTimeout(this._cursorChanging);\n      delete this._cursorChanging;\n    }\n  }\n\n  /** Aligns cursor to nearest available position */\n  alignCursor() {\n    this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT));\n  }\n\n  /** Aligns cursor only if selection is empty */\n  alignCursorFriendly() {\n    if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n    this.alignCursor();\n  }\n\n  /** Adds listener on custom event */\n  on(ev, handler) {\n    if (!this._listeners[ev]) this._listeners[ev] = [];\n    this._listeners[ev].push(handler);\n    return this;\n  }\n\n  /** Removes custom event listener */\n  off(ev, handler) {\n    if (!this._listeners[ev]) return this;\n    if (!handler) {\n      delete this._listeners[ev];\n      return this;\n    }\n    const hIndex = this._listeners[ev].indexOf(handler);\n    if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n    return this;\n  }\n\n  /** Handles view input event */\n  _onInput(e) {\n    this._inputEvent = e;\n    this._abortUpdateCursor();\n\n    // fix strange IE behavior\n    if (!this._selection) return this.updateValue();\n    const details = new ActionDetails(\n    // new state\n    this.el.value, this.cursorPos,\n    // old state\n    this.displayValue, this._selection);\n    const oldRawValue = this.masked.rawInputValue;\n    const offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\n      input: true,\n      raw: true\n    }).offset;\n\n    // force align in remove direction only if no input chars were removed\n    // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n    const removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n    let cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n    if (removeDirection !== DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, DIRECTION.NONE);\n    this.updateControl();\n    this.updateCursor(cursorPos);\n    delete this._inputEvent;\n  }\n\n  /** Handles view change event and commits model value */\n  _onChange() {\n    if (this.displayValue !== this.el.value) {\n      this.updateValue();\n    }\n    this.masked.doCommit();\n    this.updateControl();\n    this._saveSelection();\n  }\n\n  /** Handles view drop event, prevents by default */\n  _onDrop(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  /** Restore last selection on focus */\n  _onFocus(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Restore last selection on focus */\n  _onClick(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Unbind view events and removes element reference */\n  destroy() {\n    this._unbindEvents();\n    // $FlowFixMe why not do so?\n    this._listeners.length = 0;\n    // $FlowFixMe\n    delete this.el;\n  }\n}\nIMask.InputMask = InputMask;\n\nexport { InputMask as default };\n","import MaskedPattern from './pattern.js';\nimport IMask from '../core/holder.js';\nimport '../_rollupPluginBabelHelpers-6b3bd404.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport './base.js';\nimport '../core/continuous-tail-details.js';\nimport './pattern/input-definition.js';\nimport './factory.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport './pattern/cursor.js';\nimport './regexp.js';\n\n/** Pattern which validates enum values */\nclass MaskedEnum extends MaskedPattern {\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update(opts) {\n    // TODO type\n    if (opts.enum) opts.mask = '*'.repeat(opts.enum[0].length);\n    super._update(opts);\n  }\n\n  /**\n    @override\n  */\n  doValidate() {\n    return this.enum.some(e => e.indexOf(this.unmaskedValue) >= 0) && super.doValidate(...arguments);\n  }\n}\nIMask.MaskedEnum = MaskedEnum;\n\nexport { MaskedEnum as default };\n","import { escapeRegExp, normalizePrepare, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/continuous-tail-details.js';\n\n/**\n  Number mask\n  @param {Object} opts\n  @param {string} opts.radix - Single char\n  @param {string} opts.thousandsSeparator - Single char\n  @param {Array<string>} opts.mapToRadix - Array of single chars\n  @param {number} opts.min\n  @param {number} opts.max\n  @param {number} opts.scale - Digits after point\n  @param {boolean} opts.signed - Allow negative\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\n*/\nclass MaskedNumber extends Masked {\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n\n  constructor(opts) {\n    super(Object.assign({}, MaskedNumber.DEFAULTS, opts));\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    super._update(opts);\n    this._updateRegExps();\n  }\n\n  /** */\n  _updateRegExps() {\n    let start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n    let mid = '\\\\d*';\n    let end = (this.scale ? \"(\".concat(escapeRegExp(this.radix), \"\\\\d{0,\").concat(this.scale, \"})?\") : '') + '$';\n    this._numberRegExp = new RegExp(start + mid + end);\n    this._mapToRadixRegExp = new RegExp(\"[\".concat(this.mapToRadix.map(escapeRegExp).join(''), \"]\"), 'g');\n    this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n  }\n\n  /** */\n  _removeThousandsSeparators(value) {\n    return value.replace(this._thousandsSeparatorRegExp, '');\n  }\n\n  /** */\n  _insertThousandsSeparators(value) {\n    // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n    const parts = value.split(this.radix);\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n    return parts.join(this.radix);\n  }\n\n  /**\n    @override\n  */\n  doPrepare(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    ch = this._removeThousandsSeparators(this.scale && this.mapToRadix.length && (\n    /*\n      radix should be mapped when\n      1) input is done from keyboard = flags.input && flags.raw\n      2) unmasked value is set = !flags.input && !flags.raw\n      and should not be mapped when\n      1) value is set = flags.input && !flags.raw\n      2) raw value is set = !flags.input && flags.raw\n    */\n    flags.input && flags.raw || !flags.input && !flags.raw) ? ch.replace(this._mapToRadixRegExp, this.radix) : ch);\n    const [prepCh, details] = normalizePrepare(super.doPrepare(ch, flags));\n    if (ch && !prepCh) details.skip = true;\n    return [prepCh, details];\n  }\n\n  /** */\n  _separatorsCount(to) {\n    let extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let count = 0;\n    for (let pos = 0; pos < to; ++pos) {\n      if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n        ++count;\n        if (extendOnSeparators) to += this.thousandsSeparator.length;\n      }\n    }\n    return count;\n  }\n\n  /** */\n  _separatorsCountFromSlice() {\n    let slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n    return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n  }\n\n  /**\n    @override\n  */\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 ? arguments[2] : undefined;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    return this._removeThousandsSeparators(super.extractInput(fromPos, toPos, flags));\n  }\n\n  /**\n    @override\n  */\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.thousandsSeparator) return super._appendCharRaw(ch, flags);\n    const prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n    this._value = this._removeThousandsSeparators(this.value);\n    const appendDetails = super._appendCharRaw(ch, flags);\n    this._value = this._insertThousandsSeparators(this._value);\n    const beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n    appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n    appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n    return appendDetails;\n  }\n\n  /** */\n  _findSeparatorAround(pos) {\n    if (this.thousandsSeparator) {\n      const searchFrom = pos - this.thousandsSeparator.length + 1;\n      const separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n      if (separatorPos <= pos) return separatorPos;\n    }\n    return -1;\n  }\n  _adjustRangeWithSeparators(from, to) {\n    const separatorAroundFromPos = this._findSeparatorAround(from);\n    if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n    const separatorAroundToPos = this._findSeparatorAround(to);\n    if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n    return [from, to];\n  }\n\n  /**\n    @override\n  */\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    const valueBeforePos = this.value.slice(0, fromPos);\n    const valueAfterPos = this.value.slice(toPos);\n    const prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n    this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n    return new ChangeDetails({\n      tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n    });\n  }\n\n  /**\n    @override\n  */\n  nearestInputPos(cursorPos, direction) {\n    if (!this.thousandsSeparator) return cursorPos;\n    switch (direction) {\n      case DIRECTION.NONE:\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        {\n          const separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n          if (separatorAtLeftPos >= 0) {\n            const separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n            if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n              return separatorAtLeftPos;\n            }\n          }\n          break;\n        }\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n        {\n          const separatorAtRightPos = this._findSeparatorAround(cursorPos);\n          if (separatorAtRightPos >= 0) {\n            return separatorAtRightPos + this.thousandsSeparator.length;\n          }\n        }\n    }\n    return cursorPos;\n  }\n\n  /**\n    @override\n  */\n  doValidate(flags) {\n    // validate as string\n    let valid = Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));\n    if (valid) {\n      // validate as number\n      const number = this.number;\n      valid = valid && !isNaN(number) && (\n      // check min bound for negative values\n      this.min == null || this.min >= 0 || this.min <= this.number) && (\n      // check max bound for positive values\n      this.max == null || this.max <= 0 || this.number <= this.max);\n    }\n    return valid && super.doValidate(flags);\n  }\n\n  /**\n    @override\n  */\n  doCommit() {\n    if (this.value) {\n      const number = this.number;\n      let validnum = number;\n\n      // check bounds\n      if (this.min != null) validnum = Math.max(validnum, this.min);\n      if (this.max != null) validnum = Math.min(validnum, this.max);\n      if (validnum !== number) this.unmaskedValue = this.doFormat(validnum);\n      let formatted = this.value;\n      if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n      if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\n      this._value = formatted;\n    }\n    super.doCommit();\n  }\n\n  /** */\n  _normalizeZeros(value) {\n    const parts = this._removeThousandsSeparators(value).split(this.radix);\n\n    // remove leading zeros\n    parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, (match, sign, zeros, num) => sign + num);\n    // add leading zero\n    if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n    if (parts.length > 1) {\n      parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n      if (!parts[1].length) parts.length = 1; // remove fractional\n    }\n\n    return this._insertThousandsSeparators(parts.join(this.radix));\n  }\n\n  /** */\n  _padFractionalZeros(value) {\n    if (!value) return value;\n    const parts = value.split(this.radix);\n    if (parts.length < 2) parts.push('');\n    parts[1] = parts[1].padEnd(this.scale, '0');\n    return parts.join(this.radix);\n  }\n\n  /** */\n  doSkipInvalid(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let checkTail = arguments.length > 2 ? arguments[2] : undefined;\n    const dropFractional = this.scale === 0 && ch !== this.thousandsSeparator && (ch === this.radix || ch === MaskedNumber.UNMASKED_RADIX || this.mapToRadix.includes(ch));\n    return super.doSkipInvalid(ch, flags, checkTail) && !dropFractional;\n  }\n\n  /**\n    @override\n  */\n  get unmaskedValue() {\n    return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, MaskedNumber.UNMASKED_RADIX);\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n\n  /**\n    @override\n  */\n  get typedValue() {\n    return this.doParse(this.unmaskedValue);\n  }\n  set typedValue(n) {\n    this.rawInputValue = this.doFormat(n).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\n  }\n\n  /** Parsed Number */\n  get number() {\n    return this.typedValue;\n  }\n  set number(number) {\n    this.typedValue = number;\n  }\n\n  /**\n    Is negative allowed\n    @readonly\n  */\n  get allowNegative() {\n    return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n  }\n\n  /**\n    @override\n  */\n  typedValueEquals(value) {\n    // handle  0 -> '' case (typed = 0 even if value = '')\n    // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n    return (super.typedValueEquals(value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\n  }\n}\nMaskedNumber.UNMASKED_RADIX = '.';\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: [MaskedNumber.UNMASKED_RADIX],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false,\n  parse: Number,\n  format: n => n.toLocaleString('en-US', {\n    useGrouping: false,\n    maximumFractionDigits: 20\n  })\n};\nMaskedNumber.EMPTY_VALUES = [...Masked.EMPTY_VALUES, 0];\nIMask.MaskedNumber = MaskedNumber;\n\nexport { MaskedNumber as default };\n","import Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport '../core/utils.js';\n\n/** Masking by custom Function */\nclass MaskedFunction extends Masked {\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update(opts) {\n    if (opts.mask) opts.validate = opts.mask;\n    super._update(opts);\n  }\n}\nIMask.MaskedFunction = MaskedFunction;\n\nexport { MaskedFunction as default };\n","import { _ as _objectWithoutPropertiesLoose } from '../_rollupPluginBabelHelpers-6b3bd404.js';\nimport { DIRECTION, normalizePrepare, objectIncludes } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport createMask from './factory.js';\nimport Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/continuous-tail-details.js';\n\nconst _excluded = [\"compiledMasks\", \"currentMaskRef\", \"currentMask\"],\n  _excluded2 = [\"mask\"];\n/** Dynamic mask for choosing apropriate mask in run-time */\nclass MaskedDynamic extends Masked {\n  /** Currently chosen mask */\n\n  /** Compliled {@link Masked} options */\n\n  /** Chooses {@link Masked} depending on input value */\n\n  /**\n    @param {Object} opts\n  */\n  constructor(opts) {\n    super(Object.assign({}, MaskedDynamic.DEFAULTS, opts));\n    this.currentMask = null;\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    super._update(opts);\n    if ('mask' in opts) {\n      // mask could be totally dynamic with only `dispatch` option\n      this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(m => createMask(m)) : [];\n\n      // this.currentMask = this.doDispatch(''); // probably not needed but lets see\n    }\n  }\n\n  /**\n    @override\n  */\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const details = this._applyDispatch(ch, flags);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendChar(ch, this.currentMaskFlags(flags)));\n    }\n    return details;\n  }\n  _applyDispatch() {\n    let appended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let tail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    const prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\n    const inputValue = this.rawInputValue;\n    const insertValue = flags.tail && flags._beforeTailState != null ?\n    // $FlowFixMe - tired to fight with type system\n    flags._beforeTailState._rawInputValue : inputValue;\n    const tailValue = inputValue.slice(insertValue.length);\n    const prevMask = this.currentMask;\n    const details = new ChangeDetails();\n    const prevMaskState = prevMask === null || prevMask === void 0 ? void 0 : prevMask.state;\n\n    // clone flags to prevent overwriting `_beforeTailState`\n    this.currentMask = this.doDispatch(appended, Object.assign({}, flags), tail);\n\n    // restore state after dispatch\n    if (this.currentMask) {\n      if (this.currentMask !== prevMask) {\n        // if mask changed reapply input\n        this.currentMask.reset();\n        if (insertValue) {\n          // $FlowFixMe - it's ok, we don't change current mask above\n          const d = this.currentMask.append(insertValue, {\n            raw: true\n          });\n          details.tailShift = d.inserted.length - prevValueBeforeTail.length;\n        }\n        if (tailValue) {\n          // $FlowFixMe - it's ok, we don't change current mask above\n          details.tailShift += this.currentMask.append(tailValue, {\n            raw: true,\n            tail: true\n          }).tailShift;\n        }\n      } else {\n        // Dispatch can do something bad with state, so\n        // restore prev mask state\n        this.currentMask.state = prevMaskState;\n      }\n    }\n    return details;\n  }\n  _appendPlaceholder() {\n    const details = this._applyDispatch(...arguments);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendPlaceholder());\n    }\n    return details;\n  }\n\n  /**\n   @override\n  */\n  _appendEager() {\n    const details = this._applyDispatch(...arguments);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendEager());\n    }\n    return details;\n  }\n  appendTail(tail) {\n    const details = new ChangeDetails();\n    if (tail) details.aggregate(this._applyDispatch('', {}, tail));\n    return details.aggregate(this.currentMask ? this.currentMask.appendTail(tail) : super.appendTail(tail));\n  }\n  currentMaskFlags(flags) {\n    var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n    return Object.assign({}, flags, {\n      _beforeTailState: ((_flags$_beforeTailSta = flags._beforeTailState) === null || _flags$_beforeTailSta === void 0 ? void 0 : _flags$_beforeTailSta.currentMaskRef) === this.currentMask && ((_flags$_beforeTailSta2 = flags._beforeTailState) === null || _flags$_beforeTailSta2 === void 0 ? void 0 : _flags$_beforeTailSta2.currentMask) || flags._beforeTailState\n    });\n  }\n\n  /**\n    @override\n  */\n  doDispatch(appended) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let tail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    return this.dispatch(appended, this, flags, tail);\n  }\n\n  /**\n    @override\n  */\n  doValidate(flags) {\n    return super.doValidate(flags) && (!this.currentMask || this.currentMask.doValidate(this.currentMaskFlags(flags)));\n  }\n\n  /**\n    @override\n  */\n  doPrepare(str) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let [s, details] = normalizePrepare(super.doPrepare(str, flags));\n    if (this.currentMask) {\n      let currentDetails;\n      [s, currentDetails] = normalizePrepare(super.doPrepare(s, this.currentMaskFlags(flags)));\n      details = details.aggregate(currentDetails);\n    }\n    return [s, details];\n  }\n\n  /**\n    @override\n  */\n  reset() {\n    var _this$currentMask;\n    (_this$currentMask = this.currentMask) === null || _this$currentMask === void 0 ? void 0 : _this$currentMask.reset();\n    this.compiledMasks.forEach(m => m.reset());\n  }\n\n  /**\n    @override\n  */\n  get value() {\n    return this.currentMask ? this.currentMask.value : '';\n  }\n  set value(value) {\n    super.value = value;\n  }\n\n  /**\n    @override\n  */\n  get unmaskedValue() {\n    return this.currentMask ? this.currentMask.unmaskedValue : '';\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n\n  /**\n    @override\n  */\n  get typedValue() {\n    return this.currentMask ? this.currentMask.typedValue : '';\n  }\n\n  // probably typedValue should not be used with dynamic\n  set typedValue(value) {\n    let unmaskedValue = String(value);\n\n    // double check it\n    if (this.currentMask) {\n      this.currentMask.typedValue = value;\n      unmaskedValue = this.currentMask.unmaskedValue;\n    }\n    this.unmaskedValue = unmaskedValue;\n  }\n  get displayValue() {\n    return this.currentMask ? this.currentMask.displayValue : '';\n  }\n\n  /**\n    @override\n  */\n  get isComplete() {\n    var _this$currentMask2;\n    return Boolean((_this$currentMask2 = this.currentMask) === null || _this$currentMask2 === void 0 ? void 0 : _this$currentMask2.isComplete);\n  }\n\n  /**\n    @override\n  */\n  get isFilled() {\n    var _this$currentMask3;\n    return Boolean((_this$currentMask3 = this.currentMask) === null || _this$currentMask3 === void 0 ? void 0 : _this$currentMask3.isFilled);\n  }\n\n  /**\n    @override\n  */\n  remove() {\n    const details = new ChangeDetails();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask.remove(...arguments))\n      // update with dispatch\n      .aggregate(this._applyDispatch());\n    }\n    return details;\n  }\n\n  /**\n    @override\n  */\n  get state() {\n    var _this$currentMask4;\n    return Object.assign({}, super.state, {\n      _rawInputValue: this.rawInputValue,\n      compiledMasks: this.compiledMasks.map(m => m.state),\n      currentMaskRef: this.currentMask,\n      currentMask: (_this$currentMask4 = this.currentMask) === null || _this$currentMask4 === void 0 ? void 0 : _this$currentMask4.state\n    });\n  }\n  set state(state) {\n    const {\n        compiledMasks,\n        currentMaskRef,\n        currentMask\n      } = state,\n      maskedState = _objectWithoutPropertiesLoose(state, _excluded);\n    this.compiledMasks.forEach((m, mi) => m.state = compiledMasks[mi]);\n    if (currentMaskRef != null) {\n      this.currentMask = currentMaskRef;\n      this.currentMask.state = currentMask;\n    }\n    super.state = maskedState;\n  }\n\n  /**\n    @override\n  */\n  extractInput() {\n    return this.currentMask ? this.currentMask.extractInput(...arguments) : '';\n  }\n\n  /**\n    @override\n  */\n  extractTail() {\n    return this.currentMask ? this.currentMask.extractTail(...arguments) : super.extractTail(...arguments);\n  }\n\n  /**\n    @override\n  */\n  doCommit() {\n    if (this.currentMask) this.currentMask.doCommit();\n    super.doCommit();\n  }\n\n  /**\n    @override\n  */\n  nearestInputPos() {\n    return this.currentMask ? this.currentMask.nearestInputPos(...arguments) : super.nearestInputPos(...arguments);\n  }\n  get overwrite() {\n    return this.currentMask ? this.currentMask.overwrite : super.overwrite;\n  }\n  set overwrite(overwrite) {\n    console.warn('\"overwrite\" option is not available in dynamic mask, use this option in siblings');\n  }\n  get eager() {\n    return this.currentMask ? this.currentMask.eager : super.eager;\n  }\n  set eager(eager) {\n    console.warn('\"eager\" option is not available in dynamic mask, use this option in siblings');\n  }\n  get skipInvalid() {\n    return this.currentMask ? this.currentMask.skipInvalid : super.skipInvalid;\n  }\n  set skipInvalid(skipInvalid) {\n    if (this.isInitialized || skipInvalid !== Masked.DEFAULTS.skipInvalid) {\n      console.warn('\"skipInvalid\" option is not available in dynamic mask, use this option in siblings');\n    }\n  }\n\n  /**\n    @override\n  */\n  maskEquals(mask) {\n    return Array.isArray(mask) && this.compiledMasks.every((m, mi) => {\n      if (!mask[mi]) return;\n      const _mask$mi = mask[mi],\n        {\n          mask: oldMask\n        } = _mask$mi,\n        restOpts = _objectWithoutPropertiesLoose(_mask$mi, _excluded2);\n      return objectIncludes(m, restOpts) && m.maskEquals(oldMask);\n    });\n  }\n\n  /**\n    @override\n  */\n  typedValueEquals(value) {\n    var _this$currentMask5;\n    return Boolean((_this$currentMask5 = this.currentMask) === null || _this$currentMask5 === void 0 ? void 0 : _this$currentMask5.typedValueEquals(value));\n  }\n}\nMaskedDynamic.DEFAULTS = {\n  dispatch: (appended, masked, flags, tail) => {\n    if (!masked.compiledMasks.length) return;\n    const inputValue = masked.rawInputValue;\n\n    // simulate input\n    const inputs = masked.compiledMasks.map((m, index) => {\n      const isCurrent = masked.currentMask === m;\n      const startInputPos = isCurrent ? m.value.length : m.nearestInputPos(m.value.length, DIRECTION.FORCE_LEFT);\n      if (m.rawInputValue !== inputValue) {\n        m.reset();\n        m.append(inputValue, {\n          raw: true\n        });\n      } else if (!isCurrent) {\n        m.remove(startInputPos);\n      }\n      m.append(appended, masked.currentMaskFlags(flags));\n      m.appendTail(tail);\n      return {\n        index,\n        weight: m.rawInputValue.length,\n        totalInputPositions: m.totalInputPositions(0, Math.max(startInputPos, m.nearestInputPos(m.value.length, DIRECTION.FORCE_LEFT)))\n      };\n    });\n\n    // pop masks with longer values first\n    inputs.sort((i1, i2) => i2.weight - i1.weight || i2.totalInputPositions - i1.totalInputPositions);\n    return masked.compiledMasks[inputs[0].index];\n  }\n};\nIMask.MaskedDynamic = MaskedDynamic;\n\nexport { MaskedDynamic as default };\n","import createMask from './factory.js';\nimport IMask from '../core/holder.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\n\n/** Mask pipe source and destination types */\nconst PIPE_TYPE = {\n  MASKED: 'value',\n  UNMASKED: 'unmaskedValue',\n  TYPED: 'typedValue'\n};\n\n/** Creates new pipe function depending on mask type, source and destination options */\nfunction createPipe(mask) {\n  let from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PIPE_TYPE.MASKED;\n  let to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : PIPE_TYPE.MASKED;\n  const masked = createMask(mask);\n  return value => masked.runIsolated(m => {\n    m[from] = value;\n    return m[to];\n  });\n}\n\n/** Pipes value through mask depending on mask type, source and destination options */\nfunction pipe(value) {\n  for (var _len = arguments.length, pipeArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    pipeArgs[_key - 1] = arguments[_key];\n  }\n  return createPipe(...pipeArgs)(value);\n}\nIMask.PIPE_TYPE = PIPE_TYPE;\nIMask.createPipe = createPipe;\nIMask.pipe = pipe;\n\nexport { PIPE_TYPE, createPipe, pipe };\n","export { default as InputMask } from './controls/input.js';\nimport IMask from './core/holder.js';\nexport { default } from './core/holder.js';\nexport { default as Masked } from './masked/base.js';\nexport { default as MaskedPattern } from './masked/pattern.js';\nexport { default as MaskedEnum } from './masked/enum.js';\nexport { default as MaskedRange } from './masked/range.js';\nexport { default as MaskedNumber } from './masked/number.js';\nexport { default as MaskedDate } from './masked/date.js';\nexport { default as MaskedRegExp } from './masked/regexp.js';\nexport { default as MaskedFunction } from './masked/function.js';\nexport { default as MaskedDynamic } from './masked/dynamic.js';\nexport { default as createMask } from './masked/factory.js';\nexport { default as MaskElement } from './controls/mask-element.js';\nexport { default as HTMLMaskElement } from './controls/html-mask-element.js';\nexport { default as HTMLContenteditableMaskElement } from './controls/html-contenteditable-mask-element.js';\nexport { PIPE_TYPE, createPipe, pipe } from './masked/pipe.js';\nexport { default as ChangeDetails } from './core/change-details.js';\nimport './_rollupPluginBabelHelpers-6b3bd404.js';\nimport './core/utils.js';\nimport './core/action-details.js';\nimport './core/continuous-tail-details.js';\nimport './masked/pattern/input-definition.js';\nimport './masked/pattern/fixed-definition.js';\nimport './masked/pattern/chunk-tail-details.js';\nimport './masked/pattern/cursor.js';\n\ntry {\n  globalThis.IMask = IMask;\n} catch (e) {}\n","function sendDataToServer (formData, url = 'http://localhost:4000/requests'){\r\n        const formJson = JSON.stringify(Object.fromEntries(formData.entries()));\r\n        fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: formJson,\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log('Response:', data);\r\n            // Дальнейшая обработка ответа сервера\r\n        })\r\n        .catch(error => {\r\n            console.error('Error:', error);\r\n            // Обработка ошибок при отправке запроса\r\n        });\r\n    }\r\nexport default sendDataToServer;","\"use strict\";\r\nimport slider from \"./modules/slider\";\r\nimport cards from \"./modules/cards\";\r\nimport modal from \"./modules/modal\"\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () =>{\r\n  slider();\r\n  cards();\r\n  modal();\r\n});","import { Validator, enLang as en } from '@upjs/facile-validator';\r\nimport IMask from 'imask';\r\nimport sendDataToServer from '../services/services'\r\nfunction modal (){\r\n    const callBackBtn = document.querySelectorAll(\".button[data-btn='call-back']\"),\r\n          thanksModalBtn = document.querySelector(\".button[data-btn='thanks-modal']\"),\r\n          modalCallBackBtn = document.querySelector(\".button[data-btn='modal-call-back-btn']\");\r\n    let modalThanksTimeout;\r\n    // Создаем маску на инпут телефонного номераgit\r\n    const phoneInputs = document.querySelectorAll('.form__phone');\r\n    phoneInputs.forEach(input =>{\r\n        IMask(input, {\r\n            mask: '+{420} 000 000 000',\r\n            });\r\n    })\r\n    // Отображает модальное окно\r\n    function showModal(modal) {\r\n        modal.style.display = \"block\";\r\n        modal.querySelector('.modal__item-wrapper').classList.add(\"modal__item-wrapper_show\")\r\n    }\r\n    // Скрывает модальное окно\r\n    function modalHide(modal){\r\n        modal.style.display = \"none\";\r\n        modal.querySelector('.modal__item-wrapper').classList.remove(\"modal__item-wrapper_show\")\r\n    }\r\n    // открывает модальное окно с благодарностью\r\n    function showThanksModal() {\r\n        const modal = document.querySelector(\"#modal-thanks\");\r\n        showModal(modal);\r\n        modalThanksTimeout = setTimeout(()=>{\r\n            modalHide(modal);\r\n            }, 5000)\r\n    }\r\n    // Открываем и закрываем модальное окно перезвонить мне также устанавливаем таймер автоматического закрытия окна\r\n    callBackBtn.forEach(item =>{\r\n        item.addEventListener(\"click\", ()=>{\r\n            const modal = document.querySelector(\"#modal-call-back\");\r\n            showModal(modal);\r\n \r\n        })\r\n    })\r\n    document.querySelector('#modal-call-back .modal__cross').addEventListener('click', (e)=>{\r\n        const modal = e.target.parentElement.parentElement.parentElement;\r\n        modalHide(modal);\r\n    })\r\n    // После заполенения формы открываем модальное окно с благодарностью, и закрываем его по клику крестика или через 5 секунд\r\n    thanksModalBtn.addEventListener('click', (e)=>{\r\n        e.preventDefault();\r\n        const form = document.querySelector('#call-back-form');\r\n\r\n        // Create an instance of Validator for the container element\r\n        const v = new Validator(form, {\r\n            onFieldChangeValidation: true,\r\n            lang: en,\r\n        });\r\n        v.validate();\r\n        if(v.validatorError.errorsList.length === 0){\r\n            const formData = new FormData(form);\r\n            sendDataToServer(formData);\r\n            form.reset();\r\n            showThanksModal();\r\n        }\r\n    })\r\n    document.querySelector('#modal-thanks .modal__cross').addEventListener('click', (e)=>{\r\n        const modal = document.querySelector('#modal-thanks');\r\n        modalHide(modal);\r\n        clearTimeout(modalThanksTimeout);\r\n    })\r\n    modalCallBackBtn.addEventListener('click', (e)=>{\r\n        e.preventDefault();\r\n        const modal = document.querySelector(\"#modal-call-back\"),\r\n              form = modal.querySelector(\".form\")\r\n        // валидация формы\r\n        const v = new Validator(form, {\r\n            onFieldChangeValidation: true,\r\n            lang: en,\r\n        });\r\n        v.validate();\r\n        if(v.validatorError.errorsList.length === 0){\r\n            showThanksModal();\r\n            modalHide(modal);\r\n            const formData = new FormData(form);\r\n            sendDataToServer(formData);\r\n            form.reset();\r\n        }\r\n    })\r\n    // При нажатии по кнопке купить открываем модальное окно покупки и передаем в него название продукта который нужно купить\r\n    document.addEventListener('click', (e)=>{\r\n        if(e.target && (e.target.getAttribute('data-btn') === \"btn-buy\")){\r\n            const productName = e.target.parentElement.parentElement.querySelector(\".card__info\").innerHTML,\r\n                  modal = document.querySelector(\"#modal-buy\");\r\n            modal.querySelector(\".modal__sub-title\").innerHTML = productName;\r\n            showModal(modal);\r\n        }\r\n    })\r\n    // навешиваем обработчик событий на крестик который закрывает модальное окно\r\n    document.querySelector(\"#modal-buy .modal__cross\").addEventListener('click', ()=>{\r\n        modalHide(document.querySelector(\"#modal-buy\"));\r\n    })\r\n    // после нажатия кнопки купить и валидации формы в модальном окне закрываем модальное окно и открываем новое модальное окно с благодарностью\r\n    document.querySelector(\"#modal-buy .button_submit\").addEventListener('click', (e)=>{\r\n        e.preventDefault();\r\n        const form = document.querySelector(\"#modal-buy .form\")\r\n        const v = new Validator(form, {\r\n            onFieldChangeValidation: true,\r\n            lang: en,\r\n        });\r\n        v.validate();\r\n        if(v.validatorError.errorsList.length === 0){\r\n            modalHide(document.querySelector(\"#modal-buy\"));\r\n            showThanksModal();\r\n            const formData = new FormData(form);\r\n            sendDataToServer(formData);\r\n            form.reset();\r\n        }\r\n    })\r\n}\r\nexport default  modal;"],"names":["win","window","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","setTimeout","caf","cancelAnimationFrame","mozCancelAnimationFrame","id","clearTimeout","extend","obj","name","copy","target","arguments","i","length","undefined","checkStorageValue","value","indexOf","JSON","parse","setLocalStorage","storage","key","access","setItem","e","getBody","doc","document","body","createElement","fake","docElement","documentElement","setFakeBody","docOverflow","style","overflow","background","appendChild","resetFakeBody","remove","offsetHeight","addCSSRule","sheet","selector","rules","index","insertRule","addRule","getCssRulesLength","cssRules","forEach","arr","callback","scope","l","call","classListSupport","hasClass","el","str","classList","contains","className","addClass","add","removeClass","replace","hasAttr","attr","hasAttribute","getAttr","getAttribute","isNodeList","item","setAttrs","els","attrs","Array","Object","prototype","toString","setAttribute","removeAttrs","attrLength","j","removeAttribute","arrayFromNodeList","nl","push","hideElement","forceHide","display","showElement","isVisible","getComputedStyle","whichProperty","props","Props","charAt","toUpperCase","substr","prefix","prop","getEndProperty","propIn","propOut","endProp","test","toLowerCase","supportsPassive","opts","defineProperty","get","addEventListener","passiveOption","passive","addEvents","preventScrolling","option","removeEvents","removeEventListener","Events","topics","on","eventName","fn","this","off","splice","emit","data","type","keys","object","hasOwnProperty","Element","parentNode","removeChild","tns","options","container","mode","axis","items","gutter","edgePadding","fixedWidth","autoWidth","viewportMax","slideBy","center","controls","controlsPosition","controlsText","controlsContainer","prevButton","nextButton","nav","navPosition","navContainer","navAsThumbnails","arrowKeys","speed","autoplay","autoplayPosition","autoplayTimeout","autoplayDirection","autoplayText","autoplayHoverPause","autoplayButton","autoplayButtonOutput","autoplayResetOnVisibility","animateIn","animateOut","animateNormal","animateDelay","loop","rewind","autoHeight","responsive","lazyload","lazyloadSelector","touch","mouseDrag","swipeAngle","nested","preventActionWhenRunning","preventScrollOnTouch","freezable","onInit","useLocalStorage","nonce","KEYS","ENTER","SPACE","LEFT","RIGHT","tnsStorage","localStorageAccess","browserInfo","navigator","userAgent","uid","Date","localStorage","getItem","removeItem","CALC","div","result","val","vals","width","offsetWidth","calc","PERCENTAGELAYOUT","supported","wrapper","outer","innerHTML","Math","abs","getBoundingClientRect","left","children","count","percentageLayout","CSSMQ","matchMedia","msMatchMedia","position","rule","styleSheet","cssText","createTextNode","currentStyle","mediaquerySupport","TRANSFORM","HAS3DTRANSFORMS","tf","has3d","cssTF","slice","insertBefore","getPropertyValue","has3DTransforms","TRANSITIONDURATION","TRANSITIONDELAY","ANIMATIONDURATION","ANIMATIONDELAY","TRANSITIONEND","ANIMATIONEND","supportConsoleWarn","console","warn","tnsList","optionsElements","querySelector","nodeName","carousel","responsiveTem","updateOptions","middleWrapper","breakpointZone","horizontal","outerWrapper","innerWrapper","containerParent","containerHTML","outerHTML","slideItems","slideCount","windowWidth","getWindowWidth","isOn","setBreakpointZone","slidePositions","imgsComplete","liveregionCurrent","itemsMax","getOption","viewport","getViewportWidth","floor","fixedWidthViewportWidth","slideItemsOut","cloneCount","bp","tem","ceil","min","apply","max","getItemsMax","hasOption","slideCountNew","hasRightDeadZone","rightBoundary","getRightBoundary","updateIndexBeforeTransform","transformAttr","transformPrefix","transformPostfix","getIndexMax","getStartIndex","indexCached","indexMin","getCurrentSlide","indexMax","moveDirectionExpected","running","events","newContainerClasses","slideId","tnsId","disable","disabled","freeze","getFreeze","frozen","controlsEvents","onControlsClick","getEvent","keyIndex","keyCode","navEvents","onTransitionEnd","getTarget","navIndex","navClicked","Number","targetIndexBase","pages","goTo","navCurrentIndex","animating","stopAutoplay","curElement","activeElement","setFocus","navItems","hoverEvents","stopAutoplayTimer","autoplayHoverPaused","setAutoplayTimer","visibilityEvent","hidden","autoplayVisibilityPaused","docmentKeydownEvent","touchEvents","onPanStart","onPanMove","onPanEnd","dragEvents","hasControls","hasNav","hasAutoplay","hasTouch","hasMouseDrag","slideActiveClass","slideClonedClass","imgCompleteClass","imgEvents","imgLoaded","img","imgCompleted","preventScroll","prevIsButton","nextIsButton","controlsContainerHTML","prevButtonHTML","nextButtonHTML","navContainerHTML","getPages","pagesCached","getCurrentNavIndex","navCurrentIndexCached","navActiveClass","navStr","navStrCurrent","autoplayTimer","autoplayUserPaused","autoplayButtonHTML","autoplayHtmlStrings","translateInit","rafIndex","initPosition","lastPosition","panStart","getDist","a","b","x","y","resetVariblesWhenDisable","fragmentBefore","createDocumentFragment","fragmentAfter","num","cloneFirst","cloneNode","firstChild","cloneLast","initStructure","fontSize","slide","marginLeft","getSlideMarginLeft","getTransitionDurationStyle","getInnerWrapperStyles","getContainerWidth","getSlideWidthStyle","getSlideGutterStyle","getAnimationDurationStyle","parseInt","middleWrapperStr","innerWrapperStr","containerStr","slideStr","itemsBP","fixedWidthBP","speedBP","edgePaddingBP","autoHeightBP","gutterBP","initSheet","initSliderTransform","updateIndex","leftEdge","rightEdge","transformCore","element","postfix","to","duration","tick","unit","from","positionTick","resetDuration","doContainerTransform","getContainerTransformValue","moveElement","updateContentWrapperHeight","eve","animateSlide","version","getInfo","info","play","startAutoplay","pause","updateSliderHeight","updateInnerWrapperHeight","refresh","destroy","ownerNode","onResize","toggleAutoplay","clearInterval","htmlList","prevEl","previousElementSibling","parentEl","nextElementSibling","firstElementChild","rebuild","condition","ind","getAbsIndex","absIndex","innerWidth","clientWidth","getInsertPosition","pos","getClientWidth","rect","right","gap","ww","edgePaddingTem","gutterTem","fixedWidthTem","speedTem","gutterTemUnit","itemsTem","dividend","getCSSPrefix","substring","imgs","querySelectorAll","src","imgsLoadedCheck","getImageArray","initSliderTransformStyleCheck","doContainerTransformSilent","initTools","initEvents","stylesApplicationCheck","initSliderTransformCore","setSlidePositions","updateSlideStatus","insertAdjacentHTML","getLiveRegionStr","txt","navHtml","hiddenStr","updateNavVisibility","isButton","updateControlsStatus","disableUI","resizeTasks","doAutoHeight","doLazyLoad","disableSlider","freezeSlider","additionalUpdates","bpChanged","breakpointZoneTem","needContainerTransform","indChanged","itemsChanged","disableTem","freezeTem","arrowKeysTem","controlsTem","navTem","touchTem","mouseDragTem","autoplayTem","autoplayHoverPauseTem","autoplayResetOnVisibilityTem","indexTem","autoHeightTem","controlsTextTem","centerTem","autoplayTextTem","classN","enableUI","enableSlider","margin","unfreezeSlider","height","html","len","updateLiveRegion","updateGallerySlidePositions","deleteRule","removeRule","removeCSSRule","vp","getVisibleSlideRange","start","end","rangestart","rangeend","parseFloat","point","cell","arg","stopPropagation","srcset","imgSelector","complete","navPrev","navCurrent","updateNavStatus","getMaxSlideHeight","slideStart","slideRange","heights","maxHeight","wp","attr2","base","range","getLowerCaseNodeName","isAriaDisabled","disEnableElement","prevDisabled","nextDisabled","disablePrev","disableNext","getCenterGap","denominator","number","classOut","classIn","isOut","render","sliderMoved","strTrans","event","propertyName","targetIndex","indexGap","isNaN","factor","dir","passEventObject","targetIn","setInterval","updateAutoplayButton","action","focus","isTouchEvent","changedTouches","srcElement","preventDefaultBehavior","preventDefault","returnValue","getMoveDirectionExpected","angle","atan2","PI","direction","$","clientX","clientY","panUpdate","cancelable","err","dist","preventClick","indexMoved","moved","rough","displayIndex","method","url","cards","altimg","cardInfo","cardText","oldPrice","newPrice","li1","li2","li3","li4","category","menuWraper","Menu","constructor","alt","wraper","append","addShowClass","card","createMenu","filter","fetch","then","json","parentElement","toggle","renderPage","RuleError","Error","cause","args","super","ACCEPTED","ALPHA","ALPHA_NUM","ALPHA_NUM_DASH","BETWEEN_LENGTH","BETWEEN_NUMBER","DIGITS","EMAIL","ENDS_WITH","EQUAL_LENGTH","EQUAL_NUMBER","GREATER_EQUAL","INTEGER","LESS_EQUAL","MAX_LENGTH","MIN_LENGTH","NUM_DASH","NUMBER","REGEX","REQUIRED","STARTS_WITH","WITHIN","email$1","integer","number$1","alpha$1","alphaNum$1","alphaNumDash$1","numDash$1","Language$1","set","lang","toCamelCase","match","getValue","HTMLInputElement","checked","HTMLTextAreaElement","HTMLSelectElement","selectedOptions","map","join","processRule","xRules","argsText","split","startsWith","isXRule","includes","hasArgument","String","processArgs","when","throwError","message","ARGUMENT_MUST_BE_PROVIDED","ARGUMENT_MUST_BE_A_NUMBER","ARGUMENT_MUST_BE_POSITIVE","required","trim","within","values","list","splittedValue","value2","__proto__","accepted","alpha","alphaNum","alphaNumDash","between","minArg","maxArg","valueInNumber","betweenForNumber","betweenForString","digits","digitLength","RegExp","endsWith","email","min2","minInNumber","minForNumber","minForString","int","max2","maxInNumber","maxForNumber","maxForString","numDash","regex","pattern","isValidPattern","main","stringToRegex","requiredIf","targetValue","size","size2","sizeInNumber","sizeForNumber","sizeForString","ValidatorError","errorsList","setError","ruleError","errors","find","error","errorDetail","languages","toReplace","_","format","hasError","clearErrors","EventBus","clear","mapMethods","_rules","_field","_parentEl","targetField","getElementById","prependType","in","indexOfRule","rulesBeforeRule","defaultOptions","renderErrors","onFieldChangeValidationDelay","Validator$1","HTMLElement","assign","validatorError","reverse","messageElement","nextSibling","triggerFieldErrorEvent","onFieldChangeValidation","validateOnFieldChange","validate","fields","shouldFireResultsEvent","isSuccessful","status","validateFields","field","fieldRules","shouldStopOnFirstFailure","computedFieldRules","getComputedFieldRules","fieldRule","ruleName","ruleArgs","ruleKey","isNullable","givenRules","adaptRule","fieldErrors","timeout","delay","matches","setLanguage","enLang$1","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","IMask","InputMask","ChangeDetails","details","inserted","rawInserted","skip","tailShift","aggregate","offset","isString","DIRECTION","escapeRegExp","normalizePrepare","prep","isArray","objectIncludes","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","ActionDetails","cursorPos","oldValue","oldSelection","startChangePos","insertedCount","removedCount","removed","head","tail","removeDirection","ContinuousTailDetails","stop","appendTo","masked","_appendPlaceholder","state","unshift","beforePos","shiftChar","shift","Masked","_value","_update","DEFAULTS","isInitialized","withValueRefresh","bind","reset","resolve","flags","input","doCommit","unmaskedValue","typedValue","doParse","doFormat","rawInputValue","extractInput","raw","displayValue","isComplete","isFilled","nearestInputPos","totalInputPositions","fromPos","toPos","extractTail","appendTail","_appendCharRaw","ch","_appendChar","checkTail","consistentState","doPrepare","consistentTail","appended","doValidate","beforeTailState","overwrite","tailDetails","_appendEager","_beforeTailState","ci","d","doSkipInvalid","eager","_refreshing","rawInput","ret","runIsolated","_isolated","skipInvalid","prepare","parent","commit","deleteCount","tailPos","eagerRemove","oldRawValue","forceDirection","valLength","maskEquals","mask","typedValueEquals","tval","EMPTY_VALUES","maskedClass","MaskedRegExp","MaskedPattern","MaskedDate","MaskedNumber","MaskedDynamic","Function","MaskedFunction","createMask","MaskedClass","v","_excluded","DEFAULT_INPUT_DEFINITIONS","PatternInputDefinition","isOptional","placeholderChar","displayChar","lazy","maskOpts","Boolean","maxPos","boundPos","PatternFixedDefinition","isFixed","isUnmasking","_isRawInput","appendEager","isResolved","char","ChunksTailDetails","chunks","tailChunk","lastChunk","extendLast","firstTailChunk","blockIndex","chunk","lastBlockIter","_mapPosToBlock","chunkBlock","_stops","phDetails","_blocks","remainChars","c","cstate","chunkShiftPos","PatternCursor","_log","ok","block","_blockStartPos","s","pushState","popState","pop","bindBlock","_pushLeft","_this$block","_pushRight","pushLeftBeforeFilled","pushLeftBeforeInput","pushLeftBeforeRequired","pushRightBeforeFilled","pushRightBeforeInput","pushRightBeforeRequired","search","definitions","_rebuildMask","defs","_maskedBlocks","unmaskingBlock","optionalBlock","_defs$char","_defs$char2","blocks","p","bNames","bName","sort","maskedBlock","isInput","STOP_CHAR","ESCAPE_CHAR","def","maskedState","bi","every","reduce","_this$_mapPosToBlock","startBlockIndex","blockIter","_flags$_beforeTailSta","_flags$_beforeTailSta2","blockDetails","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","stopBefore","si","toBlockIndex","startBlockIter","endBlockIndex","bDetails","accVal","blockStartPos","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","cursor","total","maskedBlocks","indices","gi","InputDefinition","FixedDefinition","MaskedRange","_matchFrom","maxLength","fromStr","padStart","toStr","sameCharsCount","repeat","boundaries","minstr","maxstr","placeholder","padEnd","autofix","nextVal","GET_DEFAULT_BLOCKS","Y","getFullYear","m","getMonth","getDate","bk","date","isDateExist","day","month","year","MaskElement","selectionStart","_unsafeSelectionStart","selectionEnd","_unsafeSelectionEnd","select","_unsafeSelect","isActive","bindEvents","handlers","unbindEvents","HTMLMaskElement","_handlers","rootElement","_this$input$getRootNo","_this$input$getRootNo2","_this$input","getRootNode","setSelectionRange","_toggleEventHandler","EVENTS_MAP","handler","selectionChange","drop","click","HTMLContenteditableMaskElement","root","selection","getSelection","anchorOffset","focusOffset","createRange","setStart","setEnd","lastChild","removeAllRanges","addRange","textContent","isContentEditable","tagName","_listeners","_unmaskedValue","_saveSelection","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","_this$masked","updateControl","_unbindEvents","_fireEvent","ev","_len","_key","listeners","_cursorChanging","_changingCursorPos","_selection","newUnmaskedValue","newValue","newDisplayValue","isChanged","_fireChangeEvents","restOpts","updateMask","updateOpts","updateCursor","_delayUpdateCursor","_abortUpdateCursor","_inputEvent","hIndex","MaskedEnum","enum","some","_updateRegExps","allowNegative","scale","concat","radix","_numberRegExp","_mapToRadixRegExp","mapToRadix","_thousandsSeparatorRegExp","thousandsSeparator","_removeThousandsSeparators","_insertThousandsSeparators","parts","prepCh","_separatorsCount","extendOnSeparators","_separatorsCountFromSlice","_adjustRangeWithSeparators","prevBeforeTailValue","prevBeforeTailSeparatorsCount","appendDetails","beforeTailValue","beforeTailSeparatorsCount","_findSeparatorAround","searchFrom","separatorPos","separatorAroundFromPos","separatorAroundToPos","valueBeforePos","valueAfterPos","separatorAtLeftPos","separatorAtLeftEndPos","separatorAtRightPos","valid","validnum","formatted","normalizeZeros","_normalizeZeros","padFractionalZeros","_padFractionalZeros","sign","zeros","dropFractional","UNMASKED_RADIX","n","signed","toLocaleString","useGrouping","maximumFractionDigits","_excluded2","currentMask","compiledMasks","_applyDispatch","currentMaskFlags","prevValueBeforeTail","inputValue","insertValue","_rawInputValue","tailValue","prevMask","prevMaskState","doDispatch","currentMaskRef","dispatch","currentDetails","_this$currentMask","_this$currentMask2","_this$currentMask3","_this$currentMask4","mi","_mask$mi","oldMask","_this$currentMask5","inputs","isCurrent","startInputPos","weight","i1","i2","PIPE_TYPE","MASKED","UNMASKED","TYPED","createPipe","pipe","pipeArgs","globalThis","formData","formJson","stringify","fromEntries","entries","headers","response","log","catch","hidArow","slider","callBackBtn","thanksModalBtn","modalCallBackBtn","modalThanksTimeout","showModal","modal","modalHide","showThanksModal","form","FormData","productName"],"sourceRoot":""}